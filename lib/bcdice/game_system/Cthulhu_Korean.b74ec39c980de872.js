(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[7008],{9585:(O,ee,Q)=>{Q(9993),Opal.modules["bcdice/arithmetic_evaluator"]=function(e){var S,I,R,Y,w,z,T,C,y=e.module,A=e.ensure_kwargs,g=e.truthy,L=e.thrower,H=e.def,h=[],m=e.nil,u=e.$$$;return S=h,I=C=[y(h[0],"BCDice")].concat(S),T=[z=y(C[0],"ArithmeticEvaluator")].concat(I),Y=[R=e.get_singleton_class(z)].concat(T),w=e.$r(Y),H(R,"$eval",function(k,v){try{L("eval_return");var p,F=m;return null==(p=(v=A(v)).$$smap.round_type)&&(p=u(w("RoundType"),"FLOOR")),g(k)&&g(F=w("Arithmetic").$eval(k,p))?F:0}catch(B){if(B===e.t_eval_return)return B.$v;throw B}},-2)},Opal.modules["bcdice/game_system/Cthulhu"]=function(e){var v,B,Z,i,n,a,s,d,q,M,j,J,V,p,y=e.module,A=e.klass,g=e.const_set,L=e.send2,H=e.find_super,h=e.def,m=e.eqeqeq,u=e.truthy,E=e.rb_le,S=e.rb_gt,D=e.rb_plus,C=e.send,G=e.thrower,I=e.rb_divide,z=e.rb_times,T=e.rb_lt,R=e.rb_ge,N=e.rb_minus,w=[],r=e.nil;return e.top.$require("bcdice/arithmetic_evaluator"),v=w,B=p=[y(w[0],"BCDice")].concat(v),J=[y(p[0],"GameSystem")].concat(B),V=e.$r(J),Z=J,q=[d=A(J[0],V("Base"),"Cthulhu")].concat(Z),M=e.$r(q),(j=d.$$prototype).randomizer=j.locale=j.special_percentage=j.critical_percentage=j.fumble_percentage=r,g(q[0],"ID","Cthulhu"),g(q[0],"NAME","\u30af\u30c8\u30a5\u30eb\u30d5\u795e\u8a71TRPG"),g(q[0],"SORT_KEY","\u304f\u3068\u3046\u308b\u3075\u3057\u3093\u308fTRPG"),g(q[0],"HELP_MESSAGE","c=\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024 \uff0f f=\u30d5\u30a1\u30f3\u30d6\u30eb\u5024 \uff0f s=\u30b9\u30da\u30b7\u30e3\u30eb\n\n1d100<=n    c\u30fbf\u30fbs\u3059\u3079\u3066\u30aa\u30d5\uff08\u5358\u7d14\u306a\u6570\u5024\u6bd4\u8f03\u5224\u5b9a\u306e\u307f\u884c\u3044\u307e\u3059\uff09\n\n\u30fbcfs\u5224\u5b9a\u4ed8\u304d\u5224\u5b9a\u30b3\u30de\u30f3\u30c9\n\nCC\t 1d100\u30ed\u30fc\u30eb\u3092\u884c\u3046 c=1\u3001f=100\nCCB  \u540c\u4e0a\u3001c=5\u3001f=96\n\n\u4f8b\uff1aCC<=80  \uff08\u6280\u80fd\u502480\u3067\u884c\u70ba\u5224\u5b9a\u30021%\u30eb\u30fc\u30eb\u3067cf\u9069\u7528\uff09\n\u4f8b\uff1aCCB<=55 \uff08\u6280\u80fd\u502455\u3067\u884c\u70ba\u5224\u5b9a\u30025%\u30eb\u30fc\u30eb\u3067cf\u9069\u7528\uff09\n\n\u30fb\u7d44\u307f\u5408\u308f\u305b\u30ed\u30fc\u30eb\u306b\u3064\u3044\u3066\n\nCBR(x,y)\tc=1\u3001f=100\nCBRB(x,y)\tc=5\u3001f=96\n\n\u30fb\u62b5\u6297\u8868\u30ed\u30fc\u30eb\u306b\u3064\u3044\u3066\nRES(x-y)\tc=1\u3001f=100\nRESB(x-y)\tc=5\u3001f=96\n\n\u203b\u6545\u969c\u30ca\u30f3\u30d0\u30fc\u5224\u5b9a\n\n\u30fbCC(x) c=1\u3001f=100\nx=\u6545\u969c\u30ca\u30f3\u30d0\u30fc\u3002\u51fa\u76eex\u4ee5\u4e0a\u304c\u51fa\u305f\u4e0a\u3067\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u304c\u540c\u6642\u306b\u767a\u751f\u3057\u305f\u5834\u5408\u3001\u5171\u306b\u51fa\u529b\u3059\u308b\uff08\u30c6\u30ad\u30b9\u30c8\u300c\u30d5\u30a1\u30f3\u30d6\u30eb\uff06\u6545\u969c\u300d\uff09\n\u30d5\u30a1\u30f3\u30d6\u30eb\u3067\u306a\u3044\u5834\u5408\u3001\u6210\u529f\u30fb\u5931\u6557\u306b\u95a2\u308f\u3089\u305a\u30c6\u30ad\u30b9\u30c8\u300c\u6545\u969c\u300d\u306e\u307f\u3092\u51fa\u529b\u3059\u308b\uff08\u6210\u529f\u30fb\u5931\u6557\u3092\u51fa\u529b\u305b\u305a\u3001\u4e0a\u66f8\u304d\u3057\u305f\u3082\u306e\u3092\u51fa\u529b\u3059\u308b\u5f62\uff09\n\n\u30fbCCB(x) c=5\u3001f=96\n\u540c\u4e0a\n\n"),d.$register_prefix("CCB?","RESB?","CBRB?"),h(d,"$initialize",function b(c){var n=this;return b.$$p=null,L(n,H(n,"initialize",b,!1,!0),"initialize",[c],null),n.special_percentage=20,n.critical_percentage=1,n.fumble_percentage=1}),h(d,"$eval_game_system_specific_command",function(c){var n,i=this;return m(/CCB/i,n=c)?(i.critical_percentage=5,i.fumble_percentage=5,i.$getCheckResult(c)):m(/CC/i,n)?(i.critical_percentage=1,i.fumble_percentage=1,i.$getCheckResult(c)):m(/RESB/i,n)?(i.critical_percentage=5,i.fumble_percentage=5,i.$getRegistResult(c)):m(/CBRB/i,n)?(i.critical_percentage=5,i.fumble_percentage=5,i.$getCombineRoll(c)):m(/RES/i,n)?(i.critical_percentage=1,i.fumble_percentage=1,i.$getRegistResult(c)):m(/CBR/i,n)?(i.critical_percentage=1,i.fumble_percentage=1,i.$getCombineRoll(c)):r}),d.$private(),h(d,"$getCheckResult",function(c){try{G("eval_return");var n=this,a=r,s=r,l=r,t=r,$=r,f=r;return a=/^CCB?(\d+)?(?:<=([+-\/*\d]+))?$/i.$match(c),u(a)?(s=a["$[]"](1).$to_i(),l=M("ArithmeticEvaluator").$eval(a["$[]"](2)),u(E(l,0))?(t=n.randomizer.$roll_once(100),M("Result").$new("(1D100) \uff1e "+t)):($="(1D100<="+l+")",u(S(s,0))&&($=D($," "+n.$translate("Cthulhu.broken_number")+"["+s+"]")),t=n.randomizer.$roll_once(100),f=n.$compare(t,l,s),C(f.$to_result(),"tap",[],function(_){var x;return null==_&&(_=r),x=[$+" \uff1e "+t+" \uff1e "+f.$text()],C(_,"text=",x),x[x.length-1]}))):r}catch(o){if(o===e.t_eval_return)return o.$v;throw o}}),i=q,a=[n=A(q[0],null,"CompareResult")].concat(i),s=e.$r(a),n.$include(s("Translate")),n.$attr_accessor("success","failure","critical","fumble","special","broken"),h(n,"$initialize",function(t){var $=this;return $.locale=t,$.success=!1,$.failure=!1,$.critical=!1,$.fumble=!1,$.special=!1,$.broke=!1}),h(n,"$text",function(){var t=this;return u(t.$critical())&&u(t.$special())?t.$translate("Cthulhu.critical_special"):u(t.$critical())?t.$translate("Cthulhu.critical"):u(t.$special())?t.$translate("Cthulhu.special"):u(t.$success())?t.$translate("success"):u(t.$broken())&&u(t.$fumble())?t.$translate("Cthulhu.fumble")+"/"+t.$translate("Cthulhu.broken"):u(t.$broken())?t.$translate("Cthulhu.broken"):u(t.$fumble())?t.$translate("Cthulhu.fumble"):u(t.$failure())?t.$translate("failure"):r}),h(n,"$to_result",function(){return C(s("Result").$new(),"tap",[],function $(f){var o,_=null==$.$$s?this:$.$$s;return null==f&&(f=r),f["$success="](_.$success()),f["$failure="](_.$failure()),f["$critical="](_.$critical()),o=[_.$fumble()],C(f,"fumble=",o),o[o.length-1]},{$$s:this})}),h(d,"$compare",function(c,i,n){var l,a=this,s=r;return null==n&&(n=0),s=M("CompareResult").$new(a.locale),l=I(z(i,a.special_percentage),100).$to_i().$clamp(1,100),u(E(c,i))&&u(T(c,100))?(s["$success="](!0),s["$special="](E(c,l)),s["$critical="](E(c,a.critical_percentage))):(s["$failure="](!0),s["$fumble="](R(c,N(101,a.fumble_percentage)))),u(S(n,0))&&u(R(c,n))&&(s["$broken="](!0),s["$failure="](!0),s["$success="](!1),s["$special="](!1),s["$critical="](!1)),s},-3),h(d,"$getRegistResult",function(c){var i=this,n=r,a=r,s=r,l=r,t=r;return n=/^RESB?(-?\d+)$/i.$match(c),u(n)?(a=n["$[]"](1).$to_i(),s=D(z(a,5),50),u(T(s,5))?M("Result").$failure("(1d100<="+s+") \uff1e "+i.$translate("Cthulhu.automatic_failure")):u(S(s,95))?M("Result").$success("(1d100<="+s+") \uff1e "+i.$translate("Cthulhu.automatic_success")):(l=i.randomizer.$roll_once(100),t=i.$compare(l,s),C(t.$to_result(),"tap",[],function(f){var o;return null==f&&(f=r),o=["(1d100<="+s+") \uff1e "+l+" \uff1e "+t.$text()],C(f,"text=",o),o[o.length-1]}))):r}),h(d,"$getCombineRoll",function(c){var i=this,n=r,a=r,s=r,l=r,t=r,$=r,f=r;return n=/^CBR(B)?\((\d+),(\d+)\)$/i.$match(c),u(n)?(a=n["$[]"](2).$to_i(),s=n["$[]"](3).$to_i(),l=i.randomizer.$roll_once(100),t=i.$compare(l,a),$=i.$compare(l,s),f=u(t.$success())&&u($.$success())?i.$translate("success"):u(t.$success())||u($.$success())?i.$translate("Cthulhu.partial_success"):i.$translate("failure"),C(M("Result").$new(),"tap",[],function(_){var x,P=r;return null==_&&(_=r),_["$text="]("(1d100<="+a+","+s+") \uff1e "+l+"["+t.$text()+","+$.$text()+"] \uff1e "+f),_["$critical="](u(P=t.$critical())?P:$.$critical()),_["$fumble="](u(P=t.$fumble())?P:$.$fumble()),x=[u(P=t.$success())?P:$.$success()],C(_,"condition=",x),x[x.length-1]})):r})},Opal.queue(function(e){var D,z,r,k,v,R,N,G,y=e.module,A=e.klass,g=e.const_set,L=e.send2,H=e.find_super,h=e.def,u=[];return e.top.$require("bcdice/game_system/Cthulhu"),D=u,z=G=[y(u[0],"BCDice")].concat(D),R=[y(G[0],"GameSystem")].concat(z),N=e.$r(R),r=R,g((v=[k=A(R[0],N("Cthulhu"),"Cthulhu_Korean")].concat(r))[0],"ID","Cthulhu:Korean"),g(v[0],"NAME","\ud06c\ud234\ub8e8"),g(v[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ud06c\ud234\ub8e8"),g(v[0],"HELP_MESSAGE","c=\ud06c\ub9ac\ud2f0\uceec\uce58 \uff0f f=\ud38c\ube14\uce58 \uff0f s=\uc2a4\ud398\uc15c\n\n1d100<=n    c\u30fbf\u30fbs \ubaa8\ub450 \uc624\ud504\uff08\ub2e8\uc21c\ud558\uac8c \uc218\uce58\ub9cc\uc744 \ubf51\uc544\ub0bc \ub54c \uc0ac\uc6a9\uff09\n\n\u30fbcfs\uc774 \ubd99\ub294 \ud310\uc815\uc758 \ucee4\ub9e8\ub4dc\n\nCC\t 1d100 \ud310\uc815\uc744 \ud589\ud568 c=1\u3001f=100\nCCB  \uc704\uc640 \ub3d9\uc77c\u3001c=5\u3001f=96\n\n\uc608\uff1aCC<=80  \uff08\uae30\ub2a5\uce58 80\ub85c \ud589\ud718\ud310\uc815. 1%\ub8f0\uc73c\ub85c cf\uc801\uc6a9\uff09\n\uc608\uff1aCCB<=55 \uff08\uae30\ub2a5\uce58 55\ub85c \ud589\ud718\ud310\uc815. 5%\ub8f0\uc73c\ub85c cf\uc801\uc6a9\uff09\n\n\u30fb\uacbd\uc6b0\uc758 \uc218 \ud310\uc815\uc5d0 \ub300\ud574\uc11c\n\nCBR(x,y)\tc=1\u3001f=100\nCBRB(x,y)\tc=5\u3001f=96\n\n\u30fb\uc800\ud56d \ud310\uc815\uc5d0 \ub300\ud574\uc11c\nRES(x-y)\tc=1\u3001f=100\nRESB(x-y)\tc=5\u3001f=96\n\n\u203b\uace0\uc7a5 \ub118\ubc84 \ud310\uc815\n\n\u30fbCC(x) c=1\u3001f=100\nx=\uace0\uc7a5 \ub118\ubc84. \uc8fc\uc0ac\uc704 \ub208x\uc774\uc0c1\uc774 \ub098\uc628 \ud6c4\uc5d0, \ud38c\ube14\uc774 \ub3d9\uc2dc\uc5d0 \ubc1c\uc0dd\ud588\uc744 \uacbd\uc6b0. \ubaa8\ub450 \ucd9c\ub825\ud55c\ub2e4. \uff08\ud14d\uc2a4\ud2b8 \u300c\ud38c\ube14\uff06\uace0\uc7a5\u300d\uff09\n\ud38c\ube14\uc774 \uc544\ub2cc \uacbd\uc6b0, \uc131\uacf5\u30fb\uc2e4\ud328\uc5d0 \uad00\ub828\ub418\uc9c0 \uc54a\uace0 \u300c\uace0\uc7a5\u300d\ub9cc\uc744 \ucd9c\ub825\ud55c\ub2e4. \uff08\uc131\uacf5\u30fb\uc2e4\ud328\ub97c \ucd9c\ub825\ud558\uc9c0 \uc54a\uace0 \ub367\uc4f0\uae30\ud55c \uac83\uc744 \ucd9c\ub825\ud558\ub294 \ud615\ud0dc\uff09\n\n\u30fbCCB(x) c=5\u3001f=96\n\uc704\uc640 \ub3d9\uc77c\n"),k.$register_prefix_from_super_class(),h(k,"$initialize",function K(p){var B=this;return K.$$p=null,L(B,H(B,"initialize",K,!1,!0),"initialize",[p],null),B.locale="ko_kr"})})}}]);