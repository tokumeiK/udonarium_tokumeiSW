(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[5405],{4028:(N,Y,R)=>{R(9993),Opal.queue(function(t){var D,G,K,o,m,g,x,j,y,q=t.module,P=t.klass,d=t.const_set,E=t.eqeqeq,l=t.truthy,w=t.send,s=t.rb_plus,b=t.def,h=t.eqeq,C=t.rb_ge,V=t.rb_lt,p=[],e=t.nil;return D=p,G=y=[q(p[0],"BCDice")].concat(D),x=[q(y[0],"GameSystem")].concat(G),j=t.$r(x),K=x,m=[o=P(x[0],j("Base"),"TherapieSein")].concat(K),g=t.$r(m),o.$$prototype.randomizer=e,d(m[0],"ID","TherapieSein"),d(m[0],"NAME","\u30bb\u30e9\u30d5\u30a3\u30b6\u30a4\u30f3"),d(m[0],"SORT_KEY","\u305b\u3089\u3075\u3044\u3055\u3044\u3093"),d(m[0],"HELP_MESSAGE","\u30fb\u4e00\u822c\u5224\u5b9a\uff1aTS[n][\xb1m][@t]\u3000\u3000[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\u80fd\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u7121\u3002\n\u30fb\u6226\u95d8\u5224\u5b9a\uff1aOP[n][\xb1m][@t]\u3000\u3000[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\u80fd\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u6709\u3002\n\n\u300cn\u300d\u3067\u80fd\u529b\u5024\u4fee\u6b63\u306a\u3069\u3092\u6307\u5b9a\u3002\n\u300c\xb1m\u300d\u3067\u9054\u6210\u5024\u3078\u306e\u4fee\u6b63\u5024\u3092\u8ffd\u52a0\u6307\u5b9a\u3002+5+1-3\u306e\u3088\u3046\u306b\u3001\u8907\u6570\u6307\u5b9a\u3082\u53ef\u80fd\u3067\u3059\u3002\n\u300c@t\u300d\u3067\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u9054\u6210\u5024\u306e\u307f\u8868\u793a\u3001\u6307\u5b9a\u6642\u306f\u5224\u5b9a\u306e\u6b63\u5426\u3092\u8ffd\u52a0\u8868\u793a\u3002\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n\u30fbTS \u2192 \u30c0\u30a4\u30b9\u306e\u5408\u8a08\u5024\u3092\u9054\u6210\u5024\u3068\u3057\u3066\u8868\u793a\u3002\n\u30fbTS4 \u2192 \u30c0\u30a4\u30b9\u5408\u8a08+4\u3092\u9054\u6210\u5024\u8868\u793a\u3002\n\u30fbTS4-1 \u2192 \u30c0\u30a4\u30b9\u5408\u8a08+4-1\uff08\u8a08+3\uff09\u3092\u9054\u6210\u5024\u8868\u793a\u3002\n\u30fbTS2+1@10 \u2192 \u30c0\u30a4\u30b9\u5408\u8a08+2+1\uff08\u8a08+3\uff09\u306e\u9054\u6210\u5024\u3068\u3001\u5224\u5b9a\u306e\u6210\u5426\u3092\u8868\u793a\u3002\n\u30fbOP4+3+1 \u2192 \u30c0\u30a4\u30b9\u5408\u8a08+4+3+1\uff08\u8a08+8\uff09\u3092\u9054\u6210\u5024\uff06\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u8868\u793a\u3002\n\u30fbOP3@12 \u2192 \u30c0\u30a4\u30b9\u5408\u8a08+3\u306e\u9054\u6210\u5024\uff06\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u5224\u5b9a\u306e\u6210\u5426\u3092\u8868\u793a\u3002\n"),o.$register_prefix("TS","OP"),b(o,"$eval_game_system_specific_command",function(r){var _=e,u=e,c=e,$=e,f=e;return E(/(TS|OP)(\d+)?(([+-]\d+)*)(@(\d+))?$/i,r.$upcase())?(_=g("Regexp").$last_match(1)["$=="]("OP"),u=(l(c=g("Regexp").$last_match(6))?c:0).$to_i(),$=(l(c=g("Regexp").$last_match(2))?c:0).$to_i(),f=g("Regexp").$last_match(3).$scan(/[+-]\d+/),w(f,"each",[],function(k){return null==k&&(k=e),$=s($,k.$to_i())}),this.$checkRoll(_,$,u)):e}),b(o,"$checkRoll",function(r,T,i){var u,c,$,a,f,_=e,n=e;return u=(_=this.randomizer.$roll_barabara(2,6)).$sum(),c=_.$join(","),$=s(u,T),a=this.$getValueText(T),f=h(i,0)?"":">="+i,n=s(n="(2D6"+a+f+")"," \uff1e "+u+"("+c+")"+a),l(r)&&h(u,12)?n=s(n," \uff1e \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\uff01"):(n=s(n," \uff1e "+$+f),h(i,0)||(n=l(C($,i))?s(n," \uff1e \u3010\u6210\u529f\u3011"):s(n," \uff1e \u3010\u5931\u6557\u3011")),n)}),b(o,"$getValueText",function(r){return h(r,0)?"":l(V(r,0))?r.$to_s():"+"+r})})}}]);