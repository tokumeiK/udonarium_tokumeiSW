(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[1795],{2118:(H,L,K)=>{K(9993),Opal.modules["bcdice/game_system/Bloodorium"]=function(e){var F,m,Y,s,d,y,R,G,P,b,c=e.module,C=e.klass,t=e.const_set,a=e.def,l=e.hash2,v=e.truthy,$=e.send,q=e.rb_plus,D=e.rb_times,i=e.rb_gt,w=e.neqeq,p=[],r=e.nil,_=e.$$$;return F=p,m=b=[c(p[0],"BCDice")].concat(F),G=[c(b[0],"GameSystem")].concat(m),P=e.$r(G),Y=G,d=[s=C(G[0],P("Base"),"Bloodorium")].concat(Y),y=e.$r(d),(R=s.$$prototype).round_type=R.randomizer=r,t(d[0],"ID","Bloodorium"),t(d[0],"NAME","\u30d6\u30e9\u30c9\u30ea\u30a6\u30e0"),t(d[0],"SORT_KEY","\u3075\u3089\u3068\u308a\u3046\u3080"),t(d[0],"HELP_MESSAGE","\u30fb\u30c0\u30a4\u30b9\u30c1\u30a7\u30c3\u30af xDC+y\n\u3000\u3010\u30c0\u30a4\u30b9\u30c1\u30a7\u30c3\u30af\u3011\u3092\u884c\u3046\u3002\u300a\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u300b\u3092\u7d50\u679c\u306b\u81ea\u52d5\u53cd\u6620\u3059\u308b\u3002\n\u3000x: \u30c0\u30a4\u30b9\u6570\n\u3000y: \u7d50\u679c\u3078\u306e\u4fee\u6b63\u5024 \uff08\u7701\u7565\u53ef\uff09\n"),s.$register_prefix("\\d+DC"),a(s,"$eval_game_system_specific_command",function(f){return this.$dicecheck(f)}),s.$private(),a(s,"$dicecheck",function(f){var o=this,n=r,k=r,x=r,z=r,u=r,M=r,I=r;return n=_(y("Command"),"Parser").$new("DC",l(["round_type"],{round_type:o.round_type})).$has_prefix_number().$restrict_cmp_op_to(r).$parse(f),v(n)?(x=(k=o.randomizer.$roll_barabara(n.$prefix_number(),6).$sort()).$max(),z=$($(k,"group_by",[],"itself".$to_proc()),"transform_values",[],"length".$to_proc()),u=z.$values().$max(),M=q(D(x,u),n.$modify_number()),I=["("+n+")","["+k.$join(",")+"]"+y("Format").$modifier(n.$modify_number()),v(i(u,1))?"\u300a\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u300b(*"+u+")":r,w(M,x)?o.$total_expr(x,u,n.$modify_number()):r,M].$compact(),$(y("Result").$new(),"tap",[],function(E){var B;return null==E&&(E=r),E["$critical="](i(u,1)),B=[I.$join(" \uff1e ")],$(E,"text=",B),B[B.length-1]})):r}),a(s,"$total_expr",function(f,o,h){return""+f+(v(i(o,1))?"*"+o:r)+y("Format").$modifier(h)})},Opal.queue(function(e){var q,p,b,g,m,_,S,i,c=e.module,C=e.klass,t=e.const_set,l=[];return e.top.$require("bcdice/game_system/Bloodorium"),q=l,p=i=[c(l[0],"BCDice")].concat(q),_=[c(i[0],"GameSystem")].concat(p),S=e.$r(_),b=_,t((m=[g=C(_[0],S("Bloodorium"),"WorldsEndFrontline")].concat(b))[0],"ID","WorldsEndFrontline"),t(m[0],"NAME","\u30ef\u30fc\u30eb\u30c9\u30a8\u30f3\u30c9\u30d5\u30ed\u30f3\u30c8\u30e9\u30a4\u30f3"),t(m[0],"SORT_KEY","\u308f\u3042\u308b\u3068\u3048\u3093\u3068\u3075\u308d\u3093\u3068\u3089\u3044\u3093"),g.$register_prefix_from_super_class()})}}]);