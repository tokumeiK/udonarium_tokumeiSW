(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[7155],{7945:(Q,W,H)=>{H(9993),Opal.queue(function(a){var p,w,P,i,_,g,v,K,I,T=a.module,M=a.klass,d=a.const_set,y=a.eqeqeq,o=a.def,R=a.truthy,z=a.rb_le,h=a.rb_plus,D=a.rb_minus,U=a.rb_gt,x=a.rb_lt,S=a.send,V=a.to_ary,G=[],e=a.nil;return p=G,w=I=[T(G[0],"BCDice")].concat(p),v=[T(I[0],"GameSystem")].concat(w),K=a.$r(v),P=v,_=[i=M(v[0],K("Base"),"HouraiGakuen")].concat(P),g=a.$r(_),i.$$prototype.randomizer=e,d(_[0],"ID","HouraiGakuen"),d(_[0],"NAME","\u84ec\u83b1\u5b66\u5712\u306e\u5192\u967a!!"),d(_[0],"SORT_KEY","\u307b\u3046\u3089\u3044\u304b\u304f\u3048\u3093\u306e\u307b\u3046\u3051\u3093"),d(_[0],"HELP_MESSAGE","\u30fb\u57fa\u672c\u30ed\u30fc\u30eb\uff1aROL(x+n)\n  ROLL(\u81ea\u5206\u306e\u80fd\u529b\u5024 + \u7c21\u5358\u5024 + \u5fdc\u77f3 or \u84ec\u83b1\u30d1\u30ef\u30fc)\u3068\u8a18\u8ff0\u3057\u307e\u3059\u30023D6\u3092\u30ed\u30fc\u30eb\u3057\u3001\u6210\u529f\u3057\u305f\u304b\u3069\u3046\u304b\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n  \u4f8b\uff09ROL(4+6)\n\u30fb\u5bfe\u4eba\u5224\u5b9a\uff1aMED(x,y)\n  \u81ea\u5206\u306e\u80fd\u529b\u5024 x \u3068 \u76f8\u624b\u306e\u80fd\u529b\u5024 y \u3067\u30ed\u30fc\u30eb\u3092\u884c\u3044\u3001\u6210\u529f\u3057\u305f\u304b\u3069\u3046\u304b\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n  \u4f8b\uff09MED(5,2)\n\u30fb\u5bfe\u6297\u5224\u5b9a\uff1aRES(x,y)\n  \u81ea\u5206\u306e\u80fd\u529b\u5024 x \u3068 \u76f8\u624b\u306e\u80fd\u529b\u5024 y \u3067\u76f8\u4e92\u306b\u30ed\u30fc\u30eb\u3057\u3001\u3069\u3061\u3089\u304c\u6210\u529f\u3057\u305f\u304b\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u4e21\u8005\u3068\u3082\u6210\u529f or \u5931\u6557\u306e\u5834\u5408\u306f\u5f15\u304d\u5206\u3051\u3068\u306a\u308a\u307e\u3059\u3002\n  \u4f8b\uff09RES(6,4)\n\u30fb\u9670\u967d\u30b3\u30de\u30f3\u30c9 INY\n  \u4f8b\uff09Hourai : \u967d\uff08\u5947\u6570\u306e\u65b9\u304c\u591a\u3044\uff09\n\u30fb\u4e94\u884c\u30b3\u30de\u30f3\u30c9\uff1aGOG\n  \u4f8b\uff09Hourai : \u4e94\u884c\u8868(3) \u2192 \u4e94\u884c\u3010\u571f\u3011\n\u30fb\u516b\u5fb3\u30b3\u30de\u30f3\u30c9\uff1aHTK\n  \u4f8b\uff09Hourai : \u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u7fa9\u3011(\u5947\u6570\u3001\u5947\u6570\u3001\u5076\u6570)\n"),i.$register_prefix("ROL","MED","RES","INY","HTK","GOG"),o(i,"$eval_game_system_specific_command",function(u){var n,t=this;return y(/^ROL/i,n=u)?t.$getRollResult(u):y(/^MED/i,n)?t.$getMedResult(u):y(/^RES/i,n)?t.$getResResult(u):y(/^INY/i,n)?t.$getInnyouResult(u):y(/^HTK/i,n)?t.$getHattokuResult(u):y(/^GOG$/i,n)?t.$getGogyouResult(u):e}),d(_[0],"CRITICAL","\u5927\u6210\u529f"),d(_[0],"SUCCESS","\u6210\u529f"),d(_[0],"FAILURE","\u5931\u6557"),d(_[0],"FUMBLE","\u5927\u5931\u6557"),o(i,"$getRollResult",function(u){var n=e,r=e,s=e;return R(/rol([-\d]+)/i["$=~"](u))?(n=g("Regexp").$last_match(1).$to_i(),s=(r=this.randomizer.$roll_barabara(3,6)).$sum(),"(3d6<="+n+") \uff1e \u51fa\u76ee"+r.$join(",")+"\uff1d\u5408\u8a08"+s+" \uff1e "+this.$getCheckResult(r,s,n)):e}),o(i,"$getCheckResult",function(u,t,n){return u=u.$sort(),R(this.$isFamble(u))?g("FUMBLE"):R(this.$isCritical(u))?g("CRITICAL"):R(z(t,n))?g("SUCCESS"):g("FAILURE")}),o(i,"$isFamble",function(u){return u["$=="]([6,6,6])}),o(i,"$isCritical",function(u){return u["$=="]([1,2,3])}),o(i,"$getMedResult",function(u){var t=this,n=e,r=e,s=e,$=e,l=e;return R(/med\((\d+),(\d+)\)/i["$=~"](u))?(n=g("Regexp").$last_match(1).$to_i(),r=g("Regexp").$last_match(2).$to_i(),s=t.$getTargetFromValue(n,r),l=($=t.randomizer.$roll_barabara(3,6)).$sum(),"(\u3042\u306a\u305f\u306e\u5024"+n+"\u3001\u76f8\u624b\u306e\u5024"+r+"\u30013d6<="+s+") \uff1e \u51fa\u76ee"+$.$join(",")+"\uff1d\u5408\u8a08"+l+" \uff1e "+t.$getCheckResult($,l,s)):e}),o(i,"$getTargetFromValue",function(u,t){return h(u,D(10,t))}),o(i,"$getResResult",function(u){var t=this,n=e,r=e,s=e,$=e,l=e,f=e,m=e,b=e,k=e,F=e,C=e,E=e;return R(/res\((\d+),(\d+)\)/i["$=~"](u))?(n=g("Regexp").$last_match(1).$to_i(),r=g("Regexp").$last_match(2).$to_i(),s=t.$getTargetFromValue(n,r),$=t.$getTargetFromValue(r,n),f=(l=t.randomizer.$roll_barabara(3,6)).$sum(),m=l.$join(","),k=(b=t.randomizer.$roll_barabara(3,6)).$sum(),F=b.$join(","),"\u3042\u306a\u305f\u306e\u5024"+n+"\u3001\u76f8\u624b\u306e\u5024"+r+"\n(\u3042\u306a\u305f\u306e\u30ed\u30fc\u30eb 3d6<="+s+") \uff1e "+m+"="+f+" \uff1e "+(C=t.$getCheckResult(l,f,s))+"\n(\u76f8\u624b\u306e\u30ed\u30fc\u30eb 3d6<="+$+") \uff1e "+F+"="+k+" \uff1e "+(E=t.$getCheckResult(b,k,$))+"\n\uff1e"+t.$getResistCheckResult(C,E)):e}),o(i,"$getResistCheckResult",function(u,t){var r,s;return r=this.$getResultRank(u),s=this.$getResultRank(t),R(U(r,s))?"\u3042\u306a\u305f\u304c\u52dd\u5229":R(x(r,s))?"\u76f8\u624b\u304c\u52dd\u5229":"\u5f15\u304d\u5206\u3051"}),o(i,"$getResultRank",function(u){return[g("FUMBLE"),g("FAILURE"),g("SUCCESS"),g("CRITICAL")].$index(u)}),o(i,"$getInnyouResult",function(u){var n=e,r=e;return n=0,r=0,S(3,"times",[],function s(){var $=null==s.$$s?this:s.$$s,l=e;return null==$.randomizer&&($.randomizer=e),l=$.randomizer.$roll_once(6),R(l["$even?"]())?r=h(r,1):n=h(n,1)},{$$s:this}),R(x(r,n))?"\u967d\uff08\u5947\u6570\u306e\u65b9\u304c\u591a\u3044\uff09":"\u9670\uff08\u5076\u6570\u306e\u65b9\u304c\u591a\u3044\uff09"}),o(i,"$getHattokuResult",function(u){var r,n=e;switch(n=[],S(3,"times",[],function s(){return n["$<<"]((null==s.$$s?this:s.$$s).$getOddEven())},{$$s:this}),r=n.$join("\u3001")){case"\u5947\u6570\u3001\u5947\u6570\u3001\u5947\u6570":return"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u4ec1\u3011("+r+")";case"\u5947\u6570\u3001\u5947\u6570\u3001\u5076\u6570":return"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u7fa9\u3011("+r+")";case"\u5947\u6570\u3001\u5076\u6570\u3001\u5947\u6570":return"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u793c\u3011("+r+")";case"\u5947\u6570\u3001\u5076\u6570\u3001\u5076\u6570":return"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u667a\u3011("+r+")";case"\u5076\u6570\u3001\u5947\u6570\u3001\u5947\u6570":return"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u5fe0\u3011("+r+")";case"\u5076\u6570\u3001\u5947\u6570\u3001\u5076\u6570":return"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u4fe1\u3011("+r+")";case"\u5076\u6570\u3001\u5076\u6570\u3001\u5947\u6570":return"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u5b5d\u3011("+r+")";case"\u5076\u6570\u3001\u5076\u6570\u3001\u5076\u6570":return"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u608c\u3011("+r+")";default:return"\u7570\u5e38\u7d42\u4e86"}}),o(i,"$getOddEven",function(){var t=e;return t=this.randomizer.$roll_once(6),R(t["$even?"]())?"\u5076\u6570":"\u5947\u6570"}),o(i,"$getGogyouResult",function(u){var t,n,$;return $=this.$getGogyouTable(),n=this.$get_table_by_1d6($),"\u4e94\u884c\u8868("+(null==(t=V(n))[1]?e:t[1])+") \uff1e "+(null==t[0]?e:t[0])}),o(i,"$getGogyouTable",function(){return["\u4e94\u884c\u3010\u6728\u3011","\u4e94\u884c\u3010\u706b\u3011","\u4e94\u884c\u3010\u571f\u3011","\u4e94\u884c\u3010\u91d1\u3011","\u4e94\u884c\u3010\u6c34\u3011","\u4e94\u884c\u306f\u3010\u4efb\u610f\u9078\u629e\u3011"]})})}}]);