(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[6968],{5757:(X,Z,I)=>{I(9993),Opal.queue(function(n){var U,H,V,u,o,e,S,P,z,s=n.module,C=n.klass,c=n.const_set,t=n.truthy,b=n.def,x=n.rb_plus,D=n.rb_ge,h=n.send,J=n.thrower,T=n.hash2,g=n.range,G=[],$=n.nil,j=n.$$$;return U=G,H=z=[s(G[0],"BCDice")].concat(U),S=[s(z[0],"GameSystem")].concat(H),P=n.$r(S),V=S,o=[u=C(S[0],P("Base"),"Aoharubaan")].concat(V),e=n.$r(o),u.$$prototype.randomizer=$,c(o[0],"ID","Aoharubaan"),c(o[0],"NAME","\u3042\u304a\u306f\u308b\u3070\u30fc\u3093\u3063"),c(o[0],"SORT_KEY","\u3042\u304a\u306f\u308b\u306f\u3042\u3093\u3064"),c(o[0],"HELP_MESSAGE","\u30ab\u30ec\u30ab\u30ce\u53cd\u5fdc\u8868\uff08 KR, KReaction \uff09\n"),c(o[0],"JUDGE_ROLL_REG",/^(1d6?|d6)(\+\d+)?(>=|=>)(\d+)$/i.$freeze()),u.$register_prefix("(1d6?|d6)(\\+\\d+)?(>=|=>)(\\d+)"),b(u,"$eval_game_system_specific_command",function(r){var a,i=$;return r=t(a=e("ALIAS")["$[]"](r))?a:r,t(i=e("JUDGE_ROLL_REG").$match(r))?this.$roll_judge(i["$[]"](2),i["$[]"](4)):this.$roll_tables(r,e("TABLES"))}),u.$private(),b(u,"$roll_judge",function(r,f){try{J("eval_return");var l,m,p,k,w,K,d=$,R=$,_=$,A=$,v=$;return d=t(r)?e("Arithmetic").$eval(r,j(e("RoundType"),"FLOOR")):$,l=f.$to_i(),m=this.$make_command_text(d,l),p=this.randomizer.$roll_once(6),R=x(p,d.$to_i()),k=D(R,l),w=t(_=k)?R["$=="](l):_,K=t(_=k)?D(R,7):_,(A=[])["$<<"](t(k)?"\u6210\u529f":"\u5931\u6557"),t(w)&&A["$<<"]("\u30d4\u30bf\u30ea\u8cde"),t(K)&&A["$<<"]("\u9650\u754c\u7a81\u7834"),(v=[])["$<<"](m),t(d)&&v["$<<"](p+"+"+d),v["$<<"](R),v["$<<"](A.$join(" \uff06 ")),h(e("Result").$new(v.$join(" \uff1e ")),"tap",[],function(E){var L;return null==E&&(E=$),E["$condition="](k),L=[t(_=w)?_:K],h(E,"critical=",L),L[L.length-1]})}catch(y){if(y===n.t_eval_return)return y.$v;throw y}}),b(u,"$make_command_text",function(r,f){var a=$;return a="1D6",t(r)&&(a=a+"+"+r),"("+(a=a+">="+f)+")"}),c(o[0],"ALIAS",h(h(T(["KR"],{KR:"KReaction"}),"transform_keys",[],"upcase".$to_proc()),"transform_values",[],"upcase".$to_proc()).$freeze()),c(o[0],"TABLES",h(T(["KReaction"],{KReaction:j(e("DiceTable"),"RangeTable").$new("\u30ab\u30ec\u30ab\u30ce\u53cd\u5fdc\u8868","1D6",[[g(1,2,!1),"\u4f55\u3068\u306a\u304f\u7d20\u3063\u6c17\u306a\u3044\u6c17\u304c\u3059\u308b\u3002"],[g(3,4,!1),"\u3044\u3064\u3082\u3068\u5909\u308f\u3089\u306a\u3044\u5b89\u5fc3\u611f\u3002"],[g(5,6,!1),"\u4f55\u6545\u3060\u304b\u3059\u3054\u304f\u30c7\u30ec\u3066\u304d\u305f\uff01\u3000\u5b09\u3057\u304f\u3066\u3008\u30c6\u30f3\u30b7\u30e7\u30f3\u3009\uff11\u56de\u5fa9\u3002"]])}),"transform_keys",[],"upcase".$to_proc()).$freeze()),u.$register_prefix(e("ALIAS").$keys(),e("TABLES").$keys())})}}]);