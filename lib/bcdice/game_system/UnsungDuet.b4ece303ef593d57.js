(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[1209],{6694:(he,be,me)=>{me(9993),Opal.modules["i18n/backend/fallbacks"]=function(e){var W,t,r,$,a,f,M=e.module,H=e.class_variable_set,u=e.truthy,P=e.class_variable_get,x=e.def,E=e.send,F=e.send2,q=e.find_super,S=e.hash2,C=e.find_block_super,R=e.neqeq,U=e.thrower,j=e.return_val,B=[],L=e.nil,k=e.$$$;return W=B,f=[a=M(B[0],"I18n")].concat(W),H(f[0],"@@fallbacks",L),t=e.get_singleton_class(a),r=[t].concat(f),$=e.$r(r),x(t,"$fallbacks",function(){var p=L;return H(r[1],"@@fallbacks",u(null!=r[1].$$cvars["@@fallbacks"]?"class variable":L)&&u(p=P(r[1],"@@fallbacks",!1))?p:k(k($("I18n"),"Locale"),"Fallbacks").$new()),u(p=$("Thread").$current()["$[]"]("i18n_fallbacks"))?p:P(r[1],"@@fallbacks",!1)}),x(t,"$fallbacks=",function(I){var p;return H(r[1],"@@fallbacks",u(I["$is_a?"]($("Array")))?k(k($("I18n"),"Locale"),"Fallbacks").$new(I):I),p=["i18n_fallbacks",P(r[1],"@@fallbacks",!1)],E($("Thread").$current(),"[]=",p),p[p.length-1]}),function(t,D){var I,p,v,o,$=[M(t,"Backend")].concat(D);return I=$,v=[p=M($[0],"Fallbacks")].concat(I),o=e.$r(v),x(p,"$translate",function y(l,h,s){try{var b=U("return"),_=y.$$p||L,z=this,T=L,g=L;return y.$$p=null,null==s&&(s=o("EMPTY_HASH")),u(s.$fetch("fallback",!0))?u(s["$[]"]("fallback_in_progress"))?F(z,q(z,"translate",y,!1,!0),"translate",[l,h,s],_):(u(s["$[]"]("default"))&&(T=z["$extract_non_symbol_default!"](s)),g=s.$merge(S(["fallback_in_progress"],{fallback_in_progress:!0})),E(o("I18n").$fallbacks()["$[]"](l),"each",[],function c(w){var n=null==c.$$s?this:c.$$s;null==w&&(w=L);try{return E(n,"catch",["exception"],function d(){var i=null==d.$$s?this:d.$$s,K=L;if(K=F(i,C(i,"translate",d.$$def||c.$$def||y,!1,!1),"translate",[w,h,g],null),u(K["$nil?"]()))return L;R(l.$to_s(),w.$to_s())&&i.$on_fallback(l,w,h,s),b.$throw(K)},{$$s:n,$$ret:b})}catch(d){if(!e.rescue(d,[k(o("I18n"),"InvalidLocale")]))throw d;try{return L}finally{e.pop_exception()}}},{$$s:z}),u(s["$key?"]("default"))&&u(s["$[]"]("default")["$nil?"]())?L:u(T)?F(z,q(z,"translate",y,!1,!0),"translate",[l,L,s.$merge(S(["default"],{default:T}))],null):z.$throw("exception",k(o("I18n"),"MissingTranslation").$new(l,h,s))):F(z,q(z,"translate",y,!1,!0),"translate",[l,h,s],_)}catch(c){if(c===b)return c.$v;throw c}},-3),x(p,"$extract_non_symbol_default!",function(l){var s,h=L;return h=[l["$[]"]("default")].$flatten(),s=E(h,"detect",[],function(_){return null==_&&(_=L),_["$is_a?"](o("Symbol"))["$!"]()}),u(s)&&l["$[]="]("default",h["$[]"](0,h.$index(s))),s}),x(p,"$exists?",function y(l,h,s){try{var b=U("return"),_=y.$$p||L,z=this;return y.$$p=null,null==s&&(s=o("EMPTY_HASH")),u(s.$fetch("fallback",!0))?(E(o("I18n").$fallbacks()["$[]"](l),"each",[],function T(g){var c=null==T.$$s?this:T.$$s;null==g&&(g=L);try{if(!u(F(c,C(c,"exists?",T.$$def||y,!1,!1),"exists?",[g,h],null)))return L;b.$throw(!0)}catch(w){if(!e.rescue(w,[k(o("I18n"),"InvalidLocale")]))throw w;try{return L}finally{e.pop_exception()}}},{$$s:z,$$ret:b}),!1):F(z,q(z,"exists?",y,!1,!0),"exists?",[l,h,s],_)}catch(T){if(T===b)return T.$v;throw T}},-3),p.$private(),x(p,"$on_fallback",j(L))}(f[0],f)},Opal.modules["bcdice/randomizer"]=function(e){var a,m,I,p,v,o,t,D,H=e.klass,u=e.const_set,P=e.def,x=e.truthy,E=e.rb_gt,F=e.rb_plus,q=e.rb_le,S=e.send,C=e.rb_minus,R=e.eqeq,U=e.rb_times,j=e.eqeqeq,B=e.rb_ge,L=[],k=e.nil,V=e.$$$;return a=L,t=[(0,e.module)(L[0],"BCDice")].concat(a),D=e.$r(t),m=t,p=[I=H(t[0],null,"Randomizer")].concat(m),v=e.$r(p),(o=I.$$prototype).rand_results=o.detailed_rand_results=k,u(p[0],"UPPER_LIMIT_DICE_TIMES",200),u(p[0],"UPPER_LIMIT_DICE_SIDES",1e4),u(p[0],"UPPER_LIMIT_RANDS",1e4),P(I,"$initialize",function(){return this.rand_results=[],this.detailed_rand_results=[]}),I.$attr_reader("rand_results"),I.$attr_reader("detailed_rand_results"),u(p[0],"DetailedRandResult",v("Struct").$new("kind","sides","value")),P(I,"$roll_barabara",function(l,h){var s=this;return x(E(F(s.rand_results.$size(),l),v("UPPER_LIMIT_RANDS")))&&s.$raise(v("TooManyRandsError")),x(q(l,0))||x(E(l,v("UPPER_LIMIT_DICE_TIMES")))?[]:S(v("Array"),"new",[l],function b(){return(null==b.$$s?this:b.$$s).$roll_once(h)},{$$s:s})}),P(I,"$roll_sum",function(l,h){return this.$roll_barabara(l,h).$sum()}),P(I,"$roll_once",function(l){var s=k;return x(q(l,0))||x(E(l,v("UPPER_LIMIT_DICE_SIDES")))?0:(s=this.$rand_inner(l),this.$push_to_detail("normal",l,s),s)}),P(I,"$roll_index",function(l){return C(this.$roll_once(l),1)}),P(I,"$roll_tens_d10",function(){var s,h=k;return h=this.$rand_inner(10),R(h,10)&&(h=0),s=U(h,10),this.$push_to_detail("tens_d10",10,s),s}),P(I,"$roll_d9",function(){var h;return h=C(this.$rand_inner(10),1),this.$push_to_detail("d9",10,h),h}),P(I,"$roll_d66",function(l){var b,s=k;return s=S(v("Array"),"new",[2],function _(){return(null==_.$$s?this:_.$$s).$roll_once(6)},{$$s:this}),j(V(v("D66SortType"),"ASC"),b=l)?s["$sort!"]():j(V(v("D66SortType"),"DESC"),b)&&s["$sort!"]()["$reverse!"](),F(U(s["$[]"](0),10),s["$[]"](1))}),I.$private(),P(I,"$rand_inner",function(l){var s,h=this;return x(B(h.rand_results.$size(),v("UPPER_LIMIT_RANDS")))&&h.$raise(v("TooManyRandsError")),s=h.$random(l),h.rand_results["$<<"]([s,l]),s}),P(I,"$random",function(l){return F(v("Kernel").$rand(l),1)}),P(I,"$push_to_detail",function(l,h,s){var _;return _=v("DetailedRandResult").$new(l,h,s),this.detailed_rand_results.$push(_)}),H(t[0],D("StandardError"),"TooManyRandsError"),k},Opal.modules["bcdice/dice_table/roll_result"]=function(e){var S,j,W,a,f,t,D,L,R,M=e.module,H=e.klass,u=e.def,P=e.truthy,x=e.return_val,E=[],F=e.nil;return S=E,j=R=[M(E[0],"BCDice")].concat(S),W=L=[M(R[0],"DiceTable")].concat(j),f=[a=H(L[0],null,"RollResult")].concat(W),t=e.$r(f),(D=a.$$prototype).table_name=D.value=D.body=F,u(a,"$initialize",function($,m,I){var p=this;return p.table_name=$,p.value=m,p.body=I}),a.$attr_reader("table_name"),a.$attr_reader("value"),a.$attr_reader("body"),u(a,"$to_s",function(){var $=this;return $.table_name+"("+$.value+") \uff1e "+$.body}),u(a,"$last_body",function(){var $=this;return P($.body["$is_a?"](t("RollResult")))?$.body.$last_body():$.body}),u(a,"$empty?",x(!1))},Opal.modules["bcdice/dice_table/chain_table"]=function(e){var S,j,W,a,f,t,D,L,R,M=e.module,H=e.klass,u=e.truthy,P=e.def,x=e.rb_minus,E=[],F=e.nil;return S=E,j=R=[M(E[0],"BCDice")].concat(S),W=L=[M(R[0],"DiceTable")].concat(j),f=[a=H(L[0],null,"ChainTable")].concat(W),t=e.$r(f),(D=a.$$prototype).times=D.sides=D.items=D.name=F,P(a,"$initialize",function($,m,I){var p=this,v=F;return p.name=$,p.items=I.$freeze(),v=/(\d+)D(\d+)/i.$match(m),u(v)||p.$raise(t("ArgumentError"),"Unexpected table type: "+m),p.times=v["$[]"](1).$to_i(),p.sides=v["$[]"](2).$to_i()}),P(a,"$roll",function($){var I,p,m=this,v=F;return I=$.$roll_sum(m.times,m.sides),p=x(I,m.times),v=m.items["$[]"](p),u(v["$respond_to?"]("roll"))&&(v=v.$roll($)),t("RollResult").$new(m.name,I,v)})},Opal.modules["bcdice/dice_table/d66_grid_table"]=function(e){var U,k,t,D,r,$,m,W,B,M=e.module,H=e.klass,u=e.hash2,P=e.defs,x=e.def,E=e.rb_plus,F=e.rb_times,q=e.rb_minus,S=[],C=e.nil;return U=S,k=B=[M(S[0],"BCDice")].concat(U),t=W=[M(B[0],"DiceTable")].concat(k),r=[D=H(W[0],null,"D66GridTable")].concat(t),$=e.$r(r),(m=D.$$prototype).name=m.items=C,P(D,"$from_i18n",function(p,v){var y=C;return y=$("I18n").$t(p,u(["locale","raise"],{locale:v,raise:!0})),this.$new(y["$[]"]("name"),y["$[]"]("items"))}),x(D,"$initialize",function(p,v){return this.name=p,this.items=v.$freeze()}),x(D,"$roll",function(p){var o,y,l,h,s;return o=p.$roll_once(6),y=p.$roll_once(6),l=E(F(o,10),y),h=q(o,1),s=q(y,1),$("RollResult").$new(this.name,l,this.items["$[]"](h)["$[]"](s))})},Opal.modules["bcdice/dice_table/d66_half_grid_table"]=function(e){var C,B,f,t,D,r,k,V,U,M=e.module,H=e.klass,u=e.hash2,P=e.defs,x=e.def,F=[],q=e.nil;return e.top.$require("bcdice/dice_table/d66_grid_table"),C=F,B=U=[M(F[0],"BCDice")].concat(C),k=[M(U[0],"DiceTable")].concat(B),V=e.$r(k),f=k,D=[t=H(k[0],V("D66GridTable"),"D66HalfGridTable")].concat(f),r=e.$r(D),P(t,"$from_i18n",function(m,I){var v=q;return v=r("I18n").$t(m,u(["locale","raise"],{locale:I,raise:!0})),this.$new(v["$[]"]("name"),v["$[]"]("items_1_2_3"),v["$[]"]("items_4_5_6"))}),x(t,"$initialize",function(m,I,p){return this.name=m,this.items=[I,I,I,p,p,p].$freeze()})},Opal.modules["bcdice/dice_table/d66_one_third_table"]=function(e){var C,B,f,t,D,r,k,V,U,M=e.module,H=e.klass,u=e.hash2,P=e.defs,x=e.def,F=[],q=e.nil;return e.top.$require("bcdice/dice_table/d66_grid_table"),C=F,B=U=[M(F[0],"BCDice")].concat(C),k=[M(U[0],"DiceTable")].concat(B),V=e.$r(k),f=k,D=[t=H(k[0],V("D66GridTable"),"D66OneThirdTable")].concat(f),r=e.$r(D),P(t,"$from_i18n",function(m,I){var v=q;return v=r("I18n").$t(m,u(["locale","raise"],{locale:I,raise:!0})),this.$new(v["$[]"]("name"),v["$[]"]("items_1_2"),v["$[]"]("items_3_4"),v["$[]"]("items_5_6"))}),x(t,"$initialize",function(m,I,p,v){return this.name=m,this.items=[I,I,p,p,v,v].$freeze()})},Opal.modules["bcdice/dice_table/d66_table"]=function(e){var B,W,r,$,m,I,p,f,k,M=e.module,H=e.klass,u=e.hash2,P=e.defs,x=e.def,E=e.eqeqeq,F=e.rb_plus,q=e.rb_times,S=e.truthy,C=[],R=e.nil,U=e.$$$;return B=C,W=k=[M(C[0],"BCDice")].concat(B),r=f=[M(k[0],"DiceTable")].concat(W),m=[$=H(f[0],null,"D66Table")].concat(r),I=e.$r(m),(p=$.$$prototype).sort_type=p.items=p.name=R,P($,"$from_i18n",function(o,y){var s,h=R;return h=I("I18n").$t(o,u(["locale"],{locale:y})),s=I("D66SortType").$const_get(h["$[]"]("d66_sort_type")),this.$new(h["$[]"]("name"),s,h["$[]"]("items"))}),x($,"$initialize",function(o,y,l){var h=this;return h.name=o,h.sort_type=y,h.items=l.$freeze()}),x($,"$roll",function(o){var y=this,l=R,h=R,s=R,b=R;return l=o.$roll_barabara(2,6),E(U(I("D66SortType"),"ASC"),h=y.sort_type)?l["$sort!"]():E(U(I("D66SortType"),"DESC"),h)&&l["$sort!"]()["$reverse!"](),s=F(q(l["$[]"](0),10),l["$[]"](1)),b=S(h=y.items["$[]"](s))?h:y.items["$[]"](s.$to_s()),S(b["$respond_to?"]("roll"))&&(b=b.$roll(o)),I("RollResult").$new(y.name,s,b)}),x($,"$choice",function(o){return I("RollResult").$new(this.name,o,this.items["$[]"](o))})},Opal.modules["bcdice/dice_table/d66_left_range_table"]=function(e){var L,a,t,D,V,M=e.module,H=e.klass,u=e.hash2,P=e.send,x=e.to_ary,E=e.rb_plus,F=e.rb_times,q=e.send2,S=e.find_super,C=e.def,U=[],j=e.nil;return e.top.$require("bcdice/dice_table/d66_table"),L=U,a=V=[M(U[0],"BCDice")].concat(L),t=[M(V[0],"DiceTable")].concat(a),D=e.$r(t),C(H(t[0],D("D66Table"),"D66LeftRangeTable"),"$initialize",function I(p,v,o){var h;return I.$$p=null,h=u([],{}),P(o,"each",[],function(b){var _,g;return null==b&&(b=j),_=x(b),g=null==_[1]?j:_[1],P(null==_[0]?j:_[0],"each",[],function(w){return null==w&&(w=j),P(g,"each_with_index",[],function(d,i){var K,X;return null==d&&(d=j),null==i&&(i=j),X=E(F(w,10),E(i,1)),P(h,"[]=",K=[X,d]),K[K.length-1]})})}),q(this,S(this,"initialize",I,!1,!0),"initialize",[p,v,h],null)})},Opal.modules["bcdice/dice_table/d66_parity_table"]=function(e){var j,V,D,r,$,m,I,a,L,M=e.module,H=e.klass,u=e.hash2,P=e.defs,x=e.def,E=e.truthy,F=e.rb_minus,q=e.rb_plus,S=e.rb_times,C=[],R=e.nil;return j=C,V=L=[M(C[0],"BCDice")].concat(j),D=a=[M(L[0],"DiceTable")].concat(V),$=[r=H(a[0],null,"D66ParityTable")].concat(D),m=e.$r($),(I=r.$$prototype).odd=I.even=I.name=R,P(r,"$from_i18n",function(v,o){var l=R;return l=m("I18n").$t(v,u(["locale","raise"],{locale:o,raise:!0})),this.$new(l["$[]"]("name"),l["$[]"]("odd"),l["$[]"]("even"))}),x(r,"$initialize",function(v,o,y){var l=this;return l.name=v,l.odd=o.$freeze(),l.even=y.$freeze()}),x(r,"$roll",function(v){var l,s,b,o=this,y=R;return y=v.$roll_once(6),l=v.$roll_once(6),s=(E(y["$odd?"]())?o.odd:o.even)["$[]"](F(l,1)),b=q(S(y,10),l),m("RollResult").$new(o.name,b,s)})},Opal.modules["bcdice/dice_table/d66_range_table"]=function(e){var C,B,a,f,t,D,r,k,U,M=e.module,H=e.klass,u=e.def,P=e.rb_plus,x=e.rb_times,E=e.send,F=[],q=e.nil;return C=F,B=U=[M(F[0],"BCDice")].concat(C),a=k=[M(U[0],"DiceTable")].concat(B),t=[f=H(k[0],null,"D66RangeTable")].concat(a),D=e.$r(t),(r=f.$$prototype).items=r.name=q,u(f,"$initialize",function(m,I){return this.name=m,this.items=I.$freeze()}),u(f,"$roll",function(m){var p,v,o,y=q;return p=m.$roll_once(6),v=m.$roll_once(6),o=P(x(p,10),v),y=E(this.items,"find",[],function(h){return null==h&&(h=q),h["$[]"](0)["$include?"](o)}),D("RollResult").$new(this.name,o,y["$[]"](1))})},Opal.modules["bcdice/dice_table/range_table"]=function(e){var j,V,D,r,$,m,I,a,L,M=e.module,H=e.klass,u=e.const_set,P=e.send,x=e.truthy,E=e.def,F=e.eqeqeq,q=e.rb_times,S=e.rb_plus,C=[],R=e.nil;return j=C,V=L=[M(C[0],"BCDice")].concat(j),D=a=[M(L[0],"DiceTable")].concat(V),$=[r=H(a[0],null,"RangeTable")].concat(D),m=e.$r($),(I=r.$$prototype).name=I.items=I.num_of_dice=I.num_of_sides=I.formatter=R,u($[0],"RollResult",P(m("Struct"),"new",["sum","values","content","formatted"],function p(){return(null==p.$$s?this:p.$$s).$alias_method("to_s","formatted")},{$$s:r})),u($[0],"Item",m("Struct").$new("range","content")),u($[0],"DICE_ROLL_METHOD_RE",/^(\d+)D(\d+)$/i.$freeze()),u($[0],"DEFAULT_FORMATTER",P(r,"lambda",[],function(v,o){return null==v&&(v=R),null==o&&(o=R),v.$name()+"("+o.$sum()+") \uff1e "+o.$content()})),r.$attr_reader("name"),r.$attr_reader("num_of_dice"),r.$attr_reader("num_of_sides"),E(r,"$initialize",function p(v,o,y){var s,l=p.$$p||R,h=this,b=R;return p.$$p=null,h.name=v.$freeze(),h.formatter=x(s=l)?s:m("DEFAULT_FORMATTER"),b=m("DICE_ROLL_METHOD_RE").$match(o),x(b)||h.$raise(m("ArgumentError"),h.name+": invalid dice roll method: "+o),h.num_of_dice=b["$[]"](1).$to_i(),h.num_of_sides=b["$[]"](2).$to_i(),h.$store(y)}),E(r,"$fetch",function(v){var y,o=this;return y=P(o.items,"find",[],function(h){return null==h&&(h=R),h.$range()["$include?"](v)}),x(y)||o.$raise(m("RangeError"),o.name+": value is out of range: "+v),y}),E(r,"$roll",function(v){var l,o=this,y=R,h=R;return l=(y=v.$roll_barabara(o.num_of_dice,o.num_of_sides)).$sum(),(h=m("RollResult").$new(l,y,o.$fetch(l).$content()))["$formatted="](o.formatter["$[]"](o,h)),h}),r.$private(),E(r,"$store",function(v){var y,l,o=this;return y=P(v,"map",[],function h(s,b){return null==s&&(s=R),null==b&&(b=R),[(null==h.$$s?this:h.$$s).$coerce_to_int_range(s),b]},{$$s:o}),l=P(y,"sort_by",[],function(s,b){return null==s&&(s=R),null==b&&(b=R),s.$min()}),o.$assert_min_sum_is_covered(l),o.$assert_max_sum_is_covered(l),o.$assert_no_gap_or_overlap_in_ranges(l),o.items=P(l,"map",[],function(s,b){return null==s&&(s=R),null==b&&(b=R),m("Item").$new(s,b.$freeze()).$freeze()}).$freeze(),o}),E(r,"$coerce_to_int_range",function(v){var y;return F(m("Integer"),y=v)?m("Range").$new(v,v):F(m("Range"),y)&&x(v.$begin()["$is_a?"](m("Integer")))&&x(v.$end()["$is_a?"](m("Integer")))?v:this.$raise(m("TypeError"),this.name+": "+v+" ("+v.$class()+") must be an Integer or a Range with Integers ")}),E(r,"$assert_min_sum_is_covered",function(v){var y,o=this,l=R;return y=o.num_of_dice,l=v.$first()["$[]"](0),x(l["$include?"](y))||o.$raise(m("RangeError"),o.name+": min value ("+y+") is not covered: "+l),o}),E(r,"$assert_max_sum_is_covered",function(v){var y,o=this,l=R;return y=q(o.num_of_dice,o.num_of_sides),l=v.$last()["$[]"](0),x(l["$include?"](y))||o.$raise(m("RangeError"),o.name+": max value ("+y+") is not covered: "+l),o}),E(r,"$assert_no_gap_or_overlap_in_ranges",function(v){return P(v,"each_cons",[2],function y(l,h){var z,T,s=null==y.$$s?this:y.$$s,b=R,_=R;return null==s.name&&(s.name=R),null==l&&(l=R),null==h&&(h=R),b=l["$[]"](0),_=h["$[]"](0),z=b.$max(),T=S(z,1),x(_["$include?"](z))&&s.$raise(m("RangeError"),s.name+": Range overlap: "+b+" and "+_),x(_["$include?"](T))?R:s.$raise(m("RangeError"),s.name+": Range gap: "+b+" and "+_)},{$$s:this}),this})},Opal.modules["bcdice/dice_table/sai_fic_skill_table/category"]=function(e){var R,L,f,m,I,p,v,D,V,j,M=e.module,H=e.klass,u=e.send,P=e.def,x=e.rb_minus,E=e.return_ivar,F=[],q=e.nil,S=e.$$$;return R=F,L=j=[M(F[0],"BCDice")].concat(R),f=V=[M(j[0],"DiceTable")].concat(L),m=D=[H(V[0],null,"SaiFicSkillTable")].concat(f),p=[I=H(D[0],null,"Category")].concat(m),v=e.$r(p),P(I,"$initialize",function(y,l,h,s){var b=this;return b.name=y,b.skills=u(l.$map(),"with_index",[2],function(z,T){return null==z&&(z=q),null==T&&(T=q),S(v("SaiFicSkillTable"),"Skill").$new(y,z,h,T,s)}),b.dice=h}),P(I,"$roll",function(y){return this.$skills()["$[]"](x(y.$roll_sum(2,6),2))}),P(I,"$to_s",E("name")),I.$attr_reader("name","dice","skills")},Opal.modules["bcdice/dice_table/sai_fic_skill_table/skill"]=function(e){var q,U,V,D,r,a,B,C,M=e.module,H=e.klass,u=e.def,P=e.hash2,x=[],E=e.nil;return q=x,U=C=[M(x[0],"BCDice")].concat(q),V=B=[M(C[0],"DiceTable")].concat(U),a=[H(B[0],null,"SaiFicSkillTable")].concat(V),(r=(D=H(a[0],null,"Skill")).$$prototype).s_format=r.category_dice=r.row_dice=r.category_name=r.name=E,u(D,"$initialize",function(m,I,p,v,o){var y=this;return y.category_name=m,y.name=I,y.category_dice=p,y.row_dice=v,y.s_format=o}),u(D,"$to_s",function(){var m=this;return m.$format(m.s_format,P(["category_dice","row_dice","category_name","skill_name"],{category_dice:m.category_dice,row_dice:m.row_dice,category_name:m.category_name,skill_name:m.name}))}),D.$attr_reader("category_name","name","category_dice","row_dice")},Opal.modules["bcdice/dice_table/sai_fic_skill_table"]=function(e){var a,r,v,o,y,l,h,m,t,M=e.module,H=e.klass,u=e.ensure_kwargs,P=e.hash2,x=e.send,F=e.defs,q=e.const_set,S=e.to_ary,C=e.def,R=e.truthy,U=e.rb_minus,j=e.rb_plus,B=e.top,L=[],k=e.nil,V=e.$$$;return B.$require("bcdice/dice_table/sai_fic_skill_table/category"),B.$require("bcdice/dice_table/sai_fic_skill_table/skill"),a=L,r=t=[M(L[0],"BCDice")].concat(a),v=m=[M(t[0],"DiceTable")].concat(r),y=[o=H(m[0],null,"SaiFicSkillTable")].concat(v),l=e.$r(y),(h=o.$$prototype).rtt=h.rtt_format=h.rct=h.rct_format=h.rttn=h.rttn_format=h.categories=k,F(o,"$from_i18n",function(b,_,z){var T,g,c,i,d=k;return null==(T=(z=u(z)).$$smap.rtt)&&(T=k),null==(g=z.$$smap.rct)&&(g=k),null==(c=z.$$smap.rttn)&&(c=k),i=(d=l("I18n").$t("RTT",P(["locale","raise","default"],{locale:_,raise:!1,default:P([],{})})).$merge(l("I18n").$t(b,P(["locale","raise"],{locale:_,raise:!0}))))["$[]"]("items"),d=x(d,"select",[],function(X,Z){return null==X&&(X=k),null==Z&&(Z=k),["rtt_format","rttn_format","rct_format","s_format"]["$include?"](X)}),this.$new(i,e.to_hash(d).$merge(P(["rtt","rct","rttn"],{rtt:T,rct:g,rttn:c})))},-3),q(y[0],"DEFAULT_RTT","\u30e9\u30f3\u30c0\u30e0\u7279\u6280\u8868(%<category_dice>d,%<row_dice>d) \uff1e %<text>s"),q(y[0],"DEFAULT_RCT","\u30e9\u30f3\u30c0\u30e0\u5206\u91ce\u8868(%<category_dice>d) \uff1e %<category_name>s"),q(y[0],"DEFAULT_RTTN","%<category_name>s\u5206\u91ce\u30e9\u30f3\u30c0\u30e0\u7279\u6280\u8868(%<row_dice>d) \uff1e %<text>s"),q(y[0],"DEFAULT_S","\u300a%<skill_name>s\uff0f%<category_name>s%<row_dice>d\u300b"),C(o,"$initialize",function(b,_){var z,T,g,c,w,n,d,i=this;return null==(z=(_=u(_)).$$smap.rtt)&&(z=k),null==(T=_.$$smap.rct)&&(T=k),null==(g=_.$$smap.rttn)&&(g=k),null==(c=_.$$smap.rtt_format)&&(c=l("DEFAULT_RTT")),null==(w=_.$$smap.rct_format)&&(w=l("DEFAULT_RCT")),null==(n=_.$$smap.rttn_format)&&(n=l("DEFAULT_RTTN")),null==(d=_.$$smap.s_format)&&(d=l("DEFAULT_S")),i.categories=x(b.$map(),"with_index",[1],function(X,Z){var ie,ue,ne;return null==X&&(X=k),null==Z&&(Z=k),ue=null==(ie=S(X))[0]?k:ie[0],ne=null==ie[1]?k:ie[1],V(l("SaiFicSkillTable"),"Category").$new(ue,ne,Z,d)},{$$has_top_level_mlhs_arg:!0}),i.rtt=z,i.rct=T,i.rttn=g.$to_a(),i.rtt_format=c,i.rct_format=w,i.rttn_format=n},-2),q(y[0],"RTTN",["RTT1","RTT2","RTT3","RTT4","RTT5","RTT6"].$freeze()),o.$attr_reader("categories"),C(o,"$roll_command",function(b,_){var T,z=this,g=k,c=k;return R(["RTT",z.rtt]["$include?"](T=_))?z.$format_skill(z.rtt_format,z.$roll_skill(b)):R(["RCT",z.rct]["$include?"](T))?(g=z.$roll_category(b),z.$format(z.rct_format,P(["category_dice","category_name"],{category_dice:g.$dice(),category_name:g.$name()}))):R(c=l("RTTN").$index(T))||R(c=z.rttn.$index(T))?z.$format_skill(z.rttn_format,z.categories["$[]"](c).$roll(b)):k}),C(o,"$roll_category",function(b){return this.categories["$[]"](U(b.$roll_once(6),1))}),C(o,"$roll_skill",function(b){return this.$roll_category(b).$roll(b)}),C(o,"$prefixes",function(){var b=this;return j(["RTT[1-6]?","RCT",b.rtt,b.rct],b.rttn).$compact()}),o.$private(),C(o,"$format_skill",function(b,_){return this.$format(b,P(["category_dice","row_dice","category_name","skill_name","text"],{category_dice:_.$category_dice(),row_dice:_.$row_dice(),category_name:_.$category_name(),skill_name:_.$name(),text:_.$to_s()}))})},Opal.modules["bcdice/dice_table/table"]=function(e){var R,L,f,t,D,r,$,V,j,M=e.module,H=e.klass,u=e.hash2,P=e.defs,x=e.truthy,E=e.def,F=e.rb_minus,q=[],S=e.nil;return R=q,L=j=[M(q[0],"BCDice")].concat(R),f=V=[M(j[0],"DiceTable")].concat(L),D=[t=H(V[0],null,"Table")].concat(f),r=e.$r(D),($=t.$$prototype).times=$.sides=$.name=$.items=S,P(t,"$from_i18n",function(I,p){var o=S;return o=r("I18n").$t(I,u(["locale"],{locale:p})),this.$new(o["$[]"]("name"),o["$[]"]("type"),o["$[]"]("items"))}),E(t,"$initialize",function(I,p,v){var o=this,y=S;return o.name=I,o.items=v.$freeze(),y=/(\d+)D(\d+)/i.$match(p),x(y)||o.$raise(r("ArgumentError"),"Unexpected table type: "+p),o.times=y["$[]"](1).$to_i(),o.sides=y["$[]"](2).$to_i()}),E(t,"$roll",function(I){var v,p=this;return v=I.$roll_sum(p.times,p.sides),p.$choice(v)}),E(t,"$choice",function(I){var v,p=this;return v=F(I,p.times),r("RollResult").$new(p.name,I,p.items["$[]"](v))})},Opal.modules["bcdice/dice_table"]=function(e){var M=e.top;return M.$require("bcdice/dice_table/roll_result"),M.$require("bcdice/dice_table/chain_table"),M.$require("bcdice/dice_table/d66_grid_table"),M.$require("bcdice/dice_table/d66_half_grid_table"),M.$require("bcdice/dice_table/d66_one_third_table"),M.$require("bcdice/dice_table/d66_left_range_table"),M.$require("bcdice/dice_table/d66_parity_table"),M.$require("bcdice/dice_table/d66_range_table"),M.$require("bcdice/dice_table/d66_table"),M.$require("bcdice/dice_table/range_table"),M.$require("bcdice/dice_table/sai_fic_skill_table"),M.$require("bcdice/dice_table/table")},Opal.modules["bcdice/enum"]=function(e){var E,C,U,q,M=e.module,H=e.const_set,u=[];return E=u,C=q=[M(u[0],"BCDice")].concat(E),U=[M(q[0],"D66SortType")].concat(C),H(U[0],"NO_SORT","no_sort"),H(U[0],"ASC","asc"),H(U[0],"DESC","desc"),function(S,C){var U=[M(S,"RoundType")].concat(C);return H(U[0],"CEIL","ceil"),H(U[0],"FLOOR","floor"),H(U[0],"ROUND","round")}(q[0],q)},Opal.modules["bcdice/translate"]=function(e){var C,B,L,k,V,U,M=e.module,H=e.ensure_kwargs,u=e.kwrestargs,x=e.hash2,E=e.def,F=[],q=e.nil;return C=F,B=U=[M(F[0],"BCDice")].concat(C),k=[L=M(U[0],"Translate")].concat(B),V=e.$r(k),E(L,"$translate",function(a,f){var t,D=this;return null==D.locale&&(D.locale=q),f=H(f),t=u(f,{}),V("I18n").$translate(a,x(["locale","raise"],{locale:D.locale,raise:!0}).$merge(e.to_hash(t)))},-2)},Opal.modules["bcdice/result"]=function(e){var L,W,k,C,U,H=e.klass,u=e.send,P=e.def,x=e.return_val,E=e.return_ivar,F=[],q=e.nil;return C=F,L=U=[(0,e.module)(F[0],"BCDice")].concat(C),[k=H(U[0],null,"Result")].concat(L),P(W=e.get_singleton_class(k),"$success",function(t){return u(this.$new(),"tap",[],function($){var m;return null==$&&($=q),$["$text="](t),u($,"success=",m=[!0]),m[m.length-1]})}),P(W,"$failure",function(t){return u(this.$new(),"tap",[],function($){var m;return null==$&&($=q),$["$text="](t),u($,"failure=",m=[!0]),m[m.length-1]})}),P(W,"$critical",function(t){return u(this.$new(),"tap",[],function($){var m;return null==$&&($=q),$["$text="](t),$["$critical="](!0),u($,"success=",m=[!0]),m[m.length-1]})}),P(W,"$fumble",function(t){return u(this.$new(),"tap",[],function($){var m;return null==$&&($=q),$["$text="](t),$["$fumble="](!0),u($,"failure=",m=[!0]),m[m.length-1]})}),P(W,"$nothing",x("nothing")),P(k,"$initialize",function(a){var f=this;return null==a&&(a=q),f.text=a,f.rands=q,f.detailed_rands=q,f.secret=!1,f.success=!1,f.failure=!1,f.critical=!1,f.fumble=!1},-1),k.$attr_accessor("text","rands","detailed_rands"),k.$attr_writer("secret","success","failure","critical","fumble"),P(k,"$secret?",E("secret")),P(k,"$success?",E("success")),P(k,"$failure?",E("failure")),P(k,"$critical?",E("critical")),P(k,"$fumble?",E("fumble")),P(k,"$condition=",function(a){return this.success=a,this.failure=a["$!"]()})},Opal.modules["racc/parser"]=function(e){var I,v,o,M=e.module,H=e.klass,u=e.truthy,P=e.const_set,x=e.defs,E=e.gvars,F=e.rb_lt,q=e.def,S=e.to_ary,C=e.send,R=e.neqeq,U=e.rb_plus,j=e.eqeq,B=e.rb_ge,L=e.rb_gt,k=e.rb_minus,V=e.rb_le,W=e.rb_times,a=e.assign_ivar_val,t=[],D=e.$r(t),r=e.nil,$=e.$$$;return I=t,v=[M(t[0],"Racc")].concat(I),o=e.$r(v),H(v[0],o("StandardError"),"ParseError"),u($("::","ParseError","skip_raise")?"constant":r)||P(t[0],"ParseError",$(D("Racc"),"ParseError")),function(m,I){var s,b,_,z,T,o=[M(m,"Racc")].concat(I),y=e.$r(o);return u(y("Racc_No_Extensions","skip_raise")?"constant":r)||P(o[0],"Racc_No_Extensions",!1),s=o,_=[b=H(o[0],null,"Parser")].concat(s),z=e.$r(_),(T=b.$$prototype).yydebug=T.racc_debug_out=T.racc_error_status=T.racc_t=T.racc_vstack=T.racc_val=T.racc_state=T.racc_tstack=r,P(_[0],"Racc_Runtime_Version","1.4.6"),P(_[0],"Racc_Runtime_Revision",["originalRevision:","1.8"]["$[]"](1)),P(_[0],"Racc_Runtime_Core_Version_R","1.4.6"),P(_[0],"Racc_Runtime_Core_Revision_R",["originalRevision:","1.8"]["$[]"](1)),P(_[0],"Racc_Main_Parsing_Routine","_racc_do_parse_rb"),P(_[0],"Racc_YY_Parse_Method","_racc_yyparse_rb"),P(_[0],"Racc_Runtime_Core_Version",z("Racc_Runtime_Core_Version_R")),P(_[0],"Racc_Runtime_Core_Revision",z("Racc_Runtime_Core_Revision_R")),P(_[0],"Racc_Runtime_Type","ruby"),x(z("Parser"),"$racc_runtime_type",function(){return z("Racc_Runtime_Type")}),q(b,"$_racc_setup",function(){var c,w,n=this,d=r,i=r;return null==E.stderr&&(E.stderr=r),u($(n.$class(),"Racc_debug_parser"))||(n.yydebug=!1),u(null!=(c=n.yydebug)&&c!==r?"instance-variable":r)||(n.yydebug=!1),u(n.yydebug)&&(u(null!=(w=n.racc_debug_out)&&w!==r?"instance-variable":r)||(n.racc_debug_out=E.stderr),n.racc_debug_out=u(d=n.racc_debug_out)?d:E.stderr),i=$(n.$class(),"Racc_arg"),u(F(i.$size(),14))&&i["$[]="](13,!0),i}),q(b,"$_racc_init_sysvars",function(){var c=this;return c.racc_state=[0],c.racc_tstack=[],c.racc_vstack=[],c.racc_t=r,c.racc_val=r,c.racc_read_next=!0,c.racc_user_yyerror=!1,c.racc_error_status=0}),q(b,"$do_parse",function(){return this.$__send__(z("Racc_Main_Parsing_Routine"),this.$_racc_setup(),!1)}),q(b,"$next_token",function(){return this.$raise(z("NotImplementedError"),this.$class()+"#next_token is not defined")}),q(b,"$_racc_do_parse_rb",function(c,w){var n,i=this,K=r,X=r,Z=r,ie=r,ue=r,ne=r,se=r,te=r;return n=S(c),K=null==n[0]?r:n[0],X=null==n[1]?r:n[1],Z=null==n[2]?r:n[2],ie=null==n[3]?r:n[3],ue=null==n[10]?r:n[10],i.$_racc_init_sysvars(),ne=se=te=r,C(i,"catch",["racc_end_parse"],function Y(){var A,Q,G=null==Y.$$s?this:Y.$$s,N=r;for(null==G.racc_state&&(G.racc_state=r),null==G.racc_read_next&&(G.racc_read_next=r),null==G.racc_t&&(G.racc_t=r),null==G.yydebug&&(G.yydebug=r),null==G.racc_val&&(G.racc_val=r);u(!0);)for(u(te=ie["$[]"](G.racc_state["$[]"](-1)))?(u(G.racc_read_next)&&R(G.racc_t,0)&&(Q=G.$next_token(),A=S(Q),ne=null==A[0]?r:A[0],G.racc_val=null==A[1]?r:A[1],G.racc_t=u(ne)?u(N=ue["$[]"](ne))?N:1:0,u(G.yydebug)&&G.$racc_read_token(G.racc_t,ne,G.racc_val),G.racc_read_next=!1),te=U(te,G.racc_t),u(B(te,0))&&u(se=K["$[]"](te))&&j(X["$[]"](te),G.racc_state["$[]"](-1))||(se=Z["$[]"](G.racc_state["$[]"](-1)))):se=Z["$[]"](G.racc_state["$[]"](-1));u(se=G.$_racc_evalact(se,c)););},{$$s:i})}),q(b,"$yyparse",function(c,w){return this.$__send__(z("Racc_YY_Parse_Method"),c,w,this.$_racc_setup(),!0)}),q(b,"$_racc_yyparse_rb",function(c,w,n,d){var i,X=this,Z=r,ie=r,$e=r,ue=r,se=r,te=r,Y=r;return i=S(n),Z=null==i[0]?r:i[0],ie=null==i[1]?r:i[1],$e=null==i[2]?r:i[2],ue=null==i[3]?r:i[3],se=null==i[10]?r:i[10],X.$_racc_init_sysvars(),te=r,Y=r,C(X,"catch",["racc_end_parse"],function A(){var Q=null==A.$$s?this:A.$$s;for(null==Q.racc_state&&(Q.racc_state=r);!u(Y=ue["$[]"](Q.racc_state["$[]"](-1)));)for(;u(te=Q.$_racc_evalact($e["$[]"](Q.racc_state["$[]"](-1)),n)););return C(c,"__send__",[w],function G(N,ee){var O=null==G.$$s?this:G.$$s,re=r,J=r;for(null==O.racc_t&&(O.racc_t=r),null==O.racc_state&&(O.racc_state=r),null==O.racc_read_next&&(O.racc_read_next=r),null==N&&(N=r),null==ee&&(ee=r),O.racc_t=u(N)?u(re=se["$[]"](N))?re:1:0,O.racc_val=ee,O.racc_read_next=!1,Y=U(Y,O.racc_t),u(B(Y,0))&&u(te=Z["$[]"](Y))&&j(ie["$[]"](Y),O.racc_state["$[]"](-1))||(te=$e["$[]"](O.racc_state["$[]"](-1)));u(te=O.$_racc_evalact(te,n)););for(;u(u(re=u(J=(Y=ue["$[]"](O.racc_state["$[]"](-1)))["$!"]())?J:O.racc_read_next["$!"]())?re:O.racc_t["$=="](0));)for(u(Y)&&u(Y=U(Y,O.racc_t))&&u(B(Y,0))&&u(te=Z["$[]"](Y))&&j(ie["$[]"](Y),O.racc_state["$[]"](-1))||(te=$e["$[]"](O.racc_state["$[]"](-1)));u(te=O.$_racc_evalact(te,n)););},{$$s:Q})},{$$s:X})}),q(b,"$_racc_evalact",function(c,w){var n,$e,i=this,K=r,X=r,ie=r,ue=r,ne=r,se=r;if(K=null==(n=S(w))[0]?r:n[0],X=null==n[1]?r:n[1],ie=null==n[3]?r:n[3],$e=null==n[11]?r:n[11],ue=null==n[12]?r:n[12],u(L(c,0))&&u(F(c,$e)))u(L(i.racc_error_status,0))&&(j(i.racc_t,1)||(i.racc_error_status=k(i.racc_error_status,1))),i.racc_vstack.$push(i.racc_val),i.racc_state.$push(c),i.racc_read_next=!0,u(i.yydebug)&&(i.racc_tstack.$push(i.racc_t),i.$racc_shift(i.racc_t,i.racc_tstack,i.racc_vstack));else if(u(F(c,0))&&u(L(c,ue["$-@"]()))){if(ne=C(i,"catch",["racc_jump"],function te(){var Y=null==te.$$s?this:te.$$s;return null==Y.racc_state&&(Y.racc_state=r),Y.racc_state.$push(Y.$_racc_do_reduce(w,c)),!1},{$$s:i}),u(ne))switch(ne){case 1:return i.racc_user_yyerror=!0,ue["$-@"]();case 2:return $e;default:i.$raise("[Racc Bug] unknown jump code")}}else if(j(c,$e))u(i.yydebug)&&i.$racc_accept(),i.$throw("racc_end_parse",i.racc_vstack["$[]"](0));else{if(j(c,ue["$-@"]())){switch(i.racc_error_status){case 0:u(w["$[]"](21))||i.$on_error(i.racc_t,i.racc_val,i.racc_vstack);break;case 3:j(i.racc_t,0)&&i.$throw("racc_end_parse",r),i.racc_read_next=!0}for(i.racc_user_yyerror=!1,i.racc_error_status=3;u(!0)&&!(u(se=ie["$[]"](i.racc_state["$[]"](-1)))&&(se=U(se,1),u(B(se,0))&&u(c=K["$[]"](se))&&j(X["$[]"](se),i.racc_state["$[]"](-1))));)u(V(i.racc_state.$size(),1))&&i.$throw("racc_end_parse",r),i.racc_state.$pop(),i.racc_vstack.$pop(),u(i.yydebug)&&(i.racc_tstack.$pop(),i.$racc_e_pop(i.racc_state,i.racc_tstack,i.racc_vstack));return c}i.$raise("[Racc Bug] unknown action "+c.$inspect())}return u(i.yydebug)&&i.$racc_next_state(i.racc_state["$[]"](-1),i.racc_state),r}),q(b,"$_racc_do_reduce",function(c,w){var n,ue,se,N,ee,O,ae,i=this,X=r,Z=r,ie=r,$e=r,ne=r,te=r,Y=r,A=r,Q=r,G=r,re=r,J=r,ce=r;return X=null==(n=S(c))[4]?r:n[4],Z=null==n[5]?r:n[5],ie=null==n[6]?r:n[6],$e=null==n[7]?r:n[7],ue=null==n[8]?r:n[8],ne=null==n[9]?r:n[9],se=null==n[13]?r:n[13],te=i.racc_state,Y=i.racc_vstack,A=i.racc_tstack,Q=W(w,-3),G=ne["$[]"](Q),N=ne["$[]"](U(Q,1)),ee=ne["$[]"](U(Q,2)),O=[],u(i.yydebug)&&(re=A["$[]"](G["$-@"](),G)),J=Y["$[]"](G["$-@"](),G),u(i.yydebug)&&A["$[]="](G["$-@"](),G,O),Y["$[]="](G["$-@"](),G,O),te["$[]="](G["$-@"](),G,O),u(se)?Y.$push(i.$__send__(ee,J,Y,J["$[]"](0))):Y.$push(i.$__send__(ee,J,Y)),A.$push(N),u(i.yydebug)&&i.$racc_reduce(re,N,A,Y),ae=k(N,ue),u(Q=$e["$[]"](ae))&&(Q=U(Q,te["$[]"](-1)),u(B(Q,0))&&u(ce=X["$[]"](Q))&&j(Z["$[]"](Q),ae))?ce:ie["$[]"](ae)}),q(b,"$on_error",function(c,w,n){var i,d=this;return d.$raise(z("ParseError"),d.$sprintf("\nparse error on value %s (%s)",w.$inspect(),u(i=d.$token_to_str(c))?i:"?"))}),q(b,"$yyerror",function(){return this.$throw("racc_jump",1)}),q(b,"$yyaccept",function(){return this.$throw("racc_jump",2)}),q(b,"$yyerrok",a("racc_error_status",0)),q(b,"$racc_read_token",function(c,w,n){var d=this;return d.racc_debug_out.$print("read    "),d.racc_debug_out.$print(w.$inspect(),"(",d.$racc_token2str(c),") "),d.racc_debug_out.$puts(n.$inspect()),d.racc_debug_out.$puts()}),q(b,"$racc_shift",function(c,w,n){var d=this;return d.racc_debug_out.$puts("shift   "+d.$racc_token2str(c)),d.$racc_print_stacks(w,n),d.racc_debug_out.$puts()}),q(b,"$racc_reduce",function(c,w,n,d){var i=this,K=r;return(K=i.racc_debug_out).$print("reduce "),u(c["$empty?"]())?K.$print(" <none>"):C(c,"each",[],function X(Z){return null==Z&&(Z=r),K.$print(" ",(null==X.$$s?this:X.$$s).$racc_token2str(Z))},{$$s:i}),K.$puts(" --\x3e "+i.$racc_token2str(w)),i.$racc_print_stacks(n,d),i.racc_debug_out.$puts()}),q(b,"$racc_accept",function(){return this.racc_debug_out.$puts("accept"),this.racc_debug_out.$puts()}),q(b,"$racc_e_pop",function(c,w,n){var d=this;return d.racc_debug_out.$puts("error recovering mode: pop token"),d.$racc_print_states(c),d.$racc_print_stacks(w,n),d.racc_debug_out.$puts()}),q(b,"$racc_next_state",function(c,w){var n=this;return n.racc_debug_out.$puts("goto    "+c),n.$racc_print_states(w),n.racc_debug_out.$puts()}),q(b,"$racc_print_stacks",function(c,w){var d=r;return(d=this.racc_debug_out).$print("        ["),C(c,"each_index",[],function i(K){return null==K&&(K=r),d.$print(" (",(null==i.$$s?this:i.$$s).$racc_token2str(c["$[]"](K))," ",w["$[]"](K).$inspect(),")")},{$$s:this}),d.$puts(" ]")}),q(b,"$racc_print_states",function(c){var n=r;return(n=this.racc_debug_out).$print("        ["),C(c,"each",[],function(i){return null==i&&(i=r),n.$print(" ",i)}),n.$puts(" ]")}),q(b,"$racc_token2str",function(c){var n;return u(n=$(this.$class(),"Racc_token_to_s_table")["$[]"](c))?n:this.$raise("[Racc Bug] can't convert token "+c+" to string")}),q(b,"$token_to_str",function(c){return $(this.$class(),"Racc_token_to_s_table")["$[]"](c)})}(t[0],t)},Opal.modules["bcdice/arithmetic/node"]=function(e){var a,r,p,s,b,o,y,m,t,M=e.module,H=e.klass,u=e.def,P=e.thrower,x=e.return_ivar,E=e.send2,F=e.find_super,q=e.eqeq,S=e.const_set,C=e.eqeqeq,R=e.rb_divide,U=e.truthy,j=e.assign_ivar,B=e.alias,L=[],k=e.nil,V=e.$$$;return a=L,r=t=[M(L[0],"BCDice")].concat(a),p=m=[M(t[0],"Arithmetic")].concat(r),o=[M(m[0],"Node")].concat(p),y=e.$r(o),(b=(s=H(o[0],null,"BinaryOp")).$$prototype).lhs=b.rhs=b.op=k,u(s,"$initialize",function(z,T,g){var c=this;return c.lhs=z,c.op=T,c.rhs=g}),u(s,"$eval",function(z){try{P("eval_return");var w,g=this,c=k;return c=g.lhs.$eval(z),w=g.rhs.$eval(z),c.$send(g.op,w)}catch(n){if(n===e.t_eval_return)return n.$v;throw n}}),u(s,"$output",function(){var z=this;return""+z.lhs.$output()+z.op+z.rhs.$output()}),u(s,"$s_exp",function(){var z=this;return"("+z.$op_for_s_exp()+" "+z.lhs.$s_exp()+" "+z.rhs.$s_exp()+")"}),u(s,"$op_for_s_exp",x("op")),function(l,h,s){var b=H(l,h,"DivideBase"),_=[b].concat(s),z=e.$r(_),T=b.$$prototype;T.lhs=T.rhs=T.op=k,u(b,"$initialize",function g(c,w){return g.$$p=null,E(this,F(this,"initialize",g,!1,!0),"initialize",[c,"/",w],null)}),u(b,"$eval",function(c){try{P("eval_return");var d,i,n=this;return d=n.lhs.$eval(c),i=n.rhs.$eval(c),q(i,0)&&n.$raise(z("ZeroDivisionError")),n.$divide_and_round(d,i,c)}catch(K){if(K===e.t_eval_return)return K.$v;throw K}}),u(b,"$output",function g(){var c=g.$$p||k,w=this;return g.$$p=null,""+E(w,F(w,"output",g,!1,!0),"output",[],c)+w.$rounding_method()}),b.$private(),u(b,"$rounding_method",function(){return V(this.$class(),"ROUNDING_METHOD")}),u(b,"$op_for_s_exp",function(){return""+this.op+this.$rounding_method()}),u(b,"$divide_and_round",function(c,w,n){return this.$raise(z("NotImplementedError"))})}(o[0],y("BinaryOp"),o),function(l,h,s){var b=H(l,h,"DivideWithGameSystemDefault"),_=[b].concat(s),z=e.$r(_);S(_[0],"ROUNDING_METHOD",""),b.$private(),u(b,"$divide_and_round",function(g,c,w){var n,d=k;return C(V(z("RoundType"),"CEIL"),n=w)?R(g.$to_f(),c).$ceil():C(V(z("RoundType"),"ROUND"),n)?(d=R(g.$to_f(),c),U(d["$negative?"]())?d.$abs().$round()["$-@"]():d.$round()):R(g,c).$floor()})}(o[0],y("DivideBase"),o),function(l,h,s){var b=H(l,h,"DivideWithCeil"),_=[b].concat(s);S(_[0],"ROUNDING_METHOD","C"),b.$private(),u(b,"$divide_and_round",function(T,g,c){return R(T.$to_f(),g).$ceil()})}(o[0],y("DivideBase"),o),function(l,h,s){var b=H(l,h,"DivideWithRound"),_=[b].concat(s);S(_[0],"ROUNDING_METHOD","R"),b.$private(),u(b,"$divide_and_round",function(T,g,c){var w=k;return w=R(T.$to_f(),g),U(w["$negative?"]())?w.$abs().$round()["$-@"]():w.$round()})}(o[0],y("DivideBase"),o),function(l,h,s){var b=H(l,h,"DivideWithFloor"),_=[b].concat(s);S(_[0],"ROUNDING_METHOD","F"),b.$private(),u(b,"$divide_and_round",function(T,g,c){return R(T,g).$floor()})}(o[0],y("DivideBase"),o),function(l,h){var s=H(l,null,"Negative");s.$$prototype.body=k,u(s,"$initialize",j("body")),u(s,"$eval",function(z){try{return P("eval_return"),this.body.$eval(z)["$-@"]()}catch(c){if(c===e.t_eval_return)return c.$v;throw c}}),u(s,"$output",function(){return"-"+this.body.$output()}),u(s,"$s_exp",function(){return"(- "+this.body.$s_exp()+")"})}(o[0]),function(l,h){var s=H(l,null,"Parenthesis");s.$$prototype.expr=k,u(s,"$initialize",j("expr")),u(s,"$eval",function(z){try{return P("eval_return"),this.expr.$eval(z)}catch(c){if(c===e.t_eval_return)return c.$v;throw c}}),u(s,"$output",function(){return"("+this.expr.$output()+")"}),u(s,"$s_exp",function(){return"(Parenthesis "+this.expr.$s_exp()+")"})}(o[0]),function(l,h){var s=H(l,null,"Number");return s.$$prototype.value=k,u(s,"$initialize",j("value")),u(s,"$eval",x("value")),u(s,"$output",function(){return this.value.$to_s()}),B(s,"s_exp","output")}(o[0])},Opal.modules.strscan=function(e){var j,B,L,k,V,H=e.def,u=e.truthy,P=e.eqeqeq,x=e.Opal,E=e.return_ivar,F=e.send,q=e.alias,S=[],C=e.nil;return j=S,L=[B=(0,e.klass)(S[0],null,"StringScanner")].concat(j),k=e.$r(L),(V=B.$$prototype).pos=V.string=V.working=V.matched=V.prev_pos=V.match=C,B.$attr_reader("pos","matched"),H(B,"$initialize",function(a){var f=this;return f.string=a,f.pos=0,f.matched=C,f.working=a,f.match=[]}),B.$attr_reader("string"),H(B,"$beginning_of_line?",function(){var a=this;return 0===a.pos||"\n"===a.string.charAt(a.pos-1)}),H(B,"$scan",function(a){var f=this,t=(a=f.$anchor(a)).exec(f.working);return null==t?f.matched=C:(f.prev_pos=f.pos,f.pos+=t[0].length,f.working=f.working.substring(t[0].length),f.matched=t[0],f.match=t,t[0])}),H(B,"$scan_until",function(a){var f=this;a=f.$anchor(a);for(var t=f.working,D=0;t.length!=D;++D){var r=a.exec(t.substr(D));if(null!==r){var $=D+r[0].length,m=t.substr(0,$);return f.matched=r[0],f.match=r,f.prev_pos=f.pos+D,f.pos+=$,f.working=t.substr($),m}}return f.matched=C}),H(B,"$[]",function(a){var t;if(u(this.match["$empty?"]()))return C;P(k("Symbol"),t=a)?a=a.$to_s():P(k("String"),t)||(a=x["$coerce_to!"](a,k("Integer"),"to_int"));var D=this.match;return a<0&&(a+=D.length),a<0||a>=D.length||null==D[a]?C:D[a]}),H(B,"$check",function(a){var f=this,t=(a=f.$anchor(a)).exec(f.working);return f.matched=null==t?C:t[0]}),H(B,"$check_until",function(a){var f=this,t=f.prev_pos,D=f.pos,r=f.working,$=f.$scan_until(a);return f.prev_pos=t,f.pos=D,f.working=r,$}),H(B,"$peek",function(a){return this.working.substring(0,a)}),H(B,"$eos?",function(){return 0===this.working.length}),H(B,"$exist?",function(a){var t=a.exec(this.working);return null==t?C:0==t.index?0:t.index+1}),H(B,"$skip",function(a){var f=this,t=(a=f.$anchor(a)).exec(f.working);if(null==t)return f.match=[],f.matched=C;var D=t[0],r=D.length;return f.matched=D,f.match=t,f.prev_pos=f.pos,f.pos+=r,f.working=f.working.substring(r),r}),H(B,"$skip_until",function(a){var t=this.$scan_until(a);return t===C?C:(this.matched=t.substr(-1),t.length)}),H(B,"$get_byte",function(){var a=this,f=C;return a.pos<a.string.length?(a.prev_pos=a.pos,a.pos+=1,f=a.matched=a.working.substring(0,1),a.working=a.working.substring(1)):a.matched=C,f}),H(B,"$match?",function(a){var f=this,t=(a=f.$anchor(a)).exec(f.working);return null==t?C:(f.prev_pos=f.pos,t[0].length)}),H(B,"$pos=",function(a){var f=this;return a<0&&(a+=f.string.$length()),f.pos=a,f.working=f.string.slice(a)}),H(B,"$matched_size",function(){return this.matched===C?C:this.matched.length}),H(B,"$post_match",function(){var a=this;return a.matched===C?C:a.string.substr(a.pos)}),H(B,"$pre_match",function(){var a=this;return a.matched===C?C:a.string.substr(0,a.prev_pos)}),H(B,"$reset",function(){var a=this;return a.working=a.string,a.matched=C,a.pos=0}),H(B,"$rest",E("working")),H(B,"$rest?",function(){return 0!==this.working.length}),H(B,"$rest_size",function(){return this.$rest().$size()}),H(B,"$terminate",function(){var a,f=this;return f.match=C,a=[f.string.$length()],F(f,"pos=",a),a[a.length-1]}),H(B,"$unscan",function(){var a=this;return a.pos=a.prev_pos,a.prev_pos=C,a.match=C,a}),q(B,"bol?","beginning_of_line?"),q(B,"getch","get_byte"),B.$private(),H(B,"$anchor",function(a){var f=a.toString().match(/\/([^\/]+)$/);return f=f?f[1]:void 0,new RegExp("^(?:"+a.source+")",f)})},Opal.modules["bcdice/normalize"]=function(e){var q,U,C,M=e.module,H=e.eqeqeq,u=e.def,P=e.eqeq,x=[],E=e.nil;return q=x,C=[M(x[0],"BCDice")].concat(q),(U=M(C[0],"Normalize")).$module_function(),u(U,"$comparison_operator",function(B){var L;return H(/<=|=</,L=B)?"<=":H(/>=|=>/,L)?">=":H(/<>|!=|=!/,L)?"!=":H(/</,L)?"<":H(/>/,L)?">":H(/=/,L)?"==":E}),u(U,"$target_number",function(B){return P(B,"?")?B:B.$to_i()})},Opal.modules["bcdice/command/lexer"]=function(e){var j,V,D,r,$,m,I,a,L,M=e.module,H=e.klass,u=e.const_set,P=e.hash2,x=e.truthy,E=e.send,F=e.def,q=e.thrower,S=e.top,C=[],R=e.nil;return S.$require("strscan"),S.$require("bcdice/normalize"),j=C,V=L=[M(C[0],"BCDice")].concat(j),D=a=[M(L[0],"Command")].concat(V),$=[r=H(a[0],null,"Lexer")].concat(D),m=e.$r($),(I=r.$$prototype).scanner=I.notations=R,u($[0],"SYMBOLS",P(["+","-","*","/","(",")","?","@","#","$"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","?":"QUESTION","@":"AT","#":"SHARP",$:"DOLLAR"}).$freeze()),F(r,"$initialize",function(v,o){var y,l,s;return v=x(s=(y=(l=v)===R||null==l?R:l.$split(" ",2))===R||null==y?R:y.$first())?s:"",this.scanner=m("StringScanner").$new(v),this.notations=E(o,"map",[],function(_){return null==_&&(_=R),x(_["$is_a?"](m("String")))?m("Regexp").$new(_):_})}),F(r,"$next_token",function(){try{var v=q("return"),o=this,y=R,l=R,s=R,b=R;return x(o.scanner["$eos?"]())?[!1,"$"]:(E(o.notations,"each",[],function _(z){var g,T=null==_.$$s?this:_.$$s;if(null==T.scanner&&(T.scanner=R),null==z&&(z=R),g=T.scanner.$scan(z),!x(g))return R;v.$throw(["NOTATION",g])},{$$s:o,$$ret:v}),x(y=o.scanner.$scan(/\d+/))?["NUMBER",y.$to_i()]:x(l=o.scanner.$scan(/[<>!=]+/))?(l=m("Normalize").$comparison_operator(l),[x(l)?"CMP_OP":"ILLEGAL",l]):(s=o.scanner.$getch().$upcase(),[x(b=m("SYMBOLS")["$[]"](s))?b:s.$to_sym(),s]))}catch(_){if(_===v)return _.$v;throw _}}),F(r,"$source",function(){return this.scanner.$string()})},Opal.modules["bcdice/command/parsed"]=function(e){var S,j,W,a,f,t,D,L,R,M=e.module,H=e.klass,u=e.def,P=e.return_ivar,x=e.truthy,E=[],F=e.nil;return S=E,j=R=[M(E[0],"BCDice")].concat(S),W=L=[M(R[0],"Command")].concat(j),f=[a=H(L[0],null,"Parsed")].concat(W),t=e.$r(f),(D=a.$$prototype).critical=D.fumble=D.dollar=D.modify_number=D.question_target=D.target_number=D.prefix_number=D.command=D.suffix_number=D.cmp_op=F,a.$attr_accessor("command"),a.$attr_accessor("prefix_number"),a.$attr_accessor("suffix_number"),a.$attr_accessor("critical"),a.$attr_accessor("fumble"),a.$attr_accessor("dollar"),a.$attr_accessor("modify_number"),a.$attr_accessor("cmp_op"),a.$attr_accessor("target_number"),a.$attr_writer("question_target"),u(a,"$initialize",function(){var $=this;return $.prefix_number=F,$.suffix_number=F,$.critical=F,$.fumble=F,$.dollar=F,$.cmp_op=F,$.target_number=F,$.question_target=!1}),u(a,"$question_target?",P("question_target")),u(a,"$to_s",function($){var m=this,I=F,p=F,v=F,o=F,y=F;switch(null==$&&($="after_command"),I=x(m.critical)?"@"+m.critical:F,p=x(m.fumble)?"#"+m.fumble:F,v=x(m.dollar)?"$"+m.dollar:F,o=t("Format").$modifier(m.modify_number),y=x(m.question_target)?"?":m.target_number,$){case"after_command":return[m.prefix_number,m.command,m.suffix_number,I,p,v,o,m.cmp_op,y].$join();case"after_modify_number":return[m.prefix_number,m.command,m.suffix_number,o,I,p,v,m.cmp_op,y].$join();case"after_target_number":return[m.prefix_number,m.command,m.suffix_number,o,m.cmp_op,y,I,p,v].$join();default:return F}},-1)},Opal.modules["bcdice/command/parser"]=function(e){var $,v,b,g,c,w,n,d,i,K,X,Z,ue,_,z,T,te,y,l,I,M=e.klass,H=e.module,u=e.slice,P=e.extract_kwargs,x=e.ensure_kwargs,E=e.get_kwarg,F=e.send2,q=e.find_super,S=e.def,C=e.send,R=e.eqeq,U=e.thrower,j=e.hash,B=e.const_set,L=e.truthy,k=e.to_ary,V=e.hash2,W=e.top,a=[],f=e.$r(a),t=e.nil,D=e.$$$;return W.$require("racc/parser.rb"),W.$require("bcdice/arithmetic/node"),W.$require("bcdice/command/lexer"),W.$require("bcdice/command/parsed"),M(D(f("BCDice"),"Command"),D(f("Racc"),"Parser"),"Parser"),$=a,v=I=[H(a[0],"BCDice")].concat($),y=[H(I[0],"Command")].concat(v),l=e.$r(y),b=y,z=[_=M(y[0],D(l("Racc"),"Parser"),"Parser")].concat(b),T=e.$r(z),(te=_.$$prototype).notations=te.lexer=te.modifier=te.suffix_number=te.prefix_number=te.need_suffix_number=te.need_prefix_number=te.critical=te.fumble=te.dollar=te.allowed_cmp_op=te.question_target=t,S(_,"$initialize",function Y(A,Q){var G,N,ee,O,J=this;return Y.$$p=null,G=u(arguments),N=P(G),N=x(N),ee=G,O=E(N,"round_type"),F(J,q(J,"initialize",Y,!1,!0),"initialize",[],null),J.notations=ee,J.round_type=O,J.prefix_number=!1,J.suffix_number=!1,J.need_prefix_number=!1,J.need_suffix_number=!1,J.modifier=!0,J.critical=!1,J.fumble=!1,J.dollar=!1,J.allowed_cmp_op=[t,">=",">","<=","<","==","!="],J.question_target=!1},-2),S(_,"$disable_modifier",function(){return this.modifier=!1,this}),S(_,"$enable_prefix_number",function(){return this.prefix_number=!0,this}),S(_,"$enable_suffix_number",function(){return this.suffix_number=!0,this}),S(_,"$has_prefix_number",function(){var A=this;return A.prefix_number=!0,A.need_prefix_number=!0,A}),S(_,"$has_suffix_number",function(){var A=this;return A.suffix_number=!0,A.need_suffix_number=!0,A}),S(_,"$enable_critical",function(){return this.critical=!0,this}),S(_,"$enable_fumble",function(){return this.fumble=!0,this}),S(_,"$enable_dollar",function(){return this.dollar=!0,this}),S(_,"$restrict_cmp_op_to",function(A){var Q,N=this;return Q=u(arguments),N.allowed_cmp_op=Q,N},-1),S(_,"$enable_question_target",function(){return this.question_target=!0,this}),S(_,"$parse",function(A){var Q=this;try{return Q.lexer=T("Lexer").$new(A,Q.notations),Q.$do_parse()}catch(G){if(!e.rescue(G,[T("ParseError"),T("ZeroDivisionError")]))throw G;try{return t}finally{e.pop_exception()}}}),_.$private(),S(_,"$parsed",function(A,Q,G,N){try{return U("eval_return"),C(T("Parsed").$new(),"tap",[],function re(J){var ae,ce,oe,fe,de,le,ve,_e=null==re.$$s?this:re.$$s;return null==_e.round_type&&(_e.round_type=t),null==J&&(J=t),J["$command="](A["$[]"]("command")),J["$prefix_number="]((ae=A["$[]"]("prefix"))===t||null==ae?t:ae.$eval(_e.round_type)),J["$suffix_number="]((ce=A["$[]"]("suffix"))===t||null==ce?t:ce.$eval(_e.round_type)),J["$critical="]((oe=Q["$[]"]("critical"))===t||null==oe?t:oe.$eval(_e.round_type)),J["$fumble="]((fe=Q["$[]"]("fumble"))===t||null==fe?t:fe.$eval(_e.round_type)),J["$dollar="]((de=Q["$[]"]("dollar"))===t||null==de?t:de.$eval(_e.round_type)),J["$modify_number="](G.$eval(_e.round_type)),J["$cmp_op="](N["$[]"]("cmp_op")),R(N["$[]"]("target"),"?")?(J["$question_target="](!0),C(J,"target_number=",le=[0]),le[le.length-1]):(J["$question_target="](!1),le=[(ve=N["$[]"]("target"),ve===t||null==ve?t:ve.$eval(_e.round_type))],C(J,"target_number=",le),le[le.length-1])},{$$s:this})}catch(re){if(re===e.t_eval_return)return re.$v;throw re}}),S(_,"$next_token",function(){return this.lexer.$next_token()}),g=e.large_array_unpack("6,6,6,6,7,28,29,17,18,5,5,5,5,6,26,12,4,45,17,18,10,11,5,10,11,6,23,24,25,26,17,18,6,20,5,33,34,17,18,6,35,5,28,29,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,33,34,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,,,17,18,6,,5,,,17,18,,,5,23,24,25,26,56,54,55,57"),c=e.large_array_unpack("0,4,26,12,1,21,21,26,26,0,4,26,12,5,21,3,0,26,5,5,8,8,5,2,2,10,8,8,8,8,10,10,11,7,10,14,14,11,11,17,14,11,9,9,17,17,18,,17,15,15,18,18,23,,18,30,30,23,23,24,,23,31,31,24,24,25,,24,44,44,25,25,28,,25,47,47,28,28,29,,28,48,48,29,29,33,,29,49,49,33,33,34,,33,50,50,34,34,36,,34,,,36,36,37,,36,,,37,37,,,37,27,27,27,27,52,52,52,52"),w=e.large_array_unpack("-2,4,16,-3,-1,11,,33,13,35,23,30,1,,28,40,,37,44,,,-2,,51,58,65,0,106,72,79,47,54,,86,93,,100,107,,,,,,,63,,,68,75,82,89,,120,,,,,"),n=e.large_array_unpack("-35,-35,-8,-35,-7,-35,-34,-35,-16,-8,-35,-35,-5,-6,-35,-21,-24,-35,-35,-32,58,-16,-3,-35,-35,-35,-35,-16,-35,-35,-12,-13,-4,-35,-35,-33,-35,-35,-30,-31,-1,-9,-10,-11,-17,-18,-2,-14,-15,-19,-20,-22,-25,-23,-26,-27,-28,-29"),d=e.large_array_unpack("30,31,38,39,14,8,1,22,41,42,43,9,27,2,53,,,21,47,48,40,51,52,49,50,44,46,3,,,,13,,,,,,,,32"),i=e.large_array_unpack("8,8,7,7,9,3,1,5,7,7,7,4,3,2,10,,,4,8,8,5,7,7,8,8,9,5,6,,,,6,,,,,,,,6"),K=[t,6,13,3,9,-1,27,-15,-10,-1,-38],X=[t,t,t,t,t,t,19,16,15,t,t],Z=e.large_array_unpack("0,0,racc_error,4,20,_reduce_1,4,20,_reduce_2,3,20,_reduce_3,3,21,_reduce_4,2,21,_reduce_5,2,21,_reduce_6,1,21,_reduce_7,0,22,_reduce_8,3,22,_reduce_9,3,22,_reduce_10,3,22,_reduce_11,2,23,_reduce_12,2,23,_reduce_13,3,23,_reduce_14,3,23,_reduce_15,0,24,_reduce_16,2,24,_reduce_17,2,24,_reduce_18,3,28,_reduce_19,3,28,_reduce_20,1,28,_reduce_none,3,27,_reduce_22,4,27,_reduce_23,1,27,_reduce_none,0,29,_reduce_25,1,29,_reduce_26,1,29,_reduce_27,1,29,_reduce_28,1,29,_reduce_29,2,26,_reduce_30,2,26,_reduce_31,1,26,_reduce_none,3,25,_reduce_33,1,25,_reduce_34"),ue=j(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12,"AT",13,"SHARP",14,"DOLLAR",15,"CMP_OP",16,"QUESTION",17,"NOTATION",18),B(z[0],"Racc_arg",[g,c,n,w,d,i,X,K,19,Z,ue,58,35,!0]),B(z[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","AT","SHARP","DOLLAR","CMP_OP","QUESTION","NOTATION","$start","expr","notation","option","modifier","target","term","unary","mul","add","round_type"]),B(z[0],"Racc_debug_parser",!1),S(_,"$_reduce_1",function(A,Q,G){var N,O=this;return L(O.modifier)||O.$raise(T("ParseError")),N=k(A),O.$parsed(null==N[0]?t:N[0],null==N[1]?t:N[1],null==N[2]?t:N[2],null==N[3]?t:N[3])}),S(_,"$_reduce_2",function(A,Q,G){var N,O=this;return L(O.modifier)||O.$raise(T("ParseError")),N=k(A),O.$parsed(null==N[0]?t:N[0],null==N[2]?t:N[2],null==N[1]?t:N[1],null==N[3]?t:N[3])}),S(_,"$_reduce_3",function(A,Q,G){var N,ae;return ae=null==(N=k(A))[2]?t:N[2],this.$parsed(null==N[0]?t:N[0],null==N[1]?t:N[1],D(D(T("Arithmetic"),"Node"),"Number").$new(0),ae)}),S(_,"$_reduce_4",function(A,Q,G){var N=this;return L(N.prefix_number)&&L(N.suffix_number)||N.$raise(T("ParseError")),V(["command","prefix","suffix"],{command:A["$[]"](1),prefix:A["$[]"](0),suffix:A["$[]"](2)})}),S(_,"$_reduce_5",function(A,Q,G){var N=this;return L(N.prefix_number)||N.$raise(T("ParseError")),L(N.need_suffix_number)&&N.$raise(T("ParseError")),V(["command","prefix"],{command:A["$[]"](1),prefix:A["$[]"](0)})}),S(_,"$_reduce_6",function(A,Q,G){var N=this;return L(N.suffix_number)||N.$raise(T("ParseError")),L(N.need_prefix_number)&&N.$raise(T("ParseError")),V(["command","suffix"],{command:A["$[]"](0),suffix:A["$[]"](1)})}),S(_,"$_reduce_7",function(A,Q,G){var N=this;return(L(N.need_prefix_number)||L(N.need_suffix_number))&&N.$raise(T("ParseError")),V(["command"],{command:A["$[]"](0)})}),S(_,"$_reduce_8",function(A,Q,G){return V([],{})}),S(_,"$_reduce_9",function(A,Q,G){var N,ae,re=t;return re=null==(N=k(A))[0]?t:N[0],ae=null==N[2]?t:N[2],L(this.critical)&&L(re["$[]"]("critical")["$nil?"]())||this.$raise(T("ParseError")),re["$[]="]("critical",ae),re}),S(_,"$_reduce_10",function(A,Q,G){var N,ae,re=t;return re=null==(N=k(A))[0]?t:N[0],ae=null==N[2]?t:N[2],L(this.fumble)&&L(re["$[]"]("fumble")["$nil?"]())||this.$raise(T("ParseError")),re["$[]="]("fumble",ae),re}),S(_,"$_reduce_11",function(A,Q,G){var N,ae,re=t;return re=null==(N=k(A))[0]?t:N[0],ae=null==N[2]?t:N[2],L(this.dollar)&&L(re["$[]"]("dollar")["$nil?"]())||this.$raise(T("ParseError")),re["$[]="]("dollar",ae),re}),S(_,"$_reduce_12",function(A,Q,G){return A["$[]"](1)}),S(_,"$_reduce_13",function(A,Q,G){return D(D(T("Arithmetic"),"Node"),"Negative").$new(A["$[]"](1))}),S(_,"$_reduce_14",function(A,Q,G){return D(D(T("Arithmetic"),"Node"),"BinaryOp").$new(A["$[]"](0),"+",A["$[]"](2))}),S(_,"$_reduce_15",function(A,Q,G){return D(D(T("Arithmetic"),"Node"),"BinaryOp").$new(A["$[]"](0),"-",A["$[]"](2))}),S(_,"$_reduce_16",function(A,Q,G){return L(this.allowed_cmp_op["$include?"](t))||this.$raise(T("ParseError")),V([],{})}),S(_,"$_reduce_17",function(A,Q,G){var N,re,J;return J=null==(N=k(A))[1]?t:N[1],L(this.allowed_cmp_op["$include?"](re=null==N[0]?t:N[0]))||this.$raise(T("ParseError")),V(["cmp_op","target"],{cmp_op:re,target:J})}),S(_,"$_reduce_18",function(A,Q,G){var ee,N=this;return ee=A["$[]"](0),L(N.question_target)||N.$raise(T("ParseError")),L(N.allowed_cmp_op["$include?"](ee))||N.$raise(T("ParseError")),V(["cmp_op","target"],{cmp_op:ee,target:"?"})}),S(_,"$_reduce_19",function(A,Q,G){return D(D(T("Arithmetic"),"Node"),"BinaryOp").$new(A["$[]"](0),"+",A["$[]"](2))}),S(_,"$_reduce_20",function(A,Q,G){return D(D(T("Arithmetic"),"Node"),"BinaryOp").$new(A["$[]"](0),"-",A["$[]"](2))}),S(_,"$_reduce_22",function(A,Q,G){return D(D(T("Arithmetic"),"Node"),"BinaryOp").$new(A["$[]"](0),"*",A["$[]"](2))}),S(_,"$_reduce_23",function(A,Q,G){return A["$[]"](3).$new(A["$[]"](0),A["$[]"](2))}),S(_,"$_reduce_25",function(A,Q,G){return D(D(T("Arithmetic"),"Node"),"DivideWithGameSystemDefault")}),S(_,"$_reduce_26",function(A,Q,G){return D(D(T("Arithmetic"),"Node"),"DivideWithCeil")}),S(_,"$_reduce_27",function(A,Q,G){return D(D(T("Arithmetic"),"Node"),"DivideWithCeil")}),S(_,"$_reduce_28",function(A,Q,G){return D(D(T("Arithmetic"),"Node"),"DivideWithRound")}),S(_,"$_reduce_29",function(A,Q,G){return D(D(T("Arithmetic"),"Node"),"DivideWithFloor")}),S(_,"$_reduce_30",function(A,Q,G){return A["$[]"](1)}),S(_,"$_reduce_31",function(A,Q,G){return D(D(T("Arithmetic"),"Node"),"Negative").$new(A["$[]"](1))}),S(_,"$_reduce_33",function(A,Q,G){return A["$[]"](1)}),S(_,"$_reduce_34",function(A,Q,G){return D(D(T("Arithmetic"),"Node"),"Number").$new(A["$[]"](0))}),S(_,"$_reduce_none",function(A,Q,G){return A["$[]"](0)})},Opal.modules["bcdice/deprecated/checker"]=function(e){var C,B,W,a,f,t,k,U,M=e.module,H=e.send,u=e.eqeqeq,P=e.truthy,x=e.def,E=e.return_val,F=[],q=e.nil;return C=F,B=U=[M(F[0],"BCDice")].concat(C),W=k=[M(U[0],"Deprecated")].concat(B),f=[a=M(k[0],"Checker")].concat(W),t=e.$r(f),a.$private(),x(a,"$check_result_legacy",function(r,$,m,I){var y,p=this,v=q,o=q,l=q,h=q;return v=H($,"map",[],"sides".$to_proc()),y=(o=H($,"map",[],"value".$to_proc())).$sum(),l=u([100],h=v)?p.$check_1D100(r,y,m,I):u([20],h)?p.$check_1D20(r,y,m,I):u([6,6],h)?p.$check_2D6(r,y,o,m,I):q,(P(l["$nil?"]())||P(l["$empty?"]()))&&(l=u([10],h=v.$uniq())?p.$check_nD10(r,y,o,m,I):u([6],h)?p.$check_nD6(r,y,o,m,I):q,P(l["$nil?"]())||P(l["$empty?"]()))?q:t("Result").$new(l.$delete_prefix(" \uff1e "))}),x(a,"$check_1D100",E(q)),x(a,"$check_1D20",E(q)),x(a,"$check_nD10",E(q)),x(a,"$check_2D6",E(q)),x(a,"$check_nD6",E(q))},Opal.modules["bcdice/base"]=function(e){var f,p,h,T,c,w,s,b,_,z,o,M=e.module,H=e.klass,u=e.slice,P=e.rb_plus,x=e.truthy,E=e.def,F=e.regexp,q=e.send,S=e.thrower,C=e.return_ivar,R=e.assign_ivar_val,U=e.eqeqeq,j=e.eqeq,B=e.return_val,L=e.range,k=e.rb_minus,V=e.rb_divide,W=e.rb_times,a=e.rb_ge,t=e.top,D=[],r=e.$r(D),$=e.nil,m=e.$$$;return t.$require("i18n"),t.$require("i18n/backend/fallbacks"),t.$require("bcdice/randomizer"),t.$require("bcdice/dice_table"),t.$require("bcdice/enum"),t.$require("bcdice/translate"),t.$require("bcdice/result"),t.$require("bcdice/command/parser"),t.$require("bcdice/deprecated/checker"),p=D,h=o=[M(D[0],"BCDice")].concat(p),b=[s=H(o[0],null,"Base")].concat(h),_=e.$r(b),(z=s.$$prototype).raw_input=z.randomizer=z.enabled_upcase_input=z.debug=$,c=[T=e.get_singleton_class(s)].concat(b),w=e.$r(c),T.$attr_reader("prefixes"),E(T,"$register_prefix",function(d){var K,X=this,Z=$;return null==X.prefixes&&(X.prefixes=$),K=u(arguments),X.prefixes=P(x(Z=X.prefixes)?Z:[],K.$flatten())},-1),E(T,"$register_prefix_from_super_class",function(){return this.$register_prefix(this.$superclass().$prefixes())}),E(T,"$prefixes_pattern",function(){var d=this,i=$;return null==d.prefixes_pattern&&(d.prefixes_pattern=$),null==d.prefixes&&(d.prefixes=$),d.prefixes_pattern=x(i=d.prefixes_pattern)?i:$,x(d.prefixes_pattern)?d.prefixes_pattern:(d.prefixes=x(i=d.prefixes)?i:[],d.prefixes.$freeze(),d.prefixes_pattern=(x(d.prefixes["$empty?"]())?/(?!)/:F(["^(S)?(",d.prefixes.$join("|"),")"],"i")).$freeze())}),E(T,"$command_pattern",function(){var d=this,i=$,K=$;return null==d.command_pattern&&(d.command_pattern=$),null==d.prefixes&&(d.prefixes=$),d.command_pattern=x(i=d.command_pattern)?i:$,x(d.command_pattern)?d.command_pattern:(d.prefixes=x(i=d.prefixes)?i:[],d.prefixes.$freeze(),K=P(q(m(w("CommonCommand"),"COMMANDS"),"map",[],function(Z){return null==Z&&(Z=$),m(Z,"PREFIX_PATTERN").$source()}),d.prefixes),d.command_pattern=F(["^S?(",K.$join("|"),")"],"i").$freeze())}),E(T,"$eval",function(d){try{return S("eval_return"),this.$new(d).$eval()}catch(X){if(X===e.t_eval_return)return X.$v;throw X}}),s.$include(_("Translate")),s.$include(m(_("Deprecated"),"Checker")),E(s,"$initialize",function(g){var c=this;return c.raw_input=g,c.sort_add_dice=!1,c.sort_barabara_dice=!1,c.d66_sort_type=m(_("D66SortType"),"NO_SORT"),c.enabled_d9=!1,c.round_type=m(_("RoundType"),"FLOOR"),c.sides_implicit_d=6,c.upper_dice_reroll_threshold=$,c.reroll_dice_reroll_threshold=$,c.default_cmp_op=$,c.default_target_number=$,c.enabled_upcase_input=!0,c.locale="ja_jp",c.randomizer=m(_("BCDice"),"Randomizer").$new(),c.debug=!1}),s.$attr_accessor("randomizer"),s.$attr_reader("d66_sort_type"),s.$attr_reader("round_type"),s.$attr_reader("sides_implicit_d"),s.$attr_reader("upper_dice_reroll_threshold"),s.$attr_reader("reroll_dice_reroll_threshold"),s.$attr_reader("default_cmp_op"),s.$attr_reader("default_target_number"),E(s,"$sort_add_dice?",C("sort_add_dice")),E(s,"$sort_barabara_dice?",C("sort_barabara_dice")),E(s,"$enabled_d9?",C("enabled_d9")),E(s,"$enable_debug",R("debug",!0)),E(s,"$eval",function(){var c,n,g=this,w=$;return c=m(_("BCDice"),"Preprocessor").$process(g.raw_input,g),w=x(n=g.$dice_command(c))?n:g.$eval_common_command(g.raw_input),x(w)?(w["$rands="](g.randomizer.$rand_results()),w["$detailed_rands="](g.randomizer.$detailed_rand_results()),w):$}),E(s,"$change_text",function(g){return g}),E(s,"$check_result",function(g,c,w,n){var d=this,i=$,K=$,X=$,Z=$,ie=$;return i=d.$check_result_legacy(g,c,w,n),x(i)?i:(K=q(c,"map",[],"sides".$to_proc()),Z=(X=q(c,"map",[],"value".$to_proc())).$sum(),i=U([100],ie=K)?d.$result_1d100(g,Z,w,n):U([20],ie)?d.$result_1d20(g,Z,w,n):U([6,6],ie)?d.$result_2d6(g,Z,X,w,n):$,j(i,_("Result").$nothing())?$:x(i)?i:(i=U([10],ie=K.$uniq())?d.$result_nd10(g,Z,X,w,n):U([6],ie)?d.$result_nd6(g,Z,X,w,n):$,j(i,_("Result").$nothing())?$:x(i)?i:d.$result_ndx(g,w,n)))}),E(s,"$grich_text",B($)),s.$private(),E(s,"$eval_common_command",function(g){try{S("eval_return");var w=S("return");return g=this.$change_text(g),q(m(_("CommonCommand"),"COMMANDS"),"each",[],function d(i){var X,K=null==d.$$s?this:d.$$s;if(null==K.randomizer&&(K.randomizer=$),null==i&&(i=$),X=i.$eval(g,K,K.randomizer),!x(X))return $;w.$throw(X)},{$$s:this,$$ret:w}),$}catch(d){if(d===e.t_eval_return||d===w)return d.$v;throw d}}),E(s,"$dice_command",function(g){var c=this,w=$,n=$,d=$,i=$;return x(c.enabled_upcase_input)&&(g=g.$upcase()),w=c.$class().$prefixes_pattern().$match(g),x(w)?(n=w["$[]"](1)["$nil?"]()["$!"](),x(n)&&(g=g["$[]"](L(1,-1,!1))),d=c.$eval_game_system_specific_command(g),x(d["$is_a?"](_("Result")))?(d["$secret="](x(i=d["$secret?"]())?i:n),d):x(d["$nil?"]())||x(d["$empty?"]())||j(d,"1")?$:q(_("Result").$new(),"tap",[],function(X){var Z;return null==X&&(X=$),X["$text="](d.$to_s()),q(X,"secret=",Z=[n]),Z[Z.length-1]})):$}),E(s,"$eval_game_system_specific_command",B($)),E(s,"$result_ndx",function(g,c,w){return x(w["$is_a?"](_("String")))?$:x(g.$send(c,w))?_("Result").$success(this.$translate("success")):_("Result").$failure(this.$translate("failure"))}),E(s,"$result_1d100",B($)),E(s,"$result_1d20",B($)),E(s,"$result_nd10",B($)),E(s,"$result_2d6",B($)),E(s,"$result_nd6",B($)),E(s,"$get_table_by_2d6",function(g){return this.$get_table_by_nD6(g,2)}),E(s,"$get_table_by_1d6",function(g){return this.$get_table_by_nD6(g,1)}),E(s,"$get_table_by_nD6",function(g,c){return this.$get_table_by_nDx(g,c,6)}),E(s,"$get_table_by_nDx",function(g,c,w){var d,i=$;return d=this.randomizer.$roll_sum(c,w),i=this.$get_table_value(g["$[]"](k(d,c))),x(i["$nil?"]())?["1",0]:[i,d]}),E(s,"$get_table_by_1d3",function(g){var n,d,c=this,i=$;return c.$debug("get_table_by_1d3"),n=c.randomizer.$roll_sum(1,6),c.$debug("num",n),d=V(k(n,1),2).$to_i(),c.$debug("index",d),i=g["$[]"](d),x(i["$nil?"]())?["1",0]:[i,n]}),E(s,"$get_table_by_d66_swap",function(g){var w;return w=this.randomizer.$roll_d66(m(_("D66SortType"),"ASC")),[this.$get_table_by_number(w,g),w]}),E(s,"$get_table_by_d66",function(g){var w,n,d,K,i=$;return w=this.randomizer.$roll_once(6),n=this.randomizer.$roll_once(6),d=P(W(k(w,1),6),k(n,1)),i=g["$[]"](d),K=""+w+n,x(i["$nil?"]())?["1",K]:[i,K]}),E(s,"$get_table_by_number",function(g,c,w){try{var n=S("return");return null==w&&(w="1"),q(c,"each",[],function i(K){var Z,X=null==i.$$s?this:i.$$s;if(null==K&&(K=$),Z=K["$[]"](0),!x(a(Z,g)))return $;n.$throw(X.$get_table_value(K["$[]"](1)))},{$$s:this,$$ret:n}),this.$get_table_value(w)}catch(i){if(i===n)return i.$v;throw i}},-3),E(s,"$get_table_value",function(g){return x(g["$is_a?"](_("Proc")))?g.$call():g}),E(s,"$roll_tables",function(g,c){var n=$;return n=c["$[]"](g),x(n)?n.$roll(this.randomizer).$to_s():$}),E(s,"$debug",function(g,c){var n,d=this,i=$,K=$;return n=u(arguments,1),x(d.debug)?(i=x(g["$is_a?"](_("String")))?g:g.$inspect(),x(n["$empty?"]())?d.$warn(i):(K=q(n,"map",[],function(Z){return null==Z&&(Z=$),x(Z["$is_a?"](_("String")))?'"'+Z+'"':Z.$inspect()}),d.$warn(i+": "+K.$join(", ")))):$},-2),m(m(r("I18n"),"Backend"),"Simple").$include(m(m(r("I18n"),"Backend"),"Fallbacks")),r("I18n").$load_path()["$<<"](r("Dir")["$[]"](r("File").$join("bcdice","../../i18n/**/*.yml"))),r("I18n")["$default_locale="]("ja_jp"),f=[["ja_jp"]],q(r("I18n").$fallbacks(),"defaults=",f),f[f.length-1]},Opal.queue(function(e){var L,a,m,I,p,v,t,D,V,M=e.module,H=e.klass,u=e.const_set,P=e.regexp,x=e.truthy,E=e.def,F=e.thrower,q=e.send,S=e.hash2,R=[],U=e.nil,j=e.$$$;return e.top.$require("bcdice/base"),L=R,a=V=[M(R[0],"BCDice")].concat(L),t=[M(V[0],"GameSystem")].concat(a),D=e.$r(t),m=t,p=[I=H(t[0],D("Base"),"UnsungDuet")].concat(m),v=e.$r(p),I.$$prototype.randomizer=U,u(p[0],"ID","UnsungDuet"),u(p[0],"NAME","\u30a2\u30f3\u30b5\u30f3\u30b0\u30fb\u30c7\u30e5\u30a8\u30c3\u30c8"),u(p[0],"SORT_KEY","\u3042\u3093\u3055\u3093\u304f\u3066\u3086\u3048\u3064\u3068"),u(p[0],"HELP_MESSAGE","\u25a0 \u30b7\u30d5\u30bf\u30fc\u7528\u5224\u5b9a (shifter, UDS)\n  1D10\u3092\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3066\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n  \u4f8b\uff09 shifter, UDS, shifter>=5, shifter+1>=6\n\n\u25a0 \u30d0\u30a4\u30f3\u30c0\u30fc\u7528\u5224\u5b9a (binder, UDB)\n  2D6\u3092\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3066\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n  \u4f8b\uff09 binder, UDB, binder>=5, binder+1>=6\n\n\u25a0 \u5909\u7570\u8868\n  \u30fb\u5916\u50b7 (HIN, HInjury)\n  \u30fb\u4f53\u8abf\u306e\u5909\u5316 (HPH, HPhysical)\n  \u30fb\u6050\u6016 (HFE, HFear)\n  \u30fb\u5e7b\u60f3\u5316 (HFA, HFantasy)\n  \u30fb\u7cbe\u795e (HMI, HMind)\n  \u30fb\u305d\u306e\u307b\u304b (HOT, HOther)\n"),u(p[0],"ALIAS_1D10",["shifter","UDS"].$freeze()),u(p[0],"ALIAS_2D6",["binder","UDB"].$freeze()),u(p[0],"SHIFTER_ALIAS_REG",P(["^",v("ALIAS_1D10").$join("|")],"i").$freeze()),u(p[0],"BINDER_ALIAS_REG",P(["^",v("ALIAS_2D6").$join("|")],"i").$freeze()),I.$register_prefix(v("ALIAS_1D10"),v("ALIAS_2D6")),E(I,"$eval_game_system_specific_command",function(l){var b,h=this,s=U;return l=x(s=v("ALIAS")["$[]"](l))?s:l,x(s=x(b=h.$roll_replaced_command_if_match(l,v("SHIFTER_ALIAS_REG"),"1D10"))?b:h.$roll_replaced_command_if_match(l,v("BINDER_ALIAS_REG"),"2D6"))?s:h.$roll_tables(l,v("TABLES"))}),E(I,"$roll_replaced_command_if_match",function(l,h,s){try{return F("eval_return"),x(l["$match?"](h))?j(v("CommonCommand"),"AddDice").$eval(l.$sub(h,s),this,this.randomizer):U}catch(z){if(z===e.t_eval_return)return z.$v;throw z}}),u(p[0],"ALIAS",q(S(["HInjury","HPhysical","HFear","HFantasy","HMind","HOther"],{HInjury:"HIN",HPhysical:"HPH",HFear:"HFE",HFantasy:"HFA",HMind:"HMI",HOther:"HOT"}),"transform_keys",[],"upcase".$to_proc())),u(p[0],"TABLES",S(["HIN","HPH","HFE","HFA","HMI","HOT"],{HIN:j(v("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u5916\u50b7","1D6",["\u9854\u306e\u50b7 \u2192 \u9854\u306b\u3067\u304d\u305f\u50b7\u3002\u3058\u308f\u308a\u3068\u8840\u304c\u306b\u3058\u3080","\u5927\u304d\u306a\u602a\u6211 \u2192 \u65e9\u304f\u624b\u5f53\u3066\u3092\u3057\u306a\u3044\u3068\u547d\u306b\u95a2\u308f\u308b","\u75db\u307f\u306e\u306a\u3044\u50b7 \u2192 \u5927\u304d\u306a\u50b7\u306a\u306e\u306b\u3001\u306a\u305c\u304b\u75db\u304f\u306a\u3044","\u55aa\u5931 \u2192 \u8eab\u4f53\u306e\u3069\u3053\u304b\u304c\u6d88\u3048\u3066\u3057\u307e\u3063\u305f","\u6587\u5b57\u306e\u3088\u3046\u306a\u50b7\u8de1 \u2192 \u8aad\u3081\u306a\u3044\u6587\u5b57\u306e\u3088\u3046\u306a\u50b7","\u6a21\u69d8\u3092\u63cf\u304f\u30a2\u30b6 \u2192 \u6a21\u69d8\u306e\u3088\u3046\u306a\u3001\u8eab\u4f53\u306b\u3067\u304d\u305f\u30a2\u30b6"]),HPH:j(v("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u4f53\u8abf\u306e\u5909\u5316","1D6",["\u8996\u754c\u304c\u307c\u3084\u3051\u308b \u2192 \u76ee\u306e\u7126\u70b9\u304c\u5408\u308f\u306a\u3044","\u8033\u9cf4\u308a \u2192 \u305a\u3063\u3068\u7532\u9ad8\u3044\u97f3\u304c\u9cf4\u308a\u7d9a\u3051\u3066\u3044\u308b\u6c17\u304c\u3059\u308b","\u7570\u69d8\u306a\u5bd2\u6c17 \u2192 \u51cd\u3048\u305d\u3046\u306a\u307b\u3069\u306b\u5bd2\u304f\u611f\u3058\u308b","\u767a\u6c57 \u2192 \u6691\u3044\u308f\u3051\u3067\u3082\u306a\u3044\u306e\u306b\u3001\u6c57\u304c\u3060\u3089\u3060\u3089\u3068","\u5e7b\u899a \u2192 \u305d\u308c\u304c\u672c\u7269\u304b\u5e7b\u304b\u3001\u533a\u5225\u304c\u3064\u304b\u306a\u3044","\u8d70\u99ac\u706f \u2192 \u904e\u53bb\u306e\u3053\u3068\u3092\u6b21\u3005\u3068\u601d\u3044\u51fa\u3057\u3066\u3057\u307e\u3046"]),HFE:j(v("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u6050\u6016","1D6",["\u4e0d\u5b89 \u2192 \u6f20\u7136\u3068\u3057\u305f\u4e0d\u5b89\u304c\u5fc3\u3092\u8755\u3080","\u72ed\u3044\u5834\u6240\u304c\u6016\u3044 \u2192 \u72ed\u3044\u5834\u6240\u306b\u5165\u308a\u305f\u304f\u306a\u3044","\u9707\u3048\u304c\u6b62\u307e\u3089\u306a\u3044 \u2192 \u3069\u3046\u3057\u3066\u3082\u843d\u3061\u7740\u304b\u306a\u3044","\u7269\u97f3\u304c\u6016\u3044 \u2192 \u307b\u3093\u306e\u5c0f\u3055\u306a\u7269\u97f3\u306b\u3082\u602f\u3048\u3066\u3057\u307e\u3046","\u6697\u3044\u5834\u6240\u304c\u6016\u3044 \u2192 \u706f\u308a\u306e\u306a\u3044\u5834\u6240\u304c\u3072\u3069\u304f\u6050\u308d\u3057\u3044","\u8ab0\u304b\u304c\u3064\u3044\u3066\u304f\u308b \u2192 \u8ab0\u304b\u304c\u5f8c\u308d\u306b\u3044\u308b\u6c17\u304c\u3059\u308b\u2026\u2026"]),HFA:j(v("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u5e7b\u60f3\u5316","1D6",["\u785d\u5b50\u5316 \u2192 \u8eab\u4f53\u306e\u4e00\u90e8\u304c\u30ac\u30e9\u30b9\u306e\u3088\u3046\u306b\u900f\u660e\u306b","\u7fbd\u6bdb\u5316 \u2192 \u8eab\u4f53\u306e\u3069\u3053\u304b\u304b\u3089\u7fbd\u6bdb\u304c\u751f\u3048\u3066\u304f\u308b","\u690d\u7269\u5316 \u2192 \u30c4\u30bf\u3084\u8449\u304c\u8eab\u4f53\u304b\u3089\u751f\u3048\u3066\u304f\u308b","\u52d5\u7269\u306e\u77b3 \u2192 \u77b3\u306e\u5f62\u304c\u52d5\u7269\u306e\u305d\u308c\u306b\u5909\u308f\u3063\u3066\u3057\u307e\u3046","\u6709\u89d2\u5316 \u2192 \u984d\u3084\u5074\u982d\u90e8\u304b\u3089\u89d2\u304c\u751f\u3048\u3066\u304f\u308b","\u9676\u5668\u5316 \u2192 \u76ae\u819a\u304c\u9676\u5668\u306e\u3088\u3046\u306a\u3082\u306e\u306b\u5909\u308f\u3063\u3066\u3044\u304f"]),HMI:j(v("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u7cbe\u795e","1D6",["\u8a18\u61b6\u306e\u6df7\u4e71 \u2192 \u3053\u3053\u306f\u3069\u3053\u3001\u3069\u3046\u3057\u3066\u3053\u3093\u306a\u3068\u3053\u308d\u306b?","\u5e7c\u5c11\u671f\u306e\u8a18\u61b6 \u2192 \u53e3\u8abf\u3084\u614b\u5ea6\u304c\u5e7c\u304f\u306a\u3063\u3066\u3057\u307e\u3046","\u7d20\u76f4 \u2192 \u601d\u3063\u305f\u3053\u3068\u3092\u5168\u90e8\u8a00\u3063\u3066\u3057\u307e\u3046","\u86ee\u52c7 \u2192 \u30d1\u30fc\u30c8\u30ca\u30fc\u3092\u5b88\u308b\u305f\u3081\u306b\u7121\u8336\u3070\u304b\u308a\u3059\u308b","\u7591\u5fc3\u6697\u9b3c \u2192 \u4f55\u3082\u304b\u3082\u304c\u60aa\u3044\u65b9\u5411\u306b\u3057\u304b\u8003\u3048\u3089\u308c\u306a\u3044","\u98df\u3079\u3061\u3083\u3044\u305f\u3044 \u2192 \u30d1\u30fc\u30c8\u30ca\u30fc\u3092\u304b\u3058\u308a\u305f\u304f\u306a\u308b"]),HOT:j(v("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u305d\u306e\u307b\u304b","1D6",["\u5f71\u7d75\u5316 \u2192 \u8eab\u4f53\u306e\u4e00\u90e8\u304c\u5f71\u306e\u3088\u3046\u306b\u306a\u308b","\u6c34\u69fd\u5316 \u2192 \u8eab\u4f53\u306e\u4e00\u90e8\u304c\u6c34\u69fd\u306e\u3088\u3046\u306a\u3082\u306e\u306b\u306a\u308b","\u6d99\u304c\u6b62\u307e\u3089\u306a\u3044 \u2192 \u306a\u305c\u304b\u6d99\u304c\u6d41\u308c\u7d9a\u3051\u308b","\u9264\u722a \u2192 \u624b\u3084\u8db3\u304c\u3001\u7363\u306e\u3088\u3046\u306a\u9264\u722a\u306b\u306a\u308b","\u672a\u6765\u8996 \u2192 \u672a\u6765\u304c\u898b\u3048\u3066\u3057\u307e\u3046\u3002\u672c\u5f53\u304b\u3069\u3046\u304b\u306f\u4e0d\u660e","\u5e30\u308a\u305f\u304f\u306a\u3044 \u2192 \u73fe\u5b9f\u306b\u5e30\u308a\u305f\u304f\u306a\u3044\u3068\u5fae\u304b\u306b\u601d\u3046"])}).$freeze()),I.$register_prefix(v("ALIAS").$keys(),v("TABLES").$keys())})}}]);