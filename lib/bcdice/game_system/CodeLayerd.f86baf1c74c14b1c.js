(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[9606],{6106:(X,Z,B)=>{B(9993),Opal.queue(function(i){var I,P,U,m,C,A,x,Y,D,z=i.module,G=i.klass,b=i.const_set,M=i.send2,R=i.find_super,g=i.def,r=i.truthy,u=i.rb_plus,v=i.rb_le,p=i.rb_gt,w=i.send,E=i.eqeq,j=i.neqeq,F=i.rb_ge,S=[],e=i.nil;return I=S,P=D=[z(S[0],"BCDice")].concat(I),x=[z(D[0],"GameSystem")].concat(P),Y=i.$r(x),U=x,C=[m=G(x[0],Y("Base"),"CodeLayerd")].concat(U),A=i.$r(C),m.$$prototype.randomizer=e,b(C[0],"ID","CodeLayerd"),b(C[0],"NAME","\u30b3\u30fc\u30c9\uff1a\u30ec\u30a4\u30e4\u30fc\u30c9"),b(C[0],"SORT_KEY","\u3053\u304a\u3068\u308c\u3044\u3084\u3042\u3068"),b(C[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\uff08nCL@m[c]+x \u307e\u305f\u306f nCL+x@m[c]\uff09 \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30fb\u30d5\u30a1\u30f3\u30d6\u30eb\u5224\u5b9a\u3042\u308a\n  (\u30c0\u30a4\u30b9\u6570)CL+(\u4fee\u6b63\u5024)@(\u5224\u5b9a\u5024)[(\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024)]+(\u4fee\u6b63\u50242)\n\n  @m,[c],+x\u306f\u7701\u7565\u53ef\u80fd\u3002(@6[1]\u3068\u3057\u3066\u51e6\u7406)\n  n\u500b\u306eD10\u3067m\u3092\u5224\u5b9a\u5024\u3001c\u3092\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3068\u3057\u305f\u884c\u70ba\u5224\u5b9a\u3092\u884c\u3046\u3002\n  n\u304c0\u4ee5\u4e0b\u306e\u3068\u304d\u306f\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3057\u306a\u30441CL\u5224\u5b9a\u3092\u884c\u3046\u3002(1CL[0]\u3068\u540c\u4e00)\n  \u4f8b\uff09\n  7CL>=5 \uff1a\u30b5\u30a4\u30b3\u30ed7\u500b\u3067\u5224\u5b9a\u50246\u306e\u30ed\u30fc\u30eb\u3092\u884c\u3044\u3001\u76ee\u6a19\u50245\u306b\u5bfe\u3057\u3066\u5224\u5b9a\n  4CL@7  \uff1a\u30b5\u30a4\u30b3\u30ed4\u500b\u3067\u5224\u5b9a\u50247\u306e\u30ed\u30fc\u30eb\u3092\u884c\u3044\u9054\u6210\u5024\u3092\u51fa\u3059\n  4CL+2@7 \u307e\u305f\u306f 4CL@7+2  \uff1a\u30b5\u30a4\u30b3\u30ed4\u500b\u3067\u5224\u5b9a\u50247\u306e\u30ed\u30fc\u30eb\u3092\u884c\u3044\u9054\u6210\u5024\u3092\u51fa\u3057\u3001\u4fee\u6b63\u50242\u3092\u8db3\u3059\u3002\n  4CL[2] \uff1a\u30b5\u30a4\u30b3\u30ed4\u500b\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u50242\u306e\u30ed\u30fc\u30eb\u3092\u884c\u3046\u3002\n  0CL : 1CL[0]\u3068\u540c\u3058\u5224\u5b9a\n\n  \u30c7\u30d5\u30a9\u30eb\u30c8\u30c0\u30a4\u30b9\uff1a10\u9762\n"),m.$register_prefix("[+-]?\\d*CL"),g(m,"$initialize",function L(_){var n=this;return L.$$p=null,M(n,R(n,"initialize",L,!1,!0),"initialize",[_],null),n.sides_implicit_d=10}),g(m,"$eval_game_system_specific_command",function(_){var n=e,o=e,s=e,a=e,h=e,t=e,f=e,l=e;return this.$debug("eval_game_system_specific_command command",_),n=/([+-]?\d+)?CL([+-]\d+)?(@(\d))?(\[(\d+)\])?([+-]\d+)?(>=(\d+))?/i.$match(_),r(n)?(o=(r(s=n["$[]"](1))?s:1).$to_i(),a=n["$[]"](2).$to_i(),h=(r(s=n["$[]"](4))?s:6).$to_i(),t=(r(s=n["$[]"](6))?s:1).$to_i(),f=n["$[]"](7).$to_i(),r(n["$[]"](9))&&(l=n["$[]"](9).$to_i()),this.$check_roll(_,o,h,t,l,u(a,f))):e}),g(m,"$check_roll",function(_,c,n,o,s,a){var l,k,y,q,t=e,f=e,$=e;return r(v(c,0))&&(o=0,c=1),t=A("Result").$new(),r(p(n,10))&&(n=10),f=this.randomizer.$roll_barabara(c,10).$sort(),l=w(f,"count",[],function(d){return null==d&&(d=e),v(d,n)}),k=w(f,"count",[],function(d){return null==d&&(d=e),v(d,o)}),t["$critical="](p(k,0)),y=u(u(l,k),a),$=_+" \uff1e ("+c+"d10"+(q=A("Format").$modifier(a))+") \uff1e ["+f.$join(",")+"]"+q+" \uff1e ",E(n,6)||($=u($,"\u5224\u5b9a\u5024["+n+"] ")),E(o,1)||($=u($,"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024["+o+"] ")),$=u($,"\u9054\u6210\u5024["+l+"]"),r(v(l,0))?(t["$fumble="](!0),t["$failure="](!0),t["$text="]($+" \uff1e \u30d5\u30a1\u30f3\u30d6\u30eb\uff01"),t):(r(t["$critical?"]())&&($=u($,"+\u30af\u30ea\u30c6\u30a3\u30ab\u30eb["+k+"]")),$=u($,q),(r(t["$critical?"]())||j(a,0))&&($=u($,"=["+y+"]")),r(s["$nil?"]())?t["$text="]($+" \uff1e "+y):r(F(y,s))?(t["$text="]($+" \uff1e \u6210\u529f"),t["$success="](!0)):(t["$text="]($+" \uff1e \u5931\u6557"),t["$failure="](!0)),t)})})}}]);