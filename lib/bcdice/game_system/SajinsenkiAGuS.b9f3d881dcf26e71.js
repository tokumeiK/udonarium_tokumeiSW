(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[5034],{4969:(W,X,P)=>{P(9993),Opal.queue(function(i){var B,Y,V,h,R,v,j,g,J,C,G=i.module,q=i.klass,k=i.const_set,a=i.truthy,p=i.def,y=i.rb_le,M=i.rb_plus,_=i.send,A=i.eqeq,x=i.thrower,S=i.hash2,z=i.rb_ge,w=i.rb_minus,N=i.rb_times,D=[],n=i.nil,L=i.$$$;return B=D,Y=C=[G(D[0],"BCDice")].concat(B),g=[G(C[0],"GameSystem")].concat(Y),J=i.$r(g),V=g,R=[h=q(g[0],J("Base"),"SajinsenkiAGuS")].concat(V),v=i.$r(R),(j=h.$$prototype).round_type=j.randomizer=n,k(R[0],"ID","SajinsenkiAGuS"),k(R[0],"NAME","\u7802\u5875\u6226\u6a5f\u30a2\u30fc\u30ac\u30b9"),k(R[0],"SORT_KEY","\u3055\u3057\u3093\u305b\u3093\u304d\u3042\u3042\u304b\u3059"),k(R[0],"HELP_MESSAGE","\u30fb\u4e00\u822c\u5224\u5b9aLv\uff08\u30c1\u30e3\u30f3\u30b9\u51fa\u76ee0\u2192\u5224\u5b9a0\uff09 nAG+x\n\u3000\u3000\u3000n\u306f\u7fd2\u5f97\u30ec\u30d9\u30eb\u3001Lv0\u306e\u5834\u5408n\u306e\u7701\u7565\u53ef\u80fd\u3002x\u306f\u5224\u5b9a\u5024\u4fee\u6b63\uff08\u6570\u5f0f\u306b\u3088\u308b\u4fee\u6b63\u53ef\uff09\u3001\u7701\u7565\u3057\u305f\u5834\u5408\u306f\u30ec\u30d9\u30eb\u4fee\u6b630\n\u3000\u3000\u3000\u4f8b\uff09AG:\u7fd2\u5f97\u30ec\u30d9\u30eb0\u306e\u4e00\u822c\u6280\u80fd\u30011AG+1:\u7fd2\u5f97\u30ec\u30d9\u30eb1\u30fb\u5224\u5b9a\u5024\u4fee\u6b63+1\u306e\u6280\u80fd\u3001AG+2-1\uff1a\u7fd2\u5f97\u30ec\u30d9\u30eb0\u30fb\u5224\u5b9a\u5024\u4fee\u6b632-1\u306e\u6280\u80fd\u3001(1-1)AG\uff1a\u7fd2\u5f97\u30ec\u30d9\u30eb1\u30fb\u30ec\u30d9\u30eb\u4fee\u6b63-1\u306e\u6280\u80fd\n\n\u30fb\u9069\u6b63\u8ddd\u96e2\u3067\u306e\u547d\u4e2d\u5224\u5b9a\uff08\u30c1\u30e3\u30f3\u30b9\u51fa\u76ee0\u2192\u5224\u5b9a0\u3001HR\u7b97\u51fa\uff09OM+y@z\n\u3000\u3000\u3000y\u306f\u547d\u4e2d\u88dc\u6b63\u5024\uff08\u6570\u5f0f\u53ef\uff09\u3001z\u306f\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u7701\u7565\u6642\u306f0\n\u3000\u3000\u3000HR\u306e\u7b97\u51fa\u6642\u306b\u306f\u3001HR\u304c\u5927\u304d\u304f\u306a\u308b\u5834\u5408\u306b\u51fa\u76ee0\u309210\u306b\u8aad\u307f\u66ff\u3048\u307e\u3059\u3002\n\u3000\u3000\u3000\u4f8b\uff09OM+18-6@2:\u547d\u4e2d\u88dc\u6b63\u5024+18-6\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u50242\u3001\u9069\u6b63\u8ddd\u96e2\u306e\u5224\u5b9a\n\n\u30fb\u975e\u9069\u6b63\u8ddd\u96e2\u3067\u306e\u547d\u4e2d\u5224\u5b9a\uff08\u30c1\u30e3\u30f3\u30b9\u51fa\u76ee0\u2192\u5224\u5b9a0\u3001HR\u7b97\u51fa\uff09NM+y@z\n\u3000\u3000\u3000y\u306f\u547d\u4e2d\u88dc\u6b63\u5024\uff08\u6570\u5f0f\u53ef\uff09\u3001z\u306f\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u7701\u7565\u6642\u306f0\n\u3000\u3000\u3000HR\u306e\u7b97\u51fa\u6642\u306b\u306f\u3001HR\u304c\u5927\u304d\u304f\u306a\u308b\u5834\u5408\u306b\u51fa\u76ee0\u309210\u306b\u8aad\u307f\u66ff\u3048\u307e\u3059\u3002\n\u3000\u3000\u3000\u4f8b\uff09NM+4-3:\u547d\u4e2d\u88dc\u6b63\u5024+4-3\u3067\u975e\u9069\u6b63\u8ddd\u96e2\u306e\u5224\u5b9a\n\n\u30fb\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u8868 CR\n\n\u203b\u901a\u5e38\u306e1D10\u306a\u3069\u306e10\u9762\u30c0\u30a4\u30b9\u306b\u304a\u3044\u3066\u51fa\u76ee10\u306e\u8aad\u307f\u66ff\u3048\u306f\u3057\u307e\u305b\u3093\u3002\u30b3\u30de\u30f3\u30c9\u306e\u307f\u3067\u3059\u3002\n\n"),h.$register_prefix("-?\\d*AG","OM","NM","CR"),p(h,"$eval_game_system_specific_command",function(c){var t,$,u=this;return a(t=a($=u.$roll_ippan(c))?$:u.$roll_hit_check(c))?t:u.$roll_tables(c,v("TABLES"))}),h.$private(),p(h,"$roll_ippan",function(c){try{x("eval_return");var $=n,l=n,o=n,s=n,f=n,m=n,b=n;return $=/^(-?\d+)?AG((?:[-+]\d+)*)$/.$match(c),a($)?(l=$["$[]"](1).$to_i(),o=a(s=v("Arithmetic").$eval($["$[]"](2),this.round_type))?s:0,f=a(y(l,0))?M(7,o):M(M(10,l),o),m=_(this.randomizer.$roll_barabara(2,10),"map",[],function(r){return null==r&&(r=n),A(r,10)?0:r}),b=m.$sum(),_(v("Result").$new(),"tap",[],function(r){var d;return null==r&&(r=n),r["$condition="](y(b,f)),d=[["(2D10<="+f+")",b+"["+m.$join(",")+"]",a(m["$include?"](0))?"\u30c1\u30e3\u30f3\u30b9":n,a(r["$success?"]())?"\u6210\u529f":"\u5931\u6557"].$compact().$join(" \uff1e ")],_(r,"text=",d),d[d.length-1]})):n}catch(e){if(e===i.t_eval_return)return e.$v;throw e}}),p(h,"$roll_hit_check",function(c){var u=this,$=n;return $=L(v("Command"),"Parser").$new("OM","NM",S(["round_type"],{round_type:u.round_type})).$enable_critical().$parse(c),a($)?A($.$command(),"OM")?u.$roll_om($):A($.$command(),"NM")?u.$roll_nm($):n:n}),p(h,"$roll_om",function(c){var t,$,l,s,f,m,o=n;return t=c.$modify_number(),$=a(l=c.$critical())?l:0,o=_(this.randomizer.$roll_barabara(2,10),"map",[],function(e){return null==e&&(e=n),A(e,10)?0:e}).$sort().$reverse(),s=o.$sum(),f=_(o,"count",[],function(e){return null==e&&(e=n),y(e,$)}),m=this.$calc_hr(t,o),_(v("Result").$new(),"tap",[],function(e){var r;return null==e&&(e=n),e["$condition="](y(s,t)),e["$critical="](z(f,1)),r=[["(2D10<="+t+")",s+"["+o.$join(",")+"]",a(o["$include?"](0))?"\u30c1\u30e3\u30f3\u30b9":n,a(e["$success?"]())?"\u6210\u529f\uff08HR="+m+"\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb"+f+"\uff09":"\u5931\u6557"].$compact().$join(" \uff1e ")],_(e,"text=",r),r[r.length-1]})}),p(h,"$roll_nm",function(c){var t,$,l,f,m,b,o=n,s=n;return t=c.$modify_number(),$=a(l=c.$critical())?l:0,o=_(this.randomizer.$roll_barabara(3,10),"map",[],function(r){return null==r&&(r=n),A(r,10)?0:r}).$sort().$reverse(),s=o.$take(2),f=s.$sum(),m=_(s,"count",[],function(r){return null==r&&(r=n),y(r,$)}),b=this.$calc_hr(t,s),_(v("Result").$new(),"tap",[],function(r){var d;return null==r&&(r=n),r["$condition="](y(f,t)),r["$critical="](z(m,1)),d=[["(3D10<="+t+")",f+"["+o["$[]"](0)+","+o["$[]"](1)+"&"+o["$[]"](2)+"]",a(s["$include?"](0))?"\u30c1\u30e3\u30f3\u30b9":n,a(r["$success?"]())?"\u6210\u529f\uff08HR="+b+"\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb"+m+"\uff09":"\u5931\u6557"].$compact().$join(" \uff1e ")],_(r,"text=",d),d[d.length-1]})}),p(h,"$calc_hr",function(c,u){var t;return t=u.$sum(),[w(c,t).$abs(),w(w(c,t),N(u.$count(0),10)).$abs()].$max()}),k(R[0],"TABLES",S(["CR"],{CR:L(v("DiceTable"),"Table").$new("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u8868","1D10",["1\uff1a\u300c\u5c0f\u7834\u300d\u30c0\u30e1\u30fc\u30b8+\uff3b5\uff3d\u3002\u8010\u4e45\u5024-\uff3b1\uff3d","2\uff1a\u300c\u5c0f\u7834\u300d\u30c0\u30e1\u30fc\u30b8+\uff3b5\uff3d\u3002\u8010\u4e45\u5024-\uff3b1\uff3d","3\uff1a\u300c\u5c0f\u7834\u300d\u30c0\u30e1\u30fc\u30b8+\uff3b5\uff3d\u3002\u8010\u4e45\u5024-\uff3b1\uff3d","4\uff1a\u300c\u5c0f\u7834\u300d\u30c0\u30e1\u30fc\u30b8+\uff3b5\uff3d\u3002\u8010\u4e45\u5024-\uff3b1\uff3d","5\uff1a\u300c\u5175\u88c5\u300d\u640d\u58ca\u3092\u53d7\u3051\u308b\u3054\u3068\u306b\uff3b1D10\uff3d\u3092\u632f\u308a\u3001\u51fa\u76ee\u306b\u5fdc\u3058\u305f\u90e8\u4f4d\u306e\u5175\u88c5\u3068\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u300a\u8131\u843d\u300b","6\uff1a\u300c\u4e0a\u4f53\u300d\u653b\u6483\u7cfb\u80fd\u529b\uff3b\u767d\u5175/ \u706b\u5668/ \u7d22\u6575\uff3d\u306f\u5404\uff3b- \u640d\u58caLv\uff3d","7\uff1a\u300c\u811a\u90e8\u300d\u884c\u52d5\u7cfb\u30fb\u9632\u5fa1\u7cfb\u80fd\u529b\uff3bIv \u5024\uff08\u30a4\u30cb\u30b7\u30a2\u5024\uff09/ \u6700\u5927MP/ \u56de\u907f\uff3d\u306f\u5404\uff3b- \u640d\u58caLv\uff3d","8\uff1a\u300c\u642d\u4e57\u8005\u300d\u642d\u4e57\u8005\u306e\u3008\u6700\u5927HP\u3009\u304a\u3088\u3073\u3008HP\u3009\u306f\uff3b-\uff084 \xd7\u640d\u58caLv\uff09\uff3d","9\uff1a\u300c\u642d\u4e57\u8005\u300d\u642d\u4e57\u8005\u306e\u3008\u6700\u5927HP\u3009\u304a\u3088\u3073\u3008HP\u3009\u306f\uff3b-\uff084 \xd7\u640d\u58caLv\uff09\uff3d","0\uff1a\u300c\u5c0f\u7834\u300d\u30c0\u30e1\u30fc\u30b8+\uff3b5\uff3d\u3002\u8010\u4e45\u5024-\uff3b1\uff3d"])}).$freeze())})}}]);