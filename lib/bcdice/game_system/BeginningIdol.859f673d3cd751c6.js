(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[66],{8857:(O,ee,Z)=>{Z(9993),Opal.modules["bcdice/game_system/beginning_idol/chain_table"]=function(e){var m,y,q,C,w,D,P,v,j,N,G,r,L=e.module,H=e.klass,B=e.truthy,z=e.def,R=e.rb_minus,k=e.send,h=[],o=e.nil;return m=h,y=r=[L(h[0],"BCDice")].concat(m),N=[L(r[0],"GameSystem")].concat(y),G=e.$r(N),q=N,C=j=[H(N[0],G("Base"),"BeginningIdol")].concat(q),D=[w=H(j[0],null,"ChainTable")].concat(C),P=e.$r(D),(v=w.$$prototype).times=v.sides=v.items=v.name=o,z(w,"$initialize",function(i,I,n){var a=this,l=o;return a.name=i,a.items=n.$freeze(),l=/^(\d+)D(\d+)$/i.$match(I),B(l)||a.$raise(P("ArgumentError"),"Unexpected table type: "+I),a.times=l["$[]"](1).$to_i(),a.sides=l["$[]"](2).$to_i()}),z(w,"$roll",function(i){var n,a,l,s,I=this;return n=i.$roll_sum(I.times,I.sides),a=R(n,I.times),l=I.items["$[]"](a),s=k(l,"map",[],function(c){return null==c&&(c=o),B(c["$respond_to?"]("roll"))?c.$roll(i):c}).$join("\n"),I.name+"("+n+") \uff1e "+s})},Opal.modules["bcdice/game_system/beginning_idol/chain_d66_table"]=function(e){var d,U,b,w,D,V,G,F,A,L=e.module,H=e.klass,B=e.def,z=e.rb_plus,R=e.rb_times,k=e.send,h=e.truthy,o=[],T=e.nil;return d=o,U=A=[L(o[0],"BCDice")].concat(d),G=[L(A[0],"GameSystem")].concat(U),F=e.$r(G),b=G,V=[H(G[0],F("Base"),"BeginningIdol")].concat(b),(D=(w=H(V[0],null,"ChainD66Table")).$$prototype).items=D.name=T,B(w,"$initialize",function(v,S){return this.name=v,this.items=S.$freeze()}),B(w,"$roll",function(v){var n,a,i=T,I=T;return i=v.$roll_barabara(2,6).$sort(),I=z(R(i["$[]"](0),10),i["$[]"](1)),n=this.items["$[]"](I.$to_s()),a=k(n,"map",[],function(s){return null==s&&(s=T),h(s["$respond_to?"]("roll"))?s.$roll(v):s}).$join("\n"),this.name+"("+I+") \uff1e "+a})},Opal.modules["bcdice/game_system/beginning_idol/bad_status_table"]=function(e){var U,p,C,S,i,I,n,D,b,j,G,L=e.module,H=e.klass,B=e.assign_ivar,z=e.def,R=e.truthy,k=e.rb_le,h=e.hash2,o=e.rb_gt,T=e.rb_plus,m=e.send,d=e.rb_minus,r=[],A=e.nil;return U=r,p=G=[L(r[0],"BCDice")].concat(U),b=[L(G[0],"GameSystem")].concat(p),j=e.$r(b),C=b,S=D=[H(b[0],j("Base"),"BeginningIdol")].concat(C),I=[i=H(D[0],null,"BadStatusTable")].concat(S),n=e.$r(I),i.$$prototype.locale=A,z(i,"$initialize",B("locale")),z(i,"$roll_command",function(s,u){var c,t=A,$=A,f=A;return t=/^BT(\d+)?$/.$match(u),R(t)?($=R(f=(c=t["$[]"](1))===A||null==c?A:c.$to_i())?f:1,this.$roll(s,$)):A}),z(i,"$roll",function(s,u){var c=this,_=A,t=A,$=A,f=A,g=A,x=A,W=A;return null==u&&(u=1),R(k(u,0))?A:(_=n("I18n").$t("BeginningIdol.BT.name",h(["locale"],{locale:c.locale})),t=n("I18n").$t("BeginningIdol.BT.items",h(["locale"],{locale:c.locale})),$=n("I18n").$t("BeginningIdol.BT.prefix_format",h(["locale"],{locale:c.locale})),g=(f=s.$roll_barabara(u,6).$sort()).$uniq(),R(o(g.$size(),1))&&(x=T(c.$format($,h(["count_bad_status"],{count_bad_status:g.$size()})),"\n")),W=m(g,"map",[],function(Y){return null==Y&&(Y=A),t["$[]"](d(Y,1))}).$join("\n"),_+" \uff1e ["+f.$join(",")+"] \uff1e "+x+W)},-2)},Opal.modules["bcdice/game_system/beginning_idol/random_event_table"]=function(e){var d,U,b,w,D,P,v,V,G,F,A,L=e.module,H=e.klass,B=e.assign_ivar,z=e.def,R=e.truthy,k=e.hash2,h=[],o=e.nil,T=e.$$$;return d=h,U=A=[L(h[0],"BCDice")].concat(d),G=[L(A[0],"GameSystem")].concat(U),F=e.$r(G),b=G,w=V=[H(G[0],F("Base"),"BeginningIdol")].concat(b),P=[D=H(V[0],null,"RandomEventTable")].concat(w),v=e.$r(P),D.$$prototype.locale=o,z(D,"$initialize",B("locale")),z(D,"$roll",function(I){var s,c,_,n=this,a=o,l=o,u=o,t=o;return a=I.$roll_once(6),l=I.$roll_d66(T(v("D66SortType"),"NO_SORT")),s=R(a["$even?"]())?"BeginningIdol.RE.on_event":"BeginningIdol.RE.off_event",u=v("I18n").$t(s,k(["locale"],{locale:n.locale})),c=v("I18n").$t("BeginningIdol.RE.name",k(["locale"],{locale:n.locale})),_=v("I18n").$t("BeginningIdol.RE.format",k(["locale"],{locale:n.locale})),t=u["$[]"]("items")["$[]"](l.$to_s()),c+" \uff1e (1D6) \uff1e "+a+"\n"+u["$[]"]("name")+" \uff1e ["+l+"] \uff1e "+n.$format(_,k(["event","page"],{event:t["$[]"](0),page:t["$[]"](1)}))})},Opal.modules["bcdice/game_system/beginning_idol/my_skill_name_table"]=function(e){var A,G,V,P,v,S,i,I,C,p,q,U,L=e.module,H=e.klass,B=e.def,z=e.send,R=e.rb_minus,k=e.rb_plus,h=e.hash2,o=e.to_a,T=[],m=e.nil,d=e.$$$;return A=T,G=U=[L(T[0],"BCDice")].concat(A),p=[L(U[0],"GameSystem")].concat(G),q=e.$r(p),V=p,P=C=[H(p[0],q("Base"),"BeginningIdol")].concat(V),S=[v=H(C[0],null,"MySkillNameTable")].concat(P),i=e.$r(S),(I=v.$$prototype).chains=I.locale=m,B(v,"$initialize",function(a){var s=m,u=m,c=m,_=m,t=m;return this.locale=a,s=d(i("DiceTable"),"Table").$from_i18n("BeginningIdol.MS.subtables.article",a),u=d(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.MS.subtables.describe",a),c=d(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.MS.subtables.scene",a),_=d(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.MS.subtables.material",a),t=d(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.MS.subtables.action",a),this.chains=[[u,c,_],[u,c,t],[u,_,t],[c,_,t],[u,c,s],[_,t,s]].$freeze()}),B(v,"$roll",function(a){var s,u,_,$,l=this,c=m,t=m;return s=a.$roll_once(6),u=z(l.chains["$[]"](R(s,1)),"map",[],function(g){return null==g&&(g=m),g.$roll(a)}),c=z(u,"map",[],function(g){return null==g&&(g=m),k(g.$table_name(),g.$value().$to_s())}),_=i("I18n").$t("BeginningIdol.MS.name",h(["locale"],{locale:l.locale})),t=i("I18n").$t("BeginningIdol.MS.formats",h(["locale"],{locale:l.locale}))["$[]"](R(s,1)),$=z(l,"format",[t].concat(o(z(u,"map",[],"body".$to_proc())))),_+" \uff1e ["+s+","+c.$join(",")+"] \uff1e "+$})},Opal.modules["bcdice/game_system/beginning_idol/d6_twice_table"]=function(e){var d,U,b,w,D,P,v,S,V,G,F,A,L=e.module,H=e.klass,B=e.hash2,z=e.defs,R=e.def,k=e.to_ary,h=e.rb_minus,o=[],T=e.nil;return d=o,U=A=[L(o[0],"BCDice")].concat(d),G=[L(A[0],"GameSystem")].concat(U),F=e.$r(G),b=G,w=V=[H(G[0],F("Base"),"BeginningIdol")].concat(b),P=[D=H(V[0],null,"D6TwiceTable")].concat(w),v=e.$r(P),(S=D.$$prototype).items1=S.items2=S.name=T,z(D,"$from_i18n",function(I,n){var l=T;return l=v("I18n").$t(I,B(["locale"],{locale:n})),this.$new(l["$[]"]("name"),l["$[]"]("items1"),l["$[]"]("items2"))}),R(D,"$initialize",function(I,n,a){var l=this;return l.name=I,l.items1=n,l.items2=a}),R(D,"$roll",function(I){var n,a,s,u,c,_,l=this;return a=I.$roll_barabara(2,6),u=null==(n=k(a))[1]?T:n[1],c=l.items1["$[]"](h(s=null==n[0]?T:n[0],1)),_=l.items2["$[]"](h(u,1)),l.name+"["+s+","+u+"] \uff1e "+c+_})},Opal.modules["bcdice/game_system/beginning_idol/item_table"]=function(e){var y,F,K,v,S,i,I,w,q,b,N,L=e.module,H=e.klass,B=e.assign_ivar,z=e.def,R=e.truthy,k=e.eqeq,h=e.hash2,o=e.send,T=e.rb_minus,m=e.neqeq,d=[],r=e.nil;return y=d,F=N=[L(d[0],"BCDice")].concat(y),q=[L(N[0],"GameSystem")].concat(F),b=e.$r(q),K=q,v=w=[H(q[0],b("Base"),"BeginningIdol")].concat(K),i=[S=H(w[0],null,"ItemTable")].concat(v),I=e.$r(i),S.$$prototype.locale=r,z(S,"$initialize",B("locale")),z(S,"$roll_command",function(l,s){var u,_=r,t=r,$=r;return _=/^IT(\d+)?$/.$match(s),R(_)?(t=R($=(u=_["$[]"](1))===r||null==u?r:u.$to_i())?$:1,this.$roll(l,t)):r}),z(S,"$roll",function(l,s){var c=r,_=r,t=r,$=r;return null==s&&(s=1),k(s,0)?r:(c=I("I18n").$t("BeginningIdol.item_table",h(["locale"],{locale:this.locale})),_=l.$roll_barabara(s,6).$sort(),t=o(_,"group_by",[],"itself".$to_proc()),$=o(t,"map",[],function f(g,x){var W=null==f.$$s?this:f.$$s,E=r;return null==g&&(g=r),null==x&&(x=r),E=c["$[]"]("items")["$[]"](T(g,1)),m(t.$size(),1)&&(E=W.$format(c["$[]"]("emph"),h(["item"],{item:E}))),k(_.$size(),t.$size())?E:W.$format(c["$[]"]("counting"),h(["item","count"],{item:E,count:x.$size()}))},{$$s:this}),c["$[]"]("name")+" \uff1e ["+_.$join(",")+"] \uff1e "+$.$join(c["$[]"]("sep")))},-2)},Opal.modules["bcdice/game_system/beginning_idol/costume_table"]=function(e){var d,U,b,w,D,P,v,S,V,G,F,A,L=e.module,H=e.klass,B=e.hash2,z=e.defs,R=e.def,k=e.send,h=[],o=e.nil,T=e.$$$;return d=h,U=A=[L(h[0],"BCDice")].concat(d),G=[L(A[0],"GameSystem")].concat(U),F=e.$r(G),b=G,w=V=[H(G[0],F("Base"),"BeginningIdol")].concat(b),P=[D=H(V[0],null,"CostumeTable")].concat(w),v=e.$r(P),(S=D.$$prototype).name=S.items=o,z(D,"$from_i18n",function(I,n){var l=o;return l=v("I18n").$t(I,B(["locale"],{locale:n})),this.$new(l["$[]"]("name"),l["$[]"]("items"))}),R(D,"$initialize",function(I,n){return this.name=I,this.items=n}),R(D,"$roll",function(I){var a=o;return a=I.$roll_d66(T(v("D66SortType"),"ASC")),this.name+"("+a+") \uff1e "+this.items["$[]"](a.$to_s())}),R(D,"$brand_only",function(){return T(v("DiceTable"),"D66Table").$new(this.name,T(v("D66SortType"),"ASC"),k(this.items,"transform_values",[],function(a){return null==a&&(a=o),a.$split("\n").$first()}))})},Opal.modules["bcdice/game_system/beginning_idol/accessories_table"]=function(e){var T,A,p,j,K,C,q,b,U,N,d,L=e.module,H=e.klass,B=e.hash2,z=e.def,R=[],k=e.nil,h=e.$$$;return T=R,A=d=[L(R[0],"BCDice")].concat(T),U=[L(d[0],"GameSystem")].concat(A),N=e.$r(U),p=U,b=[q=H(U[0],N("Base"),"BeginningIdol")].concat(p),K=[j=e.get_singleton_class(q)].concat(b),C=e.$r(K),j.$private(),z(j,"$translate_accessories_table",function(D){var v,P=k;return P=C("I18n").$t("BeginningIdol.ACT.items",B(["locale"],{locale:D})),v=[h(C("DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.head",D),h(C("DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.hat",D),h(C("DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.body",D),h(C("DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.arm",D),h(C("DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.foot",D),h(C("DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.other",D)],C("ChainTable").$new(C("I18n").$t("BeginningIdol.ACT.name",B(["locale"],{locale:D})),"1D6",P.$zip(v))})},Opal.modules["bcdice/game_system/beginning_idol/with_abnormality"]=function(e){var A,G,b,j,V,P,v,S,i,C,w,p,q,U,L=e.module,H=e.klass,B=e.hash2,z=e.truthy,R=e.def,k=e.defs,h=e.send2,o=e.find_super,T=[],m=e.nil,d=e.$$$;return A=T,G=U=[L(T[0],"BCDice")].concat(A),p=[L(U[0],"GameSystem")].concat(G),q=e.$r(p),b=p[0],j=q("Base"),V=p,C=[H(b,j,"BeginningIdol")].concat(V),w=e.$r(C),P=C,S=[v=L(C[0],"WithAbnormality")].concat(P),i=e.$r(S),R(v,"$replace_abnormality",function(n,a){var l=this,s=m,u=m,c=m,_=m,t=m;return null==l.locale&&(l.locale=m),null==l.bad_status_table&&(l.bad_status_table=m),u=(s=i("Regexp").$new(i("I18n").$t("BeginningIdol.abnormality.regexp",B(["locale"],{locale:l.locale})))).$match(n.$body()),z(u)&&(c=l.$kanji_to_i(u["$[]"](1)),z(c))?(_=l.bad_status_table.$roll(a,c),t=n.$body().$sub(s,_),d(i("DiceTable"),"RollResult").$new(n.$table_name(),n.$value(),t)):n}),R(v,"$kanji_to_i",function(n){var a,l=this;return null==l.locale&&(l.locale=m),(a=i("I18n").$t("BeginningIdol.abnormality.num_map",B(["locale"],{locale:l.locale})).$find_index(n))===m||null==a?m:a.$succ()}),function(D,P,v){var S=H(D,P,"D66WithAbnormality"),i=[S].concat(v),I=e.$r(i);S.$include(I("WithAbnormality")),k(S,"$from_i18n",function(a,l,s){var _,c=m;return c=I("I18n").$t(a,B(["locale"],{locale:s})),_=I("D66SortType").$const_get(c["$[]"]("d66_sort_type")),this.$new(c["$[]"]("name"),_,c["$[]"]("items"),l,s)}),R(S,"$initialize",function n(a,l,s,u,c){var t=this;return n.$$p=null,h(t,o(t,"initialize",n,!1,!0),"initialize",[a,l,s],null),t.bad_status_table=u,t.locale=c}),R(S,"$roll",function n(a){var u,s=this;return n.$$p=null,u=h(s,o(s,"roll",n,!1,!0),"roll",[a],null),s.$replace_abnormality(u,a)})}(C[0],d(w("DiceTable"),"D66Table"),C),function(D,P,v){var S=H(D,P,"TableWithAbnormality"),i=[S].concat(v),I=e.$r(i);return S.$include(I("WithAbnormality")),k(S,"$from_i18n",function(a,l,s){var c=m;return c=I("I18n").$t(a,B(["locale"],{locale:s})),this.$new(c["$[]"]("name"),c["$[]"]("type"),c["$[]"]("items"),l,s)}),R(S,"$initialize",function n(a,l,s,u,c){var t=this;return n.$$p=null,h(t,o(t,"initialize",n,!1,!0),"initialize",[a,l,s],null),t.bad_status_table=u,t.locale=c}),R(S,"$roll",function n(a){var u,s=this;return n.$$p=null,u=h(s,o(s,"roll",n,!1,!0),"roll",[a],null),s.$replace_abnormality(u,a)})}(C[0],d(w("DiceTable"),"Table"),C)},Opal.modules["bcdice/game_system/beginning_idol/work_table"]=function(e){var y,F,K,S,i,I,n,a,C,w,D,q,b,N,L=e.module,H=e.klass,B=e.hash2,z=e.defs,R=e.send2,k=e.find_super,h=e.def,o=e.truthy,T=e.rb_ge,m=[],d=e.nil,r=e.$$$;return y=m,F=N=[L(m[0],"BCDice")].concat(y),q=[L(N[0],"GameSystem")].concat(F),b=e.$r(q),K=q,w=[C=H(q[0],b("Base"),"BeginningIdol")].concat(K),D=e.$r(w),S=w,I=[i=H(w[0],r(D("DiceTable"),"D66Table"),"WorkWithChanceTable")].concat(S),n=e.$r(I),(a=i.$$prototype).regexp=a.off=d,z(i,"$from_i18n",function(s,u){var t,_=d;return _=n("I18n").$t(s,B(["locale"],{locale:u})),t=n("D66SortType").$const_get(_["$[]"]("d66_sort_type")),this.$new(_["$[]"]("name"),t,_["$[]"]("items"),u)}),h(i,"$initialize",function l(s,u,c,_){var $=this;return l.$$p=null,R($,k($,"initialize",l,!1,!0),"initialize",[s,u,c],null),$.regexp=n("Regexp").$new(n("I18n").$t("BeginningIdol.with_chance.regexp",B(["locale"],{locale:_}))),$.off=n("I18n").$t("BeginningIdol.with_chance.off_text",B(["locale"],{locale:_}))}),h(i,"$roll_command",function(s,u){var c,t=d;return t=/^LO([1-6]{1,2})?$/.$match(u),o(t)?this.$roll(s,(c=t["$[]"](1))===d||null==c?d:c.$to_i()):d}),h(i,"$roll",function l(s,u){var _=this,t=d,$=d;return l.$$p=null,null==u&&(u=d),t=R(_,k(_,"roll",l,!1,!0),"roll",[s],null),o(u)?($=_.regexp.$match(t.$body()),o($)&&o(T($["$[]"](1).$to_i(),u))?r(n("DiceTable"),"RollResult").$new(t.$table_name(),t.$value(),_.off):o($)?r(n("DiceTable"),"RollResult").$new(t.$table_name(),t.$value(),t.$body().$sub(_.regexp,"")):t):t},-2),function(P,v){var S=[P].concat(v),i=e.$r(S);P.$private(),h(P,"$translate_local_work_table",function(n){return i("WorkWithChanceTable").$from_i18n("BeginningIdol.local_work",n)})}(e.get_singleton_class(C),w),C.$register_prefix("LO")},Opal.modules["bcdice/game_system/beginning_idol/skill_table"]=function(e){var G,b,C,w,D,i,I,n,v,S,V,K,p,L=e.module,H=e.klass,B=e.def,z=e.hash2,R=e.defs,k=e.send2,h=e.find_super,o=e.truthy,T=e.rb_plus,m=e.send,d=e.thrower,r=e.assign_ivar,A=[],y=e.nil,U=e.$$$;return G=A,b=p=[L(A[0],"BCDice")].concat(G),V=[L(p[0],"GameSystem")].concat(b),K=e.$r(V),C=V[0],w=K("Base"),D=V,v=[H(C,w,"BeginningIdol")].concat(D),S=e.$r(v),i=v[0],I=U(S("DiceTable"),"SaiFicSkillTable"),n=H(i,I,"SkillTable"),B(n,"$roll",function(l){return this.$roll_command(l,"RTT")}),function(i,I,n){var a=H(i,I,"SkillGetTable"),l=[a].concat(n),s=e.$r(l);a.$$prototype.reroll_reg=y,R(a,"$from_i18n",function(_,t,$){var g=y;return g=s("I18n").$t(_,z(["locale"],{locale:$})),this.$new(g["$[]"]("name"),g["$[]"]("type"),g["$[]"]("items"),t,$)}),B(a,"$initialize",function c(_,t,$,f,g){var W=this,E=y;return c.$$p=null,k(W,h(W,"initialize",c,!1,!0),"initialize",[_,t,$],null),W.skill_table=f,E=s("I18n").$t("BeginningIdol.skill_get_table",z(["locale"],{locale:g})),W.reroll_reg=s("Regexp").$new(E["$[]"]("reroll_reg")),W.reroll=E["$[]"]("reroll"),W.secondary_name=E["$[]"]("secondary_name")}),B(a,"$roll",function c(_){var $=this,f=y,g=y,x=y,W=y;return c.$$p=null,f=k($,h($,"roll",c,!1,!0),"roll",[_],null),g=$.reroll_reg.$match(f.$body()),o(g)?(x=g.$captures(),W=T(f.$body(),"\n"),function(){try{var E=d("break");m($,"loop",[],function Y(){var M=null==Y.$$s?this:Y.$$s,J=y;return null==M.skill_table&&(M.skill_table=y),null==M.secondary_name&&(M.secondary_name=y),null==M.reroll&&(M.reroll=y),J=M.skill_table.$roll_skill(_),W=T(W,M.secondary_name+" \uff1e ["+J.$category_dice()+","+J.$row_dice()+"] \uff1e "+J),o(x["$include?"](J.$category_name()))||E.$throw(),W=T(W," \uff1e "+M.reroll+"\n")},{$$s:$})}catch(Y){if(Y===E)return Y.$v;throw Y}}(),U(s("DiceTable"),"RollResult").$new(f.$table_name(),f.$value(),W)):f})}(v[0],U(S("DiceTable"),"Table"),v),function(i,I){var n=H(i,null,"SkillHometown");return n.$$prototype.skill_name=y,B(n,"$initialize",r("skill_name")),B(n,"$roll",function(s){return this.skill_name.$roll_command(s,"AT6")})}(v[0])},Opal.modules["bcdice/game_system/beginning_idol/table"]=function(e){var y,F,K,P,S,i,C,w,D,q,b,N,L=e.module,H=e.klass,B=e.hash2,z=e.def,R=e.send,k=e.truthy,h=e.eqeq,o=e.const_set,T=e.top,m=[],d=e.nil,r=e.$$$;return T.$require("bcdice/game_system/beginning_idol/chain_table"),T.$require("bcdice/game_system/beginning_idol/chain_d66_table"),T.$require("bcdice/game_system/beginning_idol/bad_status_table"),T.$require("bcdice/game_system/beginning_idol/random_event_table"),T.$require("bcdice/game_system/beginning_idol/my_skill_name_table"),T.$require("bcdice/game_system/beginning_idol/d6_twice_table"),T.$require("bcdice/game_system/beginning_idol/item_table"),T.$require("bcdice/game_system/beginning_idol/costume_table"),T.$require("bcdice/game_system/beginning_idol/accessories_table"),T.$require("bcdice/game_system/beginning_idol/with_abnormality"),T.$require("bcdice/game_system/beginning_idol/work_table"),T.$require("bcdice/game_system/beginning_idol/skill_table"),y=m,F=N=[L(m[0],"BCDice")].concat(y),q=[L(N[0],"GameSystem")].concat(F),b=e.$r(q),K=q,w=[C=H(q[0],b("Base"),"BeginningIdol")].concat(K),D=e.$r(w),S=[P=e.get_singleton_class(C)].concat(w),i=e.$r(S),P.$private(),z(P,"$translate_skill_table",function(n){return i("SkillTable").$from_i18n("BeginningIdol.skill_table",n,B(["rtt","rttn"],{rtt:"AT",rttn:["AT1","AT2","AT3","AT4","AT5","AT6"]}))}),z(P,"$translate_tables",function(n){var c,_,t,$,f,g,x,W,Y,l=d,s=d,u=d,E=d;return l=i("CostumeTable").$from_i18n("BeginningIdol.tables.DT",n),s=i("CostumeTable").$from_i18n("BeginningIdol.tables.RC",n),u=i("CostumeTable").$from_i18n("BeginningIdol.tables.FC",n),c=i("ChainTable").$new(i("I18n").$t("BeginningIdol.ACB.name",B(["locale"],{locale:n})),"1D6",[[i("I18n").$t("BeginningIdol.ACB.items.challenge_girls",B(["locale"],{locale:n})),l.$brand_only()],[i("I18n").$t("BeginningIdol.ACB.items.challenge_girls",B(["locale"],{locale:n})),l.$brand_only()],[i("I18n").$t("BeginningIdol.ACB.items.road_to_prince",B(["locale"],{locale:n})),s.$brand_only()],[i("I18n").$t("BeginningIdol.ACB.items.road_to_prince",B(["locale"],{locale:n})),s.$brand_only()],[i("I18n").$t("BeginningIdol.ACB.items.fortune_stars",B(["locale"],{locale:n})),u.$brand_only()],[i("I18n").$t("BeginningIdol.ACB.items.fortune_stars",B(["locale"],{locale:n})),u.$brand_only()]]),_=i("BadStatusTable").$new(n),t=this.$translate_skill_table(n),$=r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.rare_skill_table",n),f=i("ItemTable").$new(n),g=i("ChainTable").$new(i("I18n").$t("BeginningIdol.TN.name",B(["locale"],{locale:n})),"1D6",R(i("I18n").$t("BeginningIdol.TN.items",B(["locale"],{locale:n})).$dup(),"tap",[],function(J){return null==J&&(J=d),J["$[]"](3).$push(t)})),x=i("ChainTable").$new(i("I18n").$t("BeginningIdol.CG.name",B(["locale"],{locale:n})),"1D6",R(i("I18n").$t("BeginningIdol.CG.items",B(["locale"],{locale:n})).$map(),"with_index",[],function(J,Q){return null==J&&(J=d),null==Q&&(Q=d),k([3,4]["$include?"](Q))?[J,f]:[J]})),W=i("ChainD66Table").$new(i("I18n").$t("BeginningIdol.GG.name",B(["locale"],{locale:n})),R(i("I18n").$t("BeginningIdol.GG.items",B(["locale"],{locale:n})),"to_h",[],function(J,Q){return null==J&&(J=d),null==Q&&(Q=d),[J,k(["23","24","25"]["$include?"](J))?[Q,$]:h(J,"56")?[Q,f]:[Q]]})),(E=i("I18n").$t("BeginningIdol.HA.items",B(["locale"],{locale:n})))["$[]="]("22",[E["$[]"]("22"),i("SkillHometown").$new(t)].$flatten()),Y=i("ChainD66Table").$new(i("I18n").$t("BeginningIdol.HA.name",B(["locale"],{locale:n})),E),B(["DT","RC","FC","ACB","TN","CG","GG","HA","CBT","RCB","HBT","RHB","RU","SIP","BU","HW","FL","MSE","ST","FST","BWT","LWT","TWT","CWT","SU","WI","NA","GA","BA","WT","VA","MU","DR","VI","SP","CHR","PAR","SW","AN","MOV","FA","BVT","LVT","TVT","CVT","BST","LST","TST","CST","BPT","LPT","TPT","CPT","BIT","LIT","TIT","CIT","CHO","SCH","WCH","NCH","GCH","PCH","LUR","SUR","WUR","NUR","GUR","BUR","ACE","ACT","MS","RE","SH","MO","SEA","SPA","LN","SGT","RS"],{DT:l,RC:s,FC:u,ACB:c,TN:g,CG:x,GG:W,HA:Y,CBT:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.CBT",n),RCB:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.RCB",n),HBT:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.HBT",n),RHB:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.RHB",n),RU:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.RU",n),SIP:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.SIP",n),BU:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BU",n),HW:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.HW",n),FL:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.FL",n),MSE:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.MSE",n),ST:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.ST",n),FST:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.FST",n),BWT:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.BWT",n),LWT:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.LWT",n),TWT:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.TWT",n),CWT:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.CWT",n),SU:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.SU",n),WI:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.WI",n),NA:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.NA",n),GA:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.GA",n),BA:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.BA",n),WT:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.WT",n),VA:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.VA",n),MU:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.MU",n),DR:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.DR",n),VI:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.VI",n),SP:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.SP",n),CHR:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.CHR",n),PAR:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.PAR",n),SW:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.SW",n),AN:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.AN",n),MOV:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.MOV",n),FA:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.FA",n),BVT:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BVT",n),LVT:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.LVT",n),TVT:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.TVT",n),CVT:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.CVT",n),BST:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BST",n),LST:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.LST",n),TST:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.TST",n),CST:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.CST",n),BPT:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BPT",n),LPT:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.LPT",n),TPT:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.TPT",n),CPT:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.CPT",n),BIT:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BIT",n),LIT:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.LIT",n),TIT:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.TIT",n),CIT:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.CIT",n),CHO:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.CHO",n),SCH:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.SCH",n),WCH:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.WCH",n),NCH:r(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.NCH",n),GCH:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.GCH",n),PCH:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.PCH",n),LUR:i("D6TwiceTable").$from_i18n("BeginningIdol.tables.LUR",n),SUR:i("D6TwiceTable").$from_i18n("BeginningIdol.tables.SUR",n),WUR:i("D6TwiceTable").$from_i18n("BeginningIdol.tables.WUR",n),NUR:i("D6TwiceTable").$from_i18n("BeginningIdol.tables.NUR",n),GUR:i("D6TwiceTable").$from_i18n("BeginningIdol.tables.GUR",n),BUR:i("D6TwiceTable").$from_i18n("BeginningIdol.tables.BUR",n),ACE:r(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.ACE",n),ACT:this.$translate_accessories_table(n),MS:i("MySkillNameTable").$new(n),RE:i("RandomEventTable").$new(n),SH:i("D66WithAbnormality").$from_i18n("BeginningIdol.tables.SH",_,n),MO:i("D66WithAbnormality").$from_i18n("BeginningIdol.tables.MO",_,n),SEA:i("D66WithAbnormality").$from_i18n("BeginningIdol.tables.SEA",_,n),SPA:i("D66WithAbnormality").$from_i18n("BeginningIdol.tables.SPA",_,n),LN:i("TableWithAbnormality").$from_i18n("BeginningIdol.tables.LN",_,n),SGT:i("SkillGetTable").$from_i18n("BeginningIdol.tables.SGT",t,n),RS:i("SkillGetTable").$from_i18n("BeginningIdol.tables.RS",t,n)})}),o(w[0],"TABLES",C.$translate_tables("ja_jp")),o(w[0],"BAD_STATUS_TABLE",D("BadStatusTable").$new("ja_jp")),o(w[0],"LOCAL_WORK_TABLE",C.$translate_local_work_table("ja_jp")),o(w[0],"ITEM_TABLE",D("ItemTable").$new("ja_jp")),o(w[0],"SKILL_TABLE",C.$translate_skill_table("ja_jp")),C.$register_prefix(D("TABLES").$keys())},Opal.queue(function(e){var K,P,a,l,s,u,S,i,w,L=e.module,H=e.klass,B=e.const_set,z=e.send2,R=e.find_super,k=e.def,h=e.eqeq,o=e.truthy,T=e.rb_le,m=e.rb_ge,d=e.alias,r=e.rb_gt,A=e.rb_lt,y=e.rb_plus,U=e.send,N=e.rb_minus,G=e.hash2,F=e.neqeq,q=[],b=e.nil,j=e.$$$;return e.top.$require("bcdice/game_system/beginning_idol/table"),K=q,P=w=[L(q[0],"BCDice")].concat(K),S=[L(w[0],"GameSystem")].concat(P),i=e.$r(S),a=S,s=[l=H(S[0],i("Base"),"BeginningIdol")].concat(a),u=e.$r(s),l.$$prototype.randomizer=b,B(s[0],"ID","BeginningIdol"),B(s[0],"NAME","\u30d3\u30ae\u30cb\u30f3\u30b0\u30a2\u30a4\u30c9\u30eb"),B(s[0],"SORT_KEY","\u3072\u304d\u306b\u3093\u304f\u3042\u3044\u3068\u308b"),B(s[0],"HELP_MESSAGE","\u3053\u308c\u306f\u30012015\u5e74\u306b\u65b0\u66f8\u30b5\u30a4\u30ba\u3067\u767a\u58f2\u3055\u308c\u305f\u300e\u99c6\u3051\u51fa\u3057\u30a2\u30a4\u30c9\u30ebRPG \u30d3\u30ae\u30cb\u30f3\u30b0\u30a2\u30a4\u30c9\u30eb \u30c1\u30e3\u30ec\u30f3\u30b8\u30ac\u30fc\u30eb\u30ba\u300f\u304a\u3088\u3073\u305d\u306e\u30b5\u30d7\u30ea\u30e1\u30f3\u30c8\u306b\u5bfe\u5fdc\u3057\u305f\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\n\n\u30fb\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3000[r]PDn[+m/-m](r\uff1a\u5834\u306b\u6b8b\u3063\u305f\u51fa\u76ee\u3000n\uff1a\u632f\u308b\u6570\u3000m\uff1a\u4fee\u6b63\u5024)\n\u30fb\u30ef\u30fc\u30eb\u30c9\u30bb\u30c3\u30c6\u30a3\u30f3\u30b0\u4ed5\u4e8b\u8868\u3000BWT\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LWT\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\n\u3000TWT\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CWT\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\u3000LO[n]\uff1a\u5730\u65b9\u30a2\u30a4\u30c9\u30eb(n\uff1a\u30c1\u30e3\u30f3\u30b9)\n\u3000SU\uff1a\u60c5\u71b1\u306e\u590f\u3000WI\uff1a\u306c\u304f\u3082\u308a\u306e\u51ac\u3000NA\uff1a\u5927\u81ea\u7136\u3000GA\uff1a\u5973\u5b66\u5712\u3000BA\uff1a\u30a2\u30ab\u30c7\u30df\u30fc\n\u30fb\u4ed5\u4e8b\u8868\u3000WT\u3000VA\uff1a\u30d0\u30e9\u30a8\u30c6\u30a3\u3000MU\uff1a\u97f3\u697d\u95a2\u4fc2\u3000DR\uff1a\u30c9\u30e9\u30de\u95a2\u4fc2\n\u3000VI\uff1a\u30d3\u30b8\u30e5\u30a2\u30eb\u95a2\u4fc2\u3000SP\uff1a\u30b9\u30dd\u30fc\u30c4\u3000CHR\uff1a\u30af\u30ea\u30b9\u30de\u30b9\u3000PAR\uff1a\u30d1\u30fc\u30c8\u30ca\u30fc\u95a2\u4fc2\n\u3000SW\uff1a\u304a\u83d3\u5b50\u3000AN\uff1a\u52d5\u7269\u3000MOV\uff1a\u6620\u753b\u3000FA\uff1a\u30d5\u30a1\u30f3\u30bf\u30b8\u30fc\n\u30fb\u30e9\u30f3\u30c0\u30e0\u30a4\u30d9\u30f3\u30c8\u3000RE\n\u30fb\u30cf\u30d7\u30cb\u30f3\u30b0\u8868\u3000HA\n\u30fb\u7279\u6280\u30ea\u30b9\u30c8\u3000AT[n](n\uff1a\u5206\u91ceNo.)\n\u30fb\u30a2\u30a4\u30c9\u30eb\u30b9\u30ad\u30eb\u4fee\u5f97\u8868\u3000SGT\uff1a\u30c1\u30e3\u30ec\u30f3\u30b8\u30ac\u30fc\u30eb\u30ba\u3000RS\uff1a\u30ed\u30fc\u30c9\u30c8\u30a5\u30d7\u30ea\u30f3\u30b9\n\u30fb\u5909\u8abf\u3000BT[n](n\uff1a\u767a\u751f\u6570)\n\u30fb\u30a2\u30a4\u30c6\u30e0\u3000IT[n](n\uff1a\u7372\u5f97\u6570)\n\u30fb\u30a2\u30af\u30bb\u30b5\u30ea\u30fc\u3000ACT\uff1a\u7a2e\u5225\u6c7a\u5b9a\u3000ACB\uff1a\u30d6\u30e9\u30f3\u30c9\u6c7a\u5b9a\u3000ACE\uff1a\u52b9\u679c\u8868\n\u30fb\u8863\u88c5\u3000DT\uff1a\u30c1\u30e3\u30ec\u30f3\u30b8\u30ac\u30fc\u30eb\u30ba\u3000RC\uff1a\u30ed\u30fc\u30c9\u30c8\u30a5\u30d7\u30ea\u30f3\u30b9\u3000FC:\u30d5\u30a9\u30fc\u30c1\u30e5\u30f3\u30b9\u30bf\u30fc\u30ba\n\u30fb\u7121\u8336\u3076\u308a\u8868\u3000LUR\uff1a\u5730\u65b9\u30a2\u30a4\u30c9\u30eb\u3000SUR\uff1a\u60c5\u71b1\u306e\u590f\u3000WUR\uff1a\u306c\u304f\u3082\u308a\u306e\u51ac\n\u3000NUR\uff1a\u5927\u81ea\u7136\u3000GUR\uff1a\u5973\u5b66\u5712\u3000BUR\uff1a\u30a2\u30ab\u30c7\u30df\u30fc\n\u30fb\u30bb\u30f3\u30bf\u30fc\u30eb\u30fc\u30eb\u3000HW\uff1a\u5411\u304b\u3044\u98a8\u30b7\u30fc\u30f3\u8868\u3000FL\uff1a\u99c6\u3051\u51fa\u3057\u30b7\u30fc\u30f3\u8868\u3000LN\uff1a\u5b64\u72ec\u8868\n\u3000\u30de\u30a4\u30b9\u30ad\u30eb\u3010MS\uff1a\u540d\u524d\u6c7a\u5b9a\u3000MSE\uff1a\u52b9\u679c\u8868\u3011\u3000\u6f14\u51fa\u8868\u3010ST\u3000FST\uff1a\u30d5\u30a1\u30f3\u30bf\u30b8\u30fc\u3011\n\u30fb\u5408\u5bbf\u30eb\u30fc\u30eb\u3000\u6563\u7b56\u8868\u3010SH\uff1a\u30b7\u30e7\u30c3\u30d4\u30f3\u30b0\u30e2\u30fc\u30eb\u3000MO\uff1a\u5c71\u3000SEA\uff1a\u6d77\u3000SPA\uff1a\u6e29\u6cc9\u8857\u3011\n\u3000TN\uff1a\u591c\u8a9e\u308a\u30b7\u30c1\u30e5\u30a8\u30fc\u30b7\u30e7\u30f3\u8868\u3000\u6210\u9577\u8868\u3010CG\uff1a\u30b3\u30e2\u30f3\u3000GG\uff1a\u30b4\u30fc\u30eb\u30c9\u3011\n\u30fb\u30b5\u30d3\u8868\u3000CHO\u3000SCH\uff1a\u60c5\u71b1\u306e\u590f\u3000WCH\uff1a\u306c\u304f\u3082\u308a\u306e\u51ac\u3000NCH\uff1a\u5927\u81ea\u7136\n\u3000GCH\uff1a\u5973\u6027\u5411\u3051\u3000PCH\uff1a\u529b\u5f37\u3044\n\u30fb\u30ad\u30e3\u30e9\u7a7a\u767d\u8868\u3000CBT\uff1a\u30c1\u30e3\u30ec\u30f3\u30b8\u30ac\u30fc\u30eb\u30ba\u3000RCB\uff1a\u30ed\u30fc\u30c9\u30c8\u30a5\u30d7\u30ea\u30f3\u30b9\n\u30fb\u8da3\u5473\u7a7a\u767d\u8868\u3000HBT\uff1a\u30c1\u30e3\u30ec\u30f3\u30b8\u30ac\u30fc\u30eb\u30ba\u3000RHB\uff1a\u30ed\u30fc\u30c9\u30c8\u30a5\u30d7\u30ea\u30f3\u30b9\n\u30fb\u30de\u30b9\u30b3\u30c3\u30c8\u66b4\u8d70\u8868\u3000RU\n\u30fb\u30a2\u30a4\u30c9\u30eb\u71b1\u6e6f\u98a8\u5442\u3000nC\uff1a\u30d0\u30fc\u30b9\u30c8\u30bf\u30a4\u30e0(n\uff1a\u6e29\u5ea6)\u3000BU\uff1a\u30d0\u30fc\u30b9\u30c8\u8868\n\u30fb\u653b\u6483\u3000n[S]A[r][+m/-m](n\uff1a\u632f\u308b\u6570\u3000S\uff1a\u5931\u6557\u3057\u306a\u3044\u3000r\uff1a\u53d6\u308a\u9664\u304f\u51fa\u76ee\u3000m\uff1a\u4fee\u6b63\u5024)\n\u30fb\u304b\u3093\u305f\u3093\u30d1\u30fc\u30bd\u30f3\u8868\u3000SIP\n\u30fb\u4f1a\u5834\u8868\n\u3000BVT\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LVT\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\u3000TVT\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CVT\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\n\u30fb\u5834\u6240\u8868\n\u3000BST\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LST\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\u3000TST\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CST\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\n\u30fb\u30d7\u30ec\u30c3\u30b7\u30e3\u30fc\u7a2e\u5225\u6c7a\u5b9a\u8868\n\u3000BPT\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LPT\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\u3000TPT\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CPT\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\n\u30fb\u9053\u5177\u8868\n\u3000BIT\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LIT\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\u3000TIT\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CIT\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\n[]\u5185\u306f\u7701\u7565\u53ef\u3000D66\u5165\u308c\u66ff\u3048\u3042\u308a\n"),l.$register_prefix(u("SKILL_TABLE").$prefixes(),"IT","BT","\\d{2}C","\\d+S?A","[1-7]*PD"),k(l,"$initialize",function _(t){var f=this;return _.$$p=null,z(f,R(f,"initialize",_,!1,!0),"initialize",[t],null),f.sort_add_dice=!0,f.d66_sort_type=j(u("D66SortType"),"ASC")}),k(l,"$result_nd6",function(t,$,f,g,x){var W=this;return h(x,"?")||!h(g,">=")?b:o(T($,2))?u("Result").$fumble(W.$translate("BeginningIdol.fumble")):o(m($,12))?u("Result").$critical(W.$translate("BeginningIdol.special")):o(m(t,x))?u("Result").$success(W.$translate("success")):u("Result").$failure(W.$translate("failure"))}),d(l,"check_2D6","check_nD6"),k(l,"$eval_game_system_specific_command",function(t){var f,g,x,W,E,Y,M,$=this;return o(f=o(g=o(x=o(W=o(E=o(Y=o(M=$.$roll_attack(t))?M:$.$roll_burst(t))?Y:$.$roll_performance(t))?E:j($.$class(),"SKILL_TABLE").$roll_command($.randomizer,t))?W:j($.$class(),"ITEM_TABLE").$roll_command($.randomizer,t))?x:j($.$class(),"BAD_STATUS_TABLE").$roll_command($.randomizer,t))?g:j($.$class(),"LOCAL_WORK_TABLE").$roll_command($.randomizer,t))?f:$.$roll_tables(t,j($.$class(),"TABLES"))}),l.$private(),k(l,"$roll_burst",function(t){var $=this,f=b,g=b,x=b,W=b,E=b,Y=b;return f=/^(\d{2})C$/.$match(t),!o(f)||(g=f["$[]"](1).$to_i(),o(A(g,45))||o(r(g,55)))?b:(x=o(T(g,49))?3:o(T(g,52))?4:o(T(g,54))?5:6,W=$.randomizer.$roll_barabara(x,6).$sort(),E=y(W.$sum(),g),Y=o(m(E,80))?$.$translate("BeginningIdol.burst.burst"):o(m(E,75))?$.$translate("BeginningIdol.burst.critical_success"):o(m(E,65))?$.$translate("BeginningIdol.burst.success"):$.$translate("failure"),$.$translate("BeginningIdol.burst.name")+" \uff1e "+g+"+["+W.$join(",")+"] \uff1e "+E+" \uff1e "+Y)}),k(l,"$roll_attack",function(t){var $=this,f=b,g=b,x=b,W=b,E=b,Y=b,M=b,J=b,Q=b,X=b;return f=/^(\d+)(S?)A([1-6]*)([+-]\d+)?$/.$match(t),!o(f)||(g=f["$[]"](1).$to_i(),o(T(g,0)))?b:(x=f["$[]"](2)["$empty?"]()["$!"](),W=U(f["$[]"](3).$each_char(),"map",[],"to_i".$to_proc()),E=f["$[]"](4).$to_i(),Y=u("Format").$modifier(E),J=(M=$.randomizer.$roll_barabara(g,6).$sort()).$join(","),M=N(M,W),Q=$.$translate("BeginningIdol.attack.name")+" \uff1e ["+J+"]"+Y+" \uff1e ",h(M.$count(),g)||o(M["$empty?"]())||(Q=y(Q,"["+M.$join(",")+"]"+Y+" \uff1e ")),o(x)||h(M.$count(),M.$uniq().$count())?(X=[y(M.$sum(),E.$to_i()),0].$max(),Q=y(Q,$.$format($.$translate("BeginningIdol.attack.damage"),G(["total"],{total:X})))):Q=y(Q,$.$translate("failure")),Q)}),k(l,"$roll_performance",function(t){var $=this,f=b,g=b,x=b,W=b,E=b,Y=b,M=b,J=b,Q=b;return f=/^([1-7]*)PD(\d+)([+-]\d+)?$/.$match(t),!o(f)||(g=f["$[]"](2).$to_i(),o(T(g,0)))?b:(x=U(f["$[]"](1).$chars(),"map",[],"to_i".$to_proc()).$sort(),W=f["$[]"](3).$to_i(),E=$.randomizer.$roll_barabara(g,6).$sort(),Y=y(E,x).$sort(),M=$.$select_uniqs(Y),J=o(x["$empty?"]())?$.$translate("BeginningIdol.PD.paformance"):$.$translate("BeginningIdol.PD.symphony"),Q=o(x["$empty?"]())?$.$result_performance(M,W,Y):$.$result_symphony(M,W),[J,$.$format_dice_list(E,x,W),Q].$join(" \uff1e "))}),k(l,"$select_uniqs",function(t){return U(U(U(t,"group_by",[],"itself".$to_proc()).$to_a(),"select",[],function(f,g){return null==f&&(f=b),null==g&&(g=b),g.$size()["$=="](1)}),"map",[],function(f,g){return null==f&&(f=b),null==g&&(g=b),f}).$sort()}),k(l,"$format_dice_list",function(t,$,f){return o($["$empty?"]())?"["+t.$join(",")+"]"+u("Format").$modifier(f):"["+t.$join(",")+"],["+$.$join(",")+"]"+u("Format").$modifier(f)}),k(l,"$result_performance",function(t,$,f){var g=this;return o(t["$empty?"]())?g.$format(g.$translate("BeginningIdol.PD.miracle"),G(["value"],{value:y($,10)})):h(t,[1,2,3,4,5,6])?g.$format(g.$translate("BeginningIdol.PD.perfect_miracle"),G(["value"],{value:y($,30)})):F(t.$size(),f.$size())?"["+t.$join(",")+"]"+u("Format").$modifier($)+" \uff1e "+y(t.$sum(),$):y(t.$sum(),$).$to_s()}),k(l,"$result_symphony",function(t,$){var f=this,g=b;return o(t["$empty?"]())?f.$format(f.$translate("BeginningIdol.PD.miracle_synchro"),G(["value"],{value:y($,15)})):h(t,[1,2,3,4,5,6])?(g=f.$format(f.$translate("BeginningIdol.PD.perfect_miracle"),G(["value"],{value:y($,30)})),"["+t.$join(",")+"]"+u("Format").$modifier($)+" \uff1e "+g):"["+t.$join(",")+"]"+u("Format").$modifier($)+" \uff1e "+y(t.$sum(),$)})})}}]);