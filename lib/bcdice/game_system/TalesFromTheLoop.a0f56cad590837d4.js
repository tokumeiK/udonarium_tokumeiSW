(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[1982],{4331:(Y,J,p)=>{p(9993),Opal.queue(function(e){var z,M,K,o,l,b,f,q,F,T=e.module,g=e.klass,d=e.const_set,w=e.hash2,c=e.truthy,L=e.to_ary,E=e.send,R=e.rb_plus,C=e.rb_le,m=e.def,G=e.rb_minus,h=e.rb_gt,P=e.rb_ge,k=[],n=e.nil,S=e.$$$;return z=k,M=F=[T(k[0],"BCDice")].concat(z),f=[T(F[0],"GameSystem")].concat(M),q=e.$r(f),K=f,l=[o=g(f[0],q("Base"),"TalesFromTheLoop")].concat(K),b=e.$r(l),o.$$prototype.randomizer=n,d(l[0],"ID","TalesFromTheLoop"),d(l[0],"NAME","\u30b6\u30fb\u30eb\u30fc\u30d7TRPG"),d(l[0],"SORT_KEY","\u3055\u308b\u3046\u3075TRPG"),d(l[0],"HELP_MESSAGE","\u25a0 \u5224\u5b9a\u30b3\u30de\u30f3\u30c9(nTFLx-x+x or nTFLx+x-x)\n  (\u5fc5\u8981\u6210\u529f\u6570)TFL(\u5224\u5b9a\u30c0\u30a4\u30b9\u6570)+/-(\u4fee\u6b63\u30c0\u30a4\u30b9\u6570)\n\n\u203b \u5fc5\u8981\u6210\u529f\u6570\u3068\u4fee\u6b63\u30c0\u30a4\u30b9\u6570\u306f\u7701\u7565\u53ef\u80fd\n\n\u4f8b1) \u5fc5\u8981\u6210\u529f\u65701\u3001\u5224\u5b9a\u30c0\u30a4\u30b9\u306f\u80fd\u529b\u50243\n      1TFL3\n\n\u4f8b2\uff09\u5fc5\u8981\u6210\u529f\u6570\u4e0d\u660e\u3001\u3042\u308b\u3044\u306f\u30c0\u30a4\u30b9\u30dc\u30c3\u30c8\u306e\u6210\u529f\u5224\u5b9a\u3092\u4f7f\u308f\u306a\u3044\u3001\u5224\u5b9a\u30c0\u30a4\u30b9\u306f\u80fd\u529b\u50243+\u6280\u80fd1\u30674\u3001\u30a2\u30a4\u30c6\u30e0\u306e\u4fee\u6b63+1\n      TFL4+1\n\n\u4f8b3\uff09\u5fc5\u8981\u6210\u529f\u65701\u3001\u5224\u5b9a\u30c0\u30a4\u30b9\u306f\u80fd\u529b\u50242+\u6280\u80fd1\u30673\u3001\u30b3\u30f3\u30c7\u30a3\u30b7\u30e7\u30f3\u306b\u30c1\u30a7\u30c3\u30af\u304c2\u3064\u3001\u30a2\u30a4\u30c6\u30e0\u306e\u4fee\u6b63+1\n      1TFL3-2+1\n     \u3042\u308b\u3044\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30ab\u30c3\u30b3\u66f8\u304d\u3067\u5185\u8a33\u3092\u8a73\u7d30\u306b\u8a18\u8ff0\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3002\n      1TFL(2+1)-(1+1)+1\n     \u4fee\u6b63\u30c0\u30a4\u30b9\u306e\u30d7\u30e9\u30b9\u3068\u30de\u30a4\u30ca\u30b9\u306f\u9006\u3067\u3082\u3088\u3044\u3002\n      1TFL(2+1)+1-(1+1)\n"),o.$register_prefix("(\\d+)?(TFL)"),m(o,"$eval_game_system_specific_command",function(a){var r,t,_=this,s=n,u=n,i=n;return s=S(b("Command"),"Parser").$new(/\d*TFL\d+/,w(["round_type"],{round_type:_.$round_type()})).$parse(a),c(s)?(t=E(s.$command().$split("TFL",2),"map",[],"to_i".$to_proc()),u=null==(r=L(t))[0]?n:r[0],i=R(i=null==r[1]?n:r[1],s.$modify_number()),c(C(i,0))&&(i=1),t=_.$make_dice_roll(i),r=L(t),_.$make_dice_roll_text(u,i,null==r[0]?n:r[0],null==r[1]?n:r[1])):n}),o.$private(),m(o,"$make_dice_roll_text",function(a,r,t,_){var s,$=n,u=n;return $="("+r+"D6) \uff1e "+t+" \u6210\u529f\u6570:"+_,s=G(r,_),c(h(s,0))&&($=$+" \u632f\u308a\u76f4\u3057\u53ef\u80fd:"+s,u="\n\u632f\u308a\u76f4\u3057\u30b3\u30de\u30f3\u30c9: TFL"+s),c(h(a,0))?c(P(_,a))?b("Result").$success($+" \u6210\u529f\uff01"+u):b("Result").$failure($+" \u5931\u6557\uff01"+u):""+$+u}),m(o,"$make_dice_roll",function(a){var _,t=n;return _=(t=this.randomizer.$roll_barabara(a,6)).$count(6),["["+t.$join(",")+"]",_]})})}}]);