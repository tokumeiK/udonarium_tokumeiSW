(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[3312],{3498:(Y,J,E)=>{E(9993),Opal.queue(function(r){var M,H,T,$,u,a,C,v,K,k,g=r.module,B=r.klass,i=r.const_set,p=r.def,S=r.hash2,b=r.truthy,_=r.send,j=r.rb_plus,z=r.rb_times,h=r.rb_gt,A=r.neqeq,x=[],e=r.nil,F=r.$$$;return M=x,H=k=[g(x[0],"BCDice")].concat(M),v=[g(k[0],"GameSystem")].concat(H),K=r.$r(v),T=v,u=[$=B(v[0],K("Base"),"Bloodorium")].concat(T),a=r.$r(u),(C=$.$$prototype).round_type=C.randomizer=e,i(u[0],"ID","Bloodorium"),i(u[0],"NAME","\u30d6\u30e9\u30c9\u30ea\u30a6\u30e0"),i(u[0],"SORT_KEY","\u3075\u3089\u3068\u308a\u3046\u3080"),i(u[0],"HELP_MESSAGE","\u30fb\u30c0\u30a4\u30b9\u30c1\u30a7\u30c3\u30af xDC+y\n\u3000\u3010\u30c0\u30a4\u30b9\u30c1\u30a7\u30c3\u30af\u3011\u3092\u884c\u3046\u3002\u300a\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u300b\u3092\u7d50\u679c\u306b\u81ea\u52d5\u53cd\u6620\u3059\u308b\u3002\n\u3000x: \u30c0\u30a4\u30b9\u6570\n\u3000y: \u7d50\u679c\u3078\u306e\u4fee\u6b63\u5024 \uff08\u7701\u7565\u53ef\uff09\n"),$.$register_prefix("\\d+DC"),p($,"$eval_game_system_specific_command",function(s){return this.$dicecheck(s)}),$.$private(),p($,"$dicecheck",function(s){var n=this,t=e,m=e,d=e,w=e,o=e,y=e,D=e;return t=F(a("Command"),"Parser").$new("DC",S(["round_type"],{round_type:n.round_type})).$has_prefix_number().$restrict_cmp_op_to(e).$parse(s),b(t)?(d=(m=n.randomizer.$roll_barabara(t.$prefix_number(),6).$sort()).$max(),w=_(_(m,"group_by",[],"itself".$to_proc()),"transform_values",[],"length".$to_proc()),o=w.$values().$max(),y=j(z(d,o),t.$modify_number()),D=["("+t+")","["+m.$join(",")+"]"+a("Format").$modifier(t.$modify_number()),b(h(o,1))?"\u300a\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u300b(*"+o+")":e,A(y,d)?n.$total_expr(d,o,t.$modify_number()):e,y].$compact(),_(a("Result").$new(),"tap",[],function(f){var l;return null==f&&(f=e),f["$critical="](h(o,1)),l=[D.$join(" \uff1e ")],_(f,"text=",l),l[l.length-1]})):e}),p($,"$total_expr",function(s,n,c){return""+s+(b(h(n,1))?"*"+n:e)+a("Format").$modifier(c)})})}}]);