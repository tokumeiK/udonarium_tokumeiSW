(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[4872],{9538:(ne,re,z)=>{z(9993),Opal.queue(function(t){var Y,U,O,v,h,o,C,W,j,G=t.module,M=t.klass,T=t.const_set,r=t.truthy,B=t.def,y=t.rb_minus,i=t.rb_plus,F=t.to_ary,N=t.rb_le,K=t.rb_ge,E=t.rb_gt,q=t.neqeq,P=t.thrower,X=t.hash2,H=[],e=t.nil,D=t.$$$;return Y=H,U=j=[G(H[0],"BCDice")].concat(Y),C=[G(j[0],"GameSystem")].concat(U),W=t.$r(C),O=C,h=[v=M(C[0],W("Base"),"BadLife")].concat(O),o=t.$r(h),v.$$prototype.randomizer=e,T(h[0],"ID","BadLife"),T(h[0],"NAME","\u30d0\u30c3\u30c9\u30e9\u30a4\u30d5"),T(h[0],"SORT_KEY","\u306f\u3064\u3068\u3089\u3044\u3075"),T(h[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\uff1anBADm[\xb1a][Cb\xb1c][Fd\xb1e][@X\xb1f][!OP]\u3000\u3000[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\u3002\n\u30fbBAD\u30b3\u30de\u30f3\u30c9\u306f\u300cBL\u300d\u30b3\u30de\u30f3\u30c9\u3067\u4ee3\u7528\u53ef\u3002\n\u30fb\u535a\u5f92\u306f\u300cGL\u300d\u30b3\u30de\u30f3\u30c9\u3067\u3008\u6ce2\u4e71\u4e07\u4e08\u3009\u306e\u52b9\u679c\u3092\u9069\u7528\u3002\n\n\u300cn\u300d\u3067\u632f\u308b\u30c0\u30a4\u30b9\u6570\u3001\u300cm\u300d\u3067\u7279\u6027\u5024\u3001\u300c\xb1a\u300d\u3067\u9054\u6210\u5024\u3078\u306e\u4fee\u6b63\u5024\u3001\n\u300cCb\xb1c\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3078\u306e\u4fee\u6b63\u3001\u300cFd\xb1e\u300d\u3067\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u3078\u306e\u4fee\u6b63\u3001\n\u300c@X\u300d\u3067\u76ee\u6a19\u96e3\u6613\u5ea6\u3092\u6307\u5b9a\u3002\n\u300c\xb1a\u300d\u300cCb\xb1c\u300d\u300cFd\xb1e\u300d[@X\xb1f]\u90e8\u5206\u306f\u300c4+1-3\u300d\u306a\u3069\u306e\u8907\u6570\u56de\u6307\u5b9a\u53ef\u3002\n\u300c!OP\u300d\u90e8\u5206\u3067\u3001\u4e00\u90e8\u306e\u30b9\u30ad\u30eb\u3084\u30ac\u30b8\u30a7\u30c3\u30c8\u306e\u8ffd\u52a0\u52b9\u679c\u3092\u6307\u5b9a\u53ef\u3002\n\u4f7f\u7528\u53ef\u80fd\u306a\u30b3\u30de\u30f3\u30c9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\u9806\u4e0d\u540c\u3001\u8907\u6570\u540c\u6642\u4f7f\u7528\u3082\u53ef\u3002\nA\uff1a\u3008\u5148\u898b\u306e\u660e\u3009\u3000\u3000H\uff1a\uff3b\u91cd\u6483\uff3d\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\nBAD \u2192 1\u30c0\u30a4\u30b9\u3067\u9054\u6210\u5024\u3092\u8868\u793a\u3002\n3BAD10+2-1 \u2192 3\u30c0\u30a4\u30b9\u3067\u4fee\u6b63+11\u306e\u9054\u6210\u5024\u3092\u8868\u793a\u3002\nBL8@15 \u2192 1\u30c0\u30a4\u30b9\u3067\u4fee\u6b63+8\u3001\u96e3\u6613\u5ea615\u306e\u5224\u5b9a\u3002\n2BL8C-1F1@15 \u2192 2\u30c0\u30a4\u30b9\u3067\u4fee\u6b63+8\u3001C\u5024-1\u3001F\u5024+1\u3001\u96e3\u6613\u5ea615\u306e\u5224\u5b9a\u3002\nGL6@20 \u2192 1\u30c0\u30a4\u30b9\u3067\u4fee\u6b63+6\u3001\u96e3\u6613\u5ea620\u306e\u5224\u5b9a\u3002\u3008\u6ce2\u4e71\u4e07\u4e08\u3009\u306e\u52b9\u679c\u3002\nGL6@20!HA \u2192 \u4e0a\u8a18\u306b\u52a0\u3048\u3066\u3008\u5148\u898b\u306e\u660e\u3009\uff3b\u91cd\u6483\uff3d\u306e\u52b9\u679c\u3002\n\n\u30fb\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868\n\u602a\u76d7\uff1aTRN\u3000\u3000\u3000\u95c7\u533b\u8005\uff1aDRN\u3000\u3000\u535a\u5f92\uff1aGRN\n\u6bba\u30b7\u5c4b\uff1aKRN\u3000\u3000\u696d\u5e2b\uff1aSRN\u3000\u3000\u3000\u904a\u30d3\u4eba\uff1aBRN\n\n\u30fb\u30b9\u30ad\u30eb\u8868\uff1aSKL\n"),v.$register_prefix("\\d?(BAD|BL|GL)","[TDGKSB]RN","SKL"),B(v,"$eval_game_system_specific_command",function(l){var u;return r(u=this.$judgeDice(l))?u:this.$roll_tables(l,o("TABLES"))}),B(v,"$judgeDice",function(l){var $,u,c=this,a=e,A=e,d=e,f=e,s=e,m=e,R=e,L=e,_=e;return r(a=/(\d+)?(BAD|BL|GL)([-+\d]*)((C|F)([-+\d]*)?)?((C|F)([-+\d]*))?(@([-+\d]*))?(!(\D*))?/i.$match(l))?(A=(r(d=a["$[]"](1))?d:1).$to_i(),f=20,s=1,m=a["$[]"](2)["$=="]("GL"),r(m)&&(f=y(f,3),s=i(s,1)),R=c.$get_value(a["$[]"](3)),u=c.$get_critival_fumble(f,s,a["$[]"](5),a["$[]"](6)),$=F(u),u=c.$get_critival_fumble(f=null==$[0]?e:$[0],s=null==$[1]?e:$[1],a["$[]"](8),a["$[]"](9)),f=null==($=F(u))[0]?e:$[0],s=null==$[1]?e:$[1],L=c.$get_value(a["$[]"](11)),_=r(d=a["$[]"](13))?d:"",c.$checkRoll(A,R,f,s,L,m,_)):e}),B(v,"$get_critival_fumble",function(l,$,u,c){switch(u){case"C":l=i(l,this.$get_value(c));break;case"F":$=i($,this.$get_value(c))}return[l,$]}),B(v,"$checkRoll",function(l,$,u,c,a,A,d){var s,m,L,w,S,R=e,_=e,g=e,n=e,x=e,b=e;return s=d["$include?"]("A"),m=d["$include?"]("H"),L=(R=this.randomizer.$roll_barabara(l,20)).$join(","),_=R.$max(),r(m)&&r(N(_,5))&&(_=5),w=K(_,u),S=N(_,c),r(w)&&(_=20),g=i(_,$),r(s)&&r(N(_,7))&&(g=i(g,5)),r(S)&&(g=0),n=i(n=l+"D20(C:"+u+",F:"+c+") \uff1e ",_+"["+L+"]"),r(E($,0))&&(n=i(n,"+")),q($,0)&&(n=i(n,$.$to_s())),r(s)&&r(N(_,7))&&(n=i(n,"+5")),n=i(n," \uff1e \u9054\u6210\u5024\uff1a"+g),r(E(a,0))?(x=y(g,a),n=i(n,">="+a+" \u6210\u529f\u5ea6\uff1a"+x+" \uff1e "),r(w)?n=i(n,"\u6210\u529f\uff08\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\uff09"):r(K(g,a))?n=i(n,"\u6210\u529f"):(n=i(n,"\u5931\u6557"),r(S)&&(n=i(n,"\uff08\u30d5\u30a1\u30f3\u30d6\u30eb\uff09")))):(r(w)&&(n=i(n," \u30af\u30ea\u30c6\u30a3\u30ab\u30eb")),r(S)&&(n=i(n," \u30d5\u30a1\u30f3\u30d6\u30eb"))),b="",r(A)&&(b=i(b,"\u3008\u6ce2\u4e71\u4e07\u4e08\u3009")),r(s)&&(b=i(b,"\u3008\u5148\u898b\u306e\u660e\u3009")),r(m)&&(b=i(b,"\uff3b\u91cd\u6483\uff3d")),q(b,"")&&(n=i(n," "+b)),n}),B(v,"$get_value",function(l){try{var u;return P("eval_return"),l=r(u=l)?u:"",o("ArithmeticEvaluator").$eval(l)}catch(c){if(c===t.t_eval_return)return c.$v;throw c}}),T(h[0],"TABLES",X(["SKL","TRN","DRN","GRN","KRN","SRN","BRN"],{SKL:D(o("DiceTable"),"Table").$new("\u30b9\u30ad\u30eb\u8868","1D100",t.large_array_unpack("\u4e00\u6483\u96e2\u8131,\u4e00\u6483\u96e2\u8131,\u30c1\u30a7\u30a4\u30b5\u30fc,\u30c1\u30a7\u30a4\u30b5\u30fc,\u5f71\u306e\u5916\u5957,\u5f71\u306e\u5916\u5957,\u4e8c\u6bb5\u30b8\u30e3\u30f3\u30d7,\u4e8c\u6bb5\u30b8\u30e3\u30f3\u30d7,\u97cb\u99c4\u5929,\u97cb\u99c4\u5929,\u624b\u7df4,\u624b\u7df4,\u30cf\u30cb\u30fc\u30c6\u30a4\u30b9\u30c8,\u30cf\u30cb\u30fc\u30c6\u30a4\u30b9\u30c8,\u5148\u898b\u306e\u660e,\u5148\u898b\u306e\u660e,\u30d9\u30c6\u30e9\u30f3,\u30d9\u30c6\u30e9\u30f3,\u5fdc\u6025\u624b\u5f53,\u5fdc\u6025\u624b\u5f53,\u30bb\u30e9\u30d4\u30fc,\u30bb\u30e9\u30d4\u30fc,\u7dca\u6025\u6cbb\u7642,\u7dca\u6025\u6cbb\u7642,\u30b4\u30fc\u30eb\u30c9\u30c7\u30a3\u30ac\u30fc,\u30b4\u30fc\u30eb\u30c9\u30c7\u30a3\u30ac\u30fc,\u30c7\u30a4\u30ea\u30fc\u30df\u30c3\u30b7\u30e7\u30f3,\u30c7\u30a4\u30ea\u30fc\u30df\u30c3\u30b7\u30e7\u30f3,\u898b\u5207\u308a,\u898b\u5207\u308a,\u9df9\u306e\u76ee,\u9df9\u306e\u76ee,\u3057\u3073\u308c\u7f60,\u3057\u3073\u308c\u7f60,\u5927\u9006\u8ee2,\u5927\u9006\u8ee2,\u6b66\u5668\u7fd2\u719f\uff1a\u25cb\u25cb,\u6b66\u5668\u7fd2\u719f\uff1a\u25cb\u25cb,\u767e\u767a\u767e\u4e2d,\u767e\u767a\u767e\u4e2d,\u5c48\u5f37\u306a\u8089\u4f53,\u5c48\u5f37\u306a\u8089\u4f53,\u4e8c\u5200\u6d41,\u4e8c\u5200\u6d41,\u30af\u30a4\u30c3\u30af\u30ea\u30ab\u30d0\u30ea\u30fc,\u30af\u30a4\u30c3\u30af\u30ea\u30ab\u30d0\u30ea\u30fc,\u4f53\u9a13\u4e3b\u7fa9,\u4f53\u9a13\u4e3b\u7fa9,\u7834\u91dc\u6c88\u8239,\u7834\u91dc\u6c88\u8239,\u60f3\u5b9a\u306e\u7bc4\u56f2\u5185,\u60f3\u5b9a\u306e\u7bc4\u56f2\u5185,\u30bb\u30ab\u30f3\u30c9\u30c1\u30e3\u30f3\u30b9,\u30bb\u30ab\u30f3\u30c9\u30c1\u30e3\u30f3\u30b9,\u512a\u79c0\u306a\u5b50\u5206,\u512a\u79c0\u306a\u5b50\u5206,\u6642\u9593\u7ba1\u7406\u8853,\u6642\u9593\u7ba1\u7406\u8853,\u9023\u6483\u8853,\u9023\u6483\u8853,\u7f75\u8a48\u96d1\u8a00,\u7f75\u8a48\u96d1\u8a00,\u30b1\u30bb\u30e9\u30bb\u30e9,\u30b1\u30bb\u30e9\u30bb\u30e9,\u30c0\u30f3\u30b9\uff06\u30df\u30e5\u30fc\u30b8\u30c3\u30af,\u30c0\u30f3\u30b9\uff06\u30df\u30e5\u30fc\u30b8\u30c3\u30af,\u30d5\u30a7\u30a4\u30f3\u30c8,\u30d5\u30a7\u30a4\u30f3\u30c8,\u30d8\u30a4\u30c8\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb,\u30d8\u30a4\u30c8\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb,\u60dc\u5225,\u60dc\u5225,\u6226\u95d8\u30de\u30b7\u30fc\u30f3,\u6226\u95d8\u30de\u30b7\u30fc\u30f3,\u6226\u95d8\u30de\u30b7\u30fc\u30f3,\u540d\u533b,\u540d\u533b,\u540d\u533b,\u5fcd\u8005,\u5fcd\u8005,\u5fcd\u8005,\u89b3\u5bdf\u773c,\u89b3\u5bdf\u773c,\u89b3\u5bdf\u773c,\u30af\u30ec\u30d0\u30fc,\u30af\u30ec\u30d0\u30fc,\u30af\u30ec\u30d0\u30fc,\u30d5\u30a7\u30a4\u30b9\u30de\u30f3,\u30d5\u30a7\u30a4\u30b9\u30de\u30f3,\u30d5\u30a7\u30a4\u30b9\u30de\u30f3,\u30b9\u30dd\u30fc\u30c4\u30de\u30f3,\u30b9\u30dd\u30fc\u30c4\u30de\u30f3,\u30b9\u30dd\u30fc\u30c4\u30de\u30f3,\u4e0d\u5c48,\u4e0d\u5c48,\u4e0d\u5c48,\u614e\u91cd,\u614e\u91cd,\u614e\u91cd,\u3053\u306e\u8868\u30922\u56de\u632f\u308b")),TRN:D(o("DiceTable"),"Table").$new("\u602a\u76d7\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868","1D20",["\u30d5\u30a9\u30c3\u30af\u30b9","\u30d5\u30a9\u30c3\u30af\u30b9","\u30e9\u30c3\u30c8","\u30e9\u30c3\u30c8","\u30ad\u30e3\u30c3\u30c8","\u30ad\u30e3\u30c3\u30c8","\u30bf\u30a4\u30ac\u30fc","\u30bf\u30a4\u30ac\u30fc","\u30b7\u30e3\u30fc\u30af","\u30b7\u30e3\u30fc\u30af","\u30b3\u30f3\u30c9\u30eb","\u30b3\u30f3\u30c9\u30eb","\u30b9\u30d1\u30a4\u30c0\u30fc","\u30b9\u30d1\u30a4\u30c0\u30fc","\u30a6\u30eb\u30d5","\u30a6\u30eb\u30d5","\u30b3\u30e8\u30fc\u30c6","\u30b3\u30e8\u30fc\u30c6","\u30b8\u30e3\u30ac\u30fc","\u30b8\u30e3\u30ac\u30fc"]),DRN:D(o("DiceTable"),"Table").$new("\u95c7\u533b\u8005\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868","1D20",["\u30ad\u30e3\u30f3\u30b5\u30fc","\u30ad\u30e3\u30f3\u30b5\u30fc","\u30d8\u30c3\u30c9\u30a8\u30a4\u30af","\u30d8\u30c3\u30c9\u30a8\u30a4\u30af","\u30d6\u30e9\u30c3\u30c9","\u30d6\u30e9\u30c3\u30c9","\u30a6\u30fc\u30f3\u30ba","\u30a6\u30fc\u30f3\u30ba","\u30dd\u30a4\u30ba\u30f3","\u30dd\u30a4\u30ba\u30f3","\u30da\u30a4\u30f3","\u30da\u30a4\u30f3","\u30b9\u30ea\u30fc\u30d7","\u30b9\u30ea\u30fc\u30d7","\u30ad\u30e5\u30a2","\u30ad\u30e5\u30a2","\u30c7\u30b9","\u30c7\u30b9","\u30ea\u30fc\u30f3\u30ab\u30fc\u30cd\u30a4\u30b7\u30e7\u30f3","\u30ea\u30fc\u30f3\u30ab\u30fc\u30cd\u30a4\u30b7\u30e7\u30f3"]),GRN:D(o("DiceTable"),"Table").$new("\u535a\u5f92\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868","1D20",["\u30ea\u30c8\u30eb\u30c0\u30a4\u30b9","\u30ea\u30c8\u30eb\u30c0\u30a4\u30b9","\u30d7\u30e9\u30c1\u30ca\u30e0","\u30d7\u30e9\u30c1\u30ca\u30e0","\u30d7\u30ec\u30b8\u30c7\u30f3\u30c8","\u30d7\u30ec\u30b8\u30c7\u30f3\u30c8","\u30c9\u30ea\u30fc\u30e0","\u30c9\u30ea\u30fc\u30e0","\u30a2\u30af\u30b7\u30c7\u30f3\u30c8","\u30a2\u30af\u30b7\u30c7\u30f3\u30c8","\u30b0\u30ea\u30fc\u30c9","\u30b0\u30ea\u30fc\u30c9","\u30d5\u30a9\u30fc\u30c1\u30e5\u30f3","\u30d5\u30a9\u30fc\u30c1\u30e5\u30f3","\u30df\u30e9\u30af\u30eb","\u30df\u30e9\u30af\u30eb","\u30db\u30fc\u30d7","\u30db\u30fc\u30d7","\u30d3\u30c3\u30b0\u30d2\u30c3\u30c8","\u30d3\u30c3\u30b0\u30d2\u30c3\u30c8"]),KRN:D(o("DiceTable"),"Table").$new("\u6bba\u30b7\u5c4b\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868","1D20",["\u30cf\u30f3\u30de\u30fc","\u30cf\u30f3\u30de\u30fc","\u30a2\u30ed\u30fc","\u30a2\u30ed\u30fc","\u30dc\u30de\u30fc","\u30dc\u30de\u30fc","\u30ad\u30e3\u30ce\u30f3","\u30ad\u30e3\u30ce\u30f3","\u30d6\u30ec\u30fc\u30c9","\u30d6\u30ec\u30fc\u30c9","\u30b9\u30c6\u30a3\u30f3\u30b0","\u30b9\u30c6\u30a3\u30f3\u30b0","\u30ac\u30ed\u30c3\u30c8","\u30ac\u30ed\u30c3\u30c8","\u30d1\u30a4\u30eb\u30d0\u30f3\u30ab\u30fc","\u30d1\u30a4\u30eb\u30d0\u30f3\u30ab\u30fc","\u30ec\u30a4\u30b6\u30fc","\u30ec\u30a4\u30b6\u30fc","\u30ab\u30bf\u30ca","\u30ab\u30bf\u30ca"]),SRN:D(o("DiceTable"),"Table").$new("\u696d\u5e2b\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868","1D20",["\u30ed\u30fc\u30ba","\u30ed\u30fc\u30ba","\u30b5\u30af\u30e9","\u30b5\u30af\u30e9","\u30e9\u30a4\u30e9\u30c3\u30af","\u30e9\u30a4\u30e9\u30c3\u30af","\u30c0\u30f3\u30c7\u30e9\u30a4\u30aa\u30f3","\u30c0\u30f3\u30c7\u30e9\u30a4\u30aa\u30f3","\u30d5\u30ea\u30fc\u30b8\u30a2","\u30d5\u30ea\u30fc\u30b8\u30a2","\u30ab\u30af\u30bf\u30b9","\u30ab\u30af\u30bf\u30b9","\u30ed\u30fc\u30bf\u30b9","\u30ed\u30fc\u30bf\u30b9","\u30ea\u30ea\u30a3","\u30ea\u30ea\u30a3","\u30e9\u30d5\u30ec\u30b7\u30a2","\u30e9\u30d5\u30ec\u30b7\u30a2","\u30d2\u30e4\u30b7\u30f3\u30b9","\u30d2\u30e4\u30b7\u30f3\u30b9"]),BRN:D(o("DiceTable"),"Table").$new("\u904a\u30d3\u4eba\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868","1D20",["\u30e2\u30ce\u30dd\u30ea\u30fc","\u30e2\u30ce\u30dd\u30ea\u30fc","\u30d6\u30ea\u30c3\u30b8","\u30d6\u30ea\u30c3\u30b8","\u30c1\u30a7\u30c3\u30ab\u30fc","\u30c1\u30a7\u30c3\u30ab\u30fc","\u30a2\u30af\u30ef\u30a4\u30a2","\u30a2\u30af\u30ef\u30a4\u30a2","\u30b8\u30e3\u30f3\u30b1\u30f3","\u30b8\u30e3\u30f3\u30b1\u30f3","\u30c8\u30e9\u30f3\u30d7","\u30c8\u30e9\u30f3\u30d7","\u30b1\u30a4\u30c9\u30ed","\u30b1\u30a4\u30c9\u30ed","\u30d1\u30f3\u30c7\u30df\u30c3\u30af","\u30d1\u30f3\u30c7\u30df\u30c3\u30af","\u30b9\u30b4\u30ed\u30af","\u30b9\u30b4\u30ed\u30af","\u30ad\u30e3\u30d9\u30c4\u30ab\u30f3\u30c6\u30a4","\u30ad\u30e3\u30d9\u30c4\u30ab\u30f3\u30c6\u30a4"])}).$freeze())})}}]);