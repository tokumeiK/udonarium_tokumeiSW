(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[6344],{2890:(he,ge,ve)=>{ve(9993),Opal.modules["bcdice/format"]=function(r){var H,I,V,ne,se,ee,ue=r.module,C=r.eqeqeq,u=r.def,D=r.truthy,O=r.eqeq,ae=r.rb_gt,X=[],J=r.nil;return H=X,I=ee=[ue(X[0],"BCDice")].concat(H),ne=[V=ue(ee[0],"Format")].concat(I),se=r.$r(ne),V.$module_function(),u(V,"$comparison_operator",function(i){var m;return C("==",m=i)?"=":C("!=",m)?"<>":C(se("Symbol"),m)?i.$to_s():J}),u(V,"$modifier",function(i){return D(i["$nil?"]())?J:O(i,0)?"":D(ae(i,0))?"+"+i:i.$to_s()})},Opal.modules["racc/parser"]=function(r){var ie,A,g,ue=r.module,C=r.klass,u=r.truthy,D=r.const_set,O=r.defs,ae=r.gvars,X=r.rb_lt,J=r.def,T=r.to_ary,H=r.send,E=r.neqeq,ee=r.rb_plus,$e=r.eqeq,I=r.rb_ge,V=r.rb_gt,ne=r.rb_minus,se=r.rb_le,y=r.rb_times,i=r.assign_ivar_val,$=[],S=r.$r($),e=r.nil,n=r.$$$;return ie=$,A=[ue($[0],"Racc")].concat(ie),g=r.$r(A),C(A[0],g("StandardError"),"ParseError"),u(n("::","ParseError","skip_raise")?"constant":e)||D($[0],"ParseError",n(S("Racc"),"ParseError")),function(x,ie){var q,p,d,z,M,g=[ue(x,"Racc")].concat(ie),F=r.$r(g);return u(F("Racc_No_Extensions","skip_raise")?"constant":e)||D(g[0],"Racc_No_Extensions",!1),q=g,d=[p=C(g[0],null,"Parser")].concat(q),z=r.$r(d),(M=p.$$prototype).yydebug=M.racc_debug_out=M.racc_error_status=M.racc_t=M.racc_vstack=M.racc_val=M.racc_state=M.racc_tstack=e,D(d[0],"Racc_Runtime_Version","1.4.6"),D(d[0],"Racc_Runtime_Revision",["originalRevision:","1.8"]["$[]"](1)),D(d[0],"Racc_Runtime_Core_Version_R","1.4.6"),D(d[0],"Racc_Runtime_Core_Revision_R",["originalRevision:","1.8"]["$[]"](1)),D(d[0],"Racc_Main_Parsing_Routine","_racc_do_parse_rb"),D(d[0],"Racc_YY_Parse_Method","_racc_yyparse_rb"),D(d[0],"Racc_Runtime_Core_Version",z("Racc_Runtime_Core_Version_R")),D(d[0],"Racc_Runtime_Core_Revision",z("Racc_Runtime_Core_Revision_R")),D(d[0],"Racc_Runtime_Type","ruby"),O(z("Parser"),"$racc_runtime_type",function(){return z("Racc_Runtime_Type")}),J(p,"$_racc_setup",function(){var _,v,a=this,L=e,t=e;return null==ae.stderr&&(ae.stderr=e),u(n(a.$class(),"Racc_debug_parser"))||(a.yydebug=!1),u(null!=(_=a.yydebug)&&_!==e?"instance-variable":e)||(a.yydebug=!1),u(a.yydebug)&&(u(null!=(v=a.racc_debug_out)&&v!==e?"instance-variable":e)||(a.racc_debug_out=ae.stderr),a.racc_debug_out=u(L=a.racc_debug_out)?L:ae.stderr),t=n(a.$class(),"Racc_arg"),u(X(t.$size(),14))&&t["$[]="](13,!0),t}),J(p,"$_racc_init_sysvars",function(){var _=this;return _.racc_state=[0],_.racc_tstack=[],_.racc_vstack=[],_.racc_t=e,_.racc_val=e,_.racc_read_next=!0,_.racc_user_yyerror=!1,_.racc_error_status=0}),J(p,"$do_parse",function(){return this.$__send__(z("Racc_Main_Parsing_Routine"),this.$_racc_setup(),!1)}),J(p,"$next_token",function(){return this.$raise(z("NotImplementedError"),this.$class()+"#next_token is not defined")}),J(p,"$_racc_do_parse_rb",function(_,v){var a,t=this,b=e,f=e,w=e,l=e,Q=e,P=e,Y=e,G=e;return a=T(_),b=null==a[0]?e:a[0],f=null==a[1]?e:a[1],w=null==a[2]?e:a[2],l=null==a[3]?e:a[3],Q=null==a[10]?e:a[10],t.$_racc_init_sysvars(),P=Y=G=e,H(t,"catch",["racc_end_parse"],function h(){var s,R,o=null==h.$$s?this:h.$$s,c=e;for(null==o.racc_state&&(o.racc_state=e),null==o.racc_read_next&&(o.racc_read_next=e),null==o.racc_t&&(o.racc_t=e),null==o.yydebug&&(o.yydebug=e),null==o.racc_val&&(o.racc_val=e);u(!0);)for(u(G=l["$[]"](o.racc_state["$[]"](-1)))?(u(o.racc_read_next)&&E(o.racc_t,0)&&(R=o.$next_token(),s=T(R),P=null==s[0]?e:s[0],o.racc_val=null==s[1]?e:s[1],o.racc_t=u(P)?u(c=Q["$[]"](P))?c:1:0,u(o.yydebug)&&o.$racc_read_token(o.racc_t,P,o.racc_val),o.racc_read_next=!1),G=ee(G,o.racc_t),u(I(G,0))&&u(Y=b["$[]"](G))&&$e(f["$[]"](G),o.racc_state["$[]"](-1))||(Y=w["$[]"](o.racc_state["$[]"](-1)))):Y=w["$[]"](o.racc_state["$[]"](-1));u(Y=o.$_racc_evalact(Y,_)););},{$$s:t})}),J(p,"$yyparse",function(_,v){return this.$__send__(z("Racc_YY_Parse_Method"),_,v,this.$_racc_setup(),!0)}),J(p,"$_racc_yyparse_rb",function(_,v,a,L){var t,f=this,w=e,l=e,W=e,Q=e,Y=e,G=e,h=e;return t=T(a),w=null==t[0]?e:t[0],l=null==t[1]?e:t[1],W=null==t[2]?e:t[2],Q=null==t[3]?e:t[3],Y=null==t[10]?e:t[10],f.$_racc_init_sysvars(),G=e,h=e,H(f,"catch",["racc_end_parse"],function s(){var R=null==s.$$s?this:s.$$s;for(null==R.racc_state&&(R.racc_state=e);!u(h=Q["$[]"](R.racc_state["$[]"](-1)));)for(;u(G=R.$_racc_evalact(W["$[]"](R.racc_state["$[]"](-1)),a)););return H(_,"__send__",[v],function o(c,K){var U=null==o.$$s?this:o.$$s,Z=e,N=e;for(null==U.racc_t&&(U.racc_t=e),null==U.racc_state&&(U.racc_state=e),null==U.racc_read_next&&(U.racc_read_next=e),null==c&&(c=e),null==K&&(K=e),U.racc_t=u(c)?u(Z=Y["$[]"](c))?Z:1:0,U.racc_val=K,U.racc_read_next=!1,h=ee(h,U.racc_t),u(I(h,0))&&u(G=w["$[]"](h))&&$e(l["$[]"](h),U.racc_state["$[]"](-1))||(G=W["$[]"](U.racc_state["$[]"](-1)));u(G=U.$_racc_evalact(G,a)););for(;u(u(Z=u(N=(h=Q["$[]"](U.racc_state["$[]"](-1)))["$!"]())?N:U.racc_read_next["$!"]())?Z:U.racc_t["$=="](0));)for(u(h)&&u(h=ee(h,U.racc_t))&&u(I(h,0))&&u(G=w["$[]"](h))&&$e(l["$[]"](h),U.racc_state["$[]"](-1))||(G=W["$[]"](U.racc_state["$[]"](-1)));u(G=U.$_racc_evalact(G,a)););},{$$s:R})},{$$s:f})}),J(p,"$_racc_evalact",function(_,v){var a,W,t=this,b=e,f=e,l=e,Q=e,P=e,Y=e;if(b=null==(a=T(v))[0]?e:a[0],f=null==a[1]?e:a[1],l=null==a[3]?e:a[3],W=null==a[11]?e:a[11],Q=null==a[12]?e:a[12],u(V(_,0))&&u(X(_,W)))u(V(t.racc_error_status,0))&&($e(t.racc_t,1)||(t.racc_error_status=ne(t.racc_error_status,1))),t.racc_vstack.$push(t.racc_val),t.racc_state.$push(_),t.racc_read_next=!0,u(t.yydebug)&&(t.racc_tstack.$push(t.racc_t),t.$racc_shift(t.racc_t,t.racc_tstack,t.racc_vstack));else if(u(X(_,0))&&u(V(_,Q["$-@"]()))){if(P=H(t,"catch",["racc_jump"],function G(){var h=null==G.$$s?this:G.$$s;return null==h.racc_state&&(h.racc_state=e),h.racc_state.$push(h.$_racc_do_reduce(v,_)),!1},{$$s:t}),u(P))switch(P){case 1:return t.racc_user_yyerror=!0,Q["$-@"]();case 2:return W;default:t.$raise("[Racc Bug] unknown jump code")}}else if($e(_,W))u(t.yydebug)&&t.$racc_accept(),t.$throw("racc_end_parse",t.racc_vstack["$[]"](0));else{if($e(_,Q["$-@"]())){switch(t.racc_error_status){case 0:u(v["$[]"](21))||t.$on_error(t.racc_t,t.racc_val,t.racc_vstack);break;case 3:$e(t.racc_t,0)&&t.$throw("racc_end_parse",e),t.racc_read_next=!0}for(t.racc_user_yyerror=!1,t.racc_error_status=3;u(!0)&&!(u(Y=l["$[]"](t.racc_state["$[]"](-1)))&&(Y=ee(Y,1),u(I(Y,0))&&u(_=b["$[]"](Y))&&$e(f["$[]"](Y),t.racc_state["$[]"](-1))));)u(se(t.racc_state.$size(),1))&&t.$throw("racc_end_parse",e),t.racc_state.$pop(),t.racc_vstack.$pop(),u(t.yydebug)&&(t.racc_tstack.$pop(),t.$racc_e_pop(t.racc_state,t.racc_tstack,t.racc_vstack));return _}t.$raise("[Racc Bug] unknown action "+_.$inspect())}return u(t.yydebug)&&t.$racc_next_state(t.racc_state["$[]"](-1),t.racc_state),e}),J(p,"$_racc_do_reduce",function(_,v){var a,Q,Y,c,K,U,te,t=this,f=e,w=e,l=e,W=e,P=e,G=e,h=e,s=e,R=e,o=e,Z=e,N=e,ce=e;return f=null==(a=T(_))[4]?e:a[4],w=null==a[5]?e:a[5],l=null==a[6]?e:a[6],W=null==a[7]?e:a[7],Q=null==a[8]?e:a[8],P=null==a[9]?e:a[9],Y=null==a[13]?e:a[13],G=t.racc_state,h=t.racc_vstack,s=t.racc_tstack,R=y(v,-3),o=P["$[]"](R),c=P["$[]"](ee(R,1)),K=P["$[]"](ee(R,2)),U=[],u(t.yydebug)&&(Z=s["$[]"](o["$-@"](),o)),N=h["$[]"](o["$-@"](),o),u(t.yydebug)&&s["$[]="](o["$-@"](),o,U),h["$[]="](o["$-@"](),o,U),G["$[]="](o["$-@"](),o,U),u(Y)?h.$push(t.$__send__(K,N,h,N["$[]"](0))):h.$push(t.$__send__(K,N,h)),s.$push(c),u(t.yydebug)&&t.$racc_reduce(Z,c,s,h),te=ne(c,Q),u(R=W["$[]"](te))&&(R=ee(R,G["$[]"](-1)),u(I(R,0))&&u(ce=f["$[]"](R))&&$e(w["$[]"](R),te))?ce:l["$[]"](te)}),J(p,"$on_error",function(_,v,a){var t,L=this;return L.$raise(z("ParseError"),L.$sprintf("\nparse error on value %s (%s)",v.$inspect(),u(t=L.$token_to_str(_))?t:"?"))}),J(p,"$yyerror",function(){return this.$throw("racc_jump",1)}),J(p,"$yyaccept",function(){return this.$throw("racc_jump",2)}),J(p,"$yyerrok",i("racc_error_status",0)),J(p,"$racc_read_token",function(_,v,a){var L=this;return L.racc_debug_out.$print("read    "),L.racc_debug_out.$print(v.$inspect(),"(",L.$racc_token2str(_),") "),L.racc_debug_out.$puts(a.$inspect()),L.racc_debug_out.$puts()}),J(p,"$racc_shift",function(_,v,a){var L=this;return L.racc_debug_out.$puts("shift   "+L.$racc_token2str(_)),L.$racc_print_stacks(v,a),L.racc_debug_out.$puts()}),J(p,"$racc_reduce",function(_,v,a,L){var t=this,b=e;return(b=t.racc_debug_out).$print("reduce "),u(_["$empty?"]())?b.$print(" <none>"):H(_,"each",[],function f(w){return null==w&&(w=e),b.$print(" ",(null==f.$$s?this:f.$$s).$racc_token2str(w))},{$$s:t}),b.$puts(" --\x3e "+t.$racc_token2str(v)),t.$racc_print_stacks(a,L),t.racc_debug_out.$puts()}),J(p,"$racc_accept",function(){return this.racc_debug_out.$puts("accept"),this.racc_debug_out.$puts()}),J(p,"$racc_e_pop",function(_,v,a){var L=this;return L.racc_debug_out.$puts("error recovering mode: pop token"),L.$racc_print_states(_),L.$racc_print_stacks(v,a),L.racc_debug_out.$puts()}),J(p,"$racc_next_state",function(_,v){var a=this;return a.racc_debug_out.$puts("goto    "+_),a.$racc_print_states(v),a.racc_debug_out.$puts()}),J(p,"$racc_print_stacks",function(_,v){var L=e;return(L=this.racc_debug_out).$print("        ["),H(_,"each_index",[],function t(b){return null==b&&(b=e),L.$print(" (",(null==t.$$s?this:t.$$s).$racc_token2str(_["$[]"](b))," ",v["$[]"](b).$inspect(),")")},{$$s:this}),L.$puts(" ]")}),J(p,"$racc_print_states",function(_){var a=e;return(a=this.racc_debug_out).$print("        ["),H(_,"each",[],function(t){return null==t&&(t=e),a.$print(" ",t)}),a.$puts(" ]")}),J(p,"$racc_token2str",function(_){var a;return u(a=n(this.$class(),"Racc_token_to_s_table")["$[]"](_))?a:this.$raise("[Racc Bug] can't convert token "+_+" to string")}),J(p,"$token_to_str",function(_){return n(this.$class(),"Racc_token_to_s_table")["$[]"](_)})}($[0],$)},Opal.modules["bcdice/arithmetic/node"]=function(r){var i,e,re,q,p,g,F,x,$,ue=r.module,C=r.klass,u=r.def,D=r.thrower,O=r.return_ivar,ae=r.send2,X=r.find_super,J=r.eqeq,T=r.const_set,H=r.eqeqeq,E=r.rb_divide,ee=r.truthy,$e=r.assign_ivar,I=r.alias,V=[],ne=r.nil,se=r.$$$;return i=V,e=$=[ue(V[0],"BCDice")].concat(i),re=x=[ue($[0],"Arithmetic")].concat(e),g=[ue(x[0],"Node")].concat(re),F=r.$r(g),(p=(q=C(g[0],null,"BinaryOp")).$$prototype).lhs=p.rhs=p.op=ne,u(q,"$initialize",function(z,M,k){var _=this;return _.lhs=z,_.op=M,_.rhs=k}),u(q,"$eval",function(z){try{D("eval_return");var v,k=this,_=ne;return _=k.lhs.$eval(z),v=k.rhs.$eval(z),_.$send(k.op,v)}catch(a){if(a===r.t_eval_return)return a.$v;throw a}}),u(q,"$output",function(){var z=this;return""+z.lhs.$output()+z.op+z.rhs.$output()}),u(q,"$s_exp",function(){var z=this;return"("+z.$op_for_s_exp()+" "+z.lhs.$s_exp()+" "+z.rhs.$s_exp()+")"}),u(q,"$op_for_s_exp",O("op")),function(B,j,q){var p=C(B,j,"DivideBase"),d=[p].concat(q),z=r.$r(d),M=p.$$prototype;M.lhs=M.rhs=M.op=ne,u(p,"$initialize",function k(_,v){return k.$$p=null,ae(this,X(this,"initialize",k,!1,!0),"initialize",[_,"/",v],null)}),u(p,"$eval",function(_){try{D("eval_return");var L,t,a=this;return L=a.lhs.$eval(_),t=a.rhs.$eval(_),J(t,0)&&a.$raise(z("ZeroDivisionError")),a.$divide_and_round(L,t,_)}catch(b){if(b===r.t_eval_return)return b.$v;throw b}}),u(p,"$output",function k(){var _=k.$$p||ne,v=this;return k.$$p=null,""+ae(v,X(v,"output",k,!1,!0),"output",[],_)+v.$rounding_method()}),p.$private(),u(p,"$rounding_method",function(){return se(this.$class(),"ROUNDING_METHOD")}),u(p,"$op_for_s_exp",function(){return""+this.op+this.$rounding_method()}),u(p,"$divide_and_round",function(_,v,a){return this.$raise(z("NotImplementedError"))})}(g[0],F("BinaryOp"),g),function(B,j,q){var p=C(B,j,"DivideWithGameSystemDefault"),d=[p].concat(q),z=r.$r(d);T(d[0],"ROUNDING_METHOD",""),p.$private(),u(p,"$divide_and_round",function(k,_,v){var a,L=ne;return H(se(z("RoundType"),"CEIL"),a=v)?E(k.$to_f(),_).$ceil():H(se(z("RoundType"),"ROUND"),a)?(L=E(k.$to_f(),_),ee(L["$negative?"]())?L.$abs().$round()["$-@"]():L.$round()):E(k,_).$floor()})}(g[0],F("DivideBase"),g),function(B,j,q){var p=C(B,j,"DivideWithCeil"),d=[p].concat(q);T(d[0],"ROUNDING_METHOD","C"),p.$private(),u(p,"$divide_and_round",function(M,k,_){return E(M.$to_f(),k).$ceil()})}(g[0],F("DivideBase"),g),function(B,j,q){var p=C(B,j,"DivideWithRound"),d=[p].concat(q);T(d[0],"ROUNDING_METHOD","R"),p.$private(),u(p,"$divide_and_round",function(M,k,_){var v=ne;return v=E(M.$to_f(),k),ee(v["$negative?"]())?v.$abs().$round()["$-@"]():v.$round()})}(g[0],F("DivideBase"),g),function(B,j,q){var p=C(B,j,"DivideWithFloor"),d=[p].concat(q);T(d[0],"ROUNDING_METHOD","F"),p.$private(),u(p,"$divide_and_round",function(M,k,_){return E(M,k).$floor()})}(g[0],F("DivideBase"),g),function(B,j){var q=C(B,null,"Negative");q.$$prototype.body=ne,u(q,"$initialize",$e("body")),u(q,"$eval",function(z){try{return D("eval_return"),this.body.$eval(z)["$-@"]()}catch(_){if(_===r.t_eval_return)return _.$v;throw _}}),u(q,"$output",function(){return"-"+this.body.$output()}),u(q,"$s_exp",function(){return"(- "+this.body.$s_exp()+")"})}(g[0]),function(B,j){var q=C(B,null,"Parenthesis");q.$$prototype.expr=ne,u(q,"$initialize",$e("expr")),u(q,"$eval",function(z){try{return D("eval_return"),this.expr.$eval(z)}catch(_){if(_===r.t_eval_return)return _.$v;throw _}}),u(q,"$output",function(){return"("+this.expr.$output()+")"}),u(q,"$s_exp",function(){return"(Parenthesis "+this.expr.$s_exp()+")"})}(g[0]),function(B,j){var q=C(B,null,"Number");return q.$$prototype.value=ne,u(q,"$initialize",$e("value")),u(q,"$eval",O("value")),u(q,"$output",function(){return this.value.$to_s()}),I(q,"s_exp","output")}(g[0])},Opal.modules.strscan=function(r){var $e,I,V,ne,se,C=r.def,u=r.truthy,D=r.eqeqeq,O=r.Opal,ae=r.return_ivar,X=r.send,J=r.alias,T=[],H=r.nil;return $e=T,V=[I=(0,r.klass)(T[0],null,"StringScanner")].concat($e),ne=r.$r(V),(se=I.$$prototype).pos=se.string=se.working=se.matched=se.prev_pos=se.match=H,I.$attr_reader("pos","matched"),C(I,"$initialize",function(i){var m=this;return m.string=i,m.pos=0,m.matched=H,m.working=i,m.match=[]}),I.$attr_reader("string"),C(I,"$beginning_of_line?",function(){var i=this;return 0===i.pos||"\n"===i.string.charAt(i.pos-1)}),C(I,"$scan",function(i){var m=this,$=(i=m.$anchor(i)).exec(m.working);return null==$?m.matched=H:(m.prev_pos=m.pos,m.pos+=$[0].length,m.working=m.working.substring($[0].length),m.matched=$[0],m.match=$,$[0])}),C(I,"$scan_until",function(i){var m=this;i=m.$anchor(i);for(var $=m.working,S=0;$.length!=S;++S){var e=i.exec($.substr(S));if(null!==e){var n=S+e[0].length,x=$.substr(0,n);return m.matched=e[0],m.match=e,m.prev_pos=m.pos+S,m.pos+=n,m.working=$.substr(n),x}}return m.matched=H}),C(I,"$[]",function(i){var $;if(u(this.match["$empty?"]()))return H;D(ne("Symbol"),$=i)?i=i.$to_s():D(ne("String"),$)||(i=O["$coerce_to!"](i,ne("Integer"),"to_int"));var S=this.match;return i<0&&(i+=S.length),i<0||i>=S.length||null==S[i]?H:S[i]}),C(I,"$check",function(i){var m=this,$=(i=m.$anchor(i)).exec(m.working);return m.matched=null==$?H:$[0]}),C(I,"$check_until",function(i){var m=this,$=m.prev_pos,S=m.pos,e=m.working,n=m.$scan_until(i);return m.prev_pos=$,m.pos=S,m.working=e,n}),C(I,"$peek",function(i){return this.working.substring(0,i)}),C(I,"$eos?",function(){return 0===this.working.length}),C(I,"$exist?",function(i){var $=i.exec(this.working);return null==$?H:0==$.index?0:$.index+1}),C(I,"$skip",function(i){var m=this,$=(i=m.$anchor(i)).exec(m.working);if(null==$)return m.match=[],m.matched=H;var S=$[0],e=S.length;return m.matched=S,m.match=$,m.prev_pos=m.pos,m.pos+=e,m.working=m.working.substring(e),e}),C(I,"$skip_until",function(i){var $=this.$scan_until(i);return $===H?H:(this.matched=$.substr(-1),$.length)}),C(I,"$get_byte",function(){var i=this,m=H;return i.pos<i.string.length?(i.prev_pos=i.pos,i.pos+=1,m=i.matched=i.working.substring(0,1),i.working=i.working.substring(1)):i.matched=H,m}),C(I,"$match?",function(i){var m=this,$=(i=m.$anchor(i)).exec(m.working);return null==$?H:(m.prev_pos=m.pos,$[0].length)}),C(I,"$pos=",function(i){var m=this;return i<0&&(i+=m.string.$length()),m.pos=i,m.working=m.string.slice(i)}),C(I,"$matched_size",function(){return this.matched===H?H:this.matched.length}),C(I,"$post_match",function(){var i=this;return i.matched===H?H:i.string.substr(i.pos)}),C(I,"$pre_match",function(){var i=this;return i.matched===H?H:i.string.substr(0,i.prev_pos)}),C(I,"$reset",function(){var i=this;return i.working=i.string,i.matched=H,i.pos=0}),C(I,"$rest",ae("working")),C(I,"$rest?",function(){return 0!==this.working.length}),C(I,"$rest_size",function(){return this.$rest().$size()}),C(I,"$terminate",function(){var i,m=this;return m.match=H,i=[m.string.$length()],X(m,"pos=",i),i[i.length-1]}),C(I,"$unscan",function(){var i=this;return i.pos=i.prev_pos,i.prev_pos=H,i.match=H,i}),J(I,"bol?","beginning_of_line?"),J(I,"getch","get_byte"),I.$private(),C(I,"$anchor",function(i){var m=i.toString().match(/\/([^\/]+)$/);return m=m?m[1]:void 0,new RegExp("^(?:"+i.source+")",m)})},Opal.modules["bcdice/normalize"]=function(r){var J,ee,H,ue=r.module,C=r.eqeqeq,u=r.def,D=r.eqeq,O=[],ae=r.nil;return J=O,H=[ue(O[0],"BCDice")].concat(J),(ee=ue(H[0],"Normalize")).$module_function(),u(ee,"$comparison_operator",function(I){var V;return C(/<=|=</,V=I)?"<=":C(/>=|=>/,V)?">=":C(/<>|!=|=!/,V)?"!=":C(/</,V)?"<":C(/>/,V)?">":C(/=/,V)?"==":ae}),u(ee,"$target_number",function(I){return D(I,"?")?I:I.$to_i()})},Opal.modules["bcdice/command/lexer"]=function(r){var $e,se,S,e,n,x,ie,i,V,ue=r.module,C=r.klass,u=r.const_set,D=r.hash2,O=r.truthy,ae=r.send,X=r.def,J=r.thrower,T=r.top,H=[],E=r.nil;return T.$require("strscan"),T.$require("bcdice/normalize"),$e=H,se=V=[ue(H[0],"BCDice")].concat($e),S=i=[ue(V[0],"Command")].concat(se),n=[e=C(i[0],null,"Lexer")].concat(S),x=r.$r(n),(ie=e.$$prototype).scanner=ie.notations=E,u(n[0],"SYMBOLS",D(["+","-","*","/","(",")","?","@","#","$"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","?":"QUESTION","@":"AT","#":"SHARP",$:"DOLLAR"}).$freeze()),X(e,"$initialize",function(A,g){var F,B,q;return A=O(q=(F=(B=A)===E||null==B?E:B.$split(" ",2))===E||null==F?E:F.$first())?q:"",this.scanner=x("StringScanner").$new(A),this.notations=ae(g,"map",[],function(d){return null==d&&(d=E),O(d["$is_a?"](x("String")))?x("Regexp").$new(d):d})}),X(e,"$next_token",function(){try{var A=J("return"),g=this,F=E,B=E,q=E,p=E;return O(g.scanner["$eos?"]())?[!1,"$"]:(ae(g.notations,"each",[],function d(z){var k,M=null==d.$$s?this:d.$$s;if(null==M.scanner&&(M.scanner=E),null==z&&(z=E),k=M.scanner.$scan(z),!O(k))return E;A.$throw(["NOTATION",k])},{$$s:g,$$ret:A}),O(F=g.scanner.$scan(/\d+/))?["NUMBER",F.$to_i()]:O(B=g.scanner.$scan(/[<>!=]+/))?(B=x("Normalize").$comparison_operator(B),[O(B)?"CMP_OP":"ILLEGAL",B]):(q=g.scanner.$getch().$upcase(),[O(p=x("SYMBOLS")["$[]"](q))?p:q.$to_sym(),q]))}catch(d){if(d===A)return d.$v;throw d}}),X(e,"$source",function(){return this.scanner.$string()})},Opal.modules["bcdice/command/parsed"]=function(r){var T,$e,y,i,m,$,S,V,E,ue=r.module,C=r.klass,u=r.def,D=r.return_ivar,O=r.truthy,ae=[],X=r.nil;return T=ae,$e=E=[ue(ae[0],"BCDice")].concat(T),y=V=[ue(E[0],"Command")].concat($e),m=[i=C(V[0],null,"Parsed")].concat(y),$=r.$r(m),(S=i.$$prototype).critical=S.fumble=S.dollar=S.modify_number=S.question_target=S.target_number=S.prefix_number=S.command=S.suffix_number=S.cmp_op=X,i.$attr_accessor("command"),i.$attr_accessor("prefix_number"),i.$attr_accessor("suffix_number"),i.$attr_accessor("critical"),i.$attr_accessor("fumble"),i.$attr_accessor("dollar"),i.$attr_accessor("modify_number"),i.$attr_accessor("cmp_op"),i.$attr_accessor("target_number"),i.$attr_writer("question_target"),u(i,"$initialize",function(){var n=this;return n.prefix_number=X,n.suffix_number=X,n.critical=X,n.fumble=X,n.dollar=X,n.cmp_op=X,n.target_number=X,n.question_target=!1}),u(i,"$question_target?",D("question_target")),u(i,"$to_s",function(n){var x=this,ie=X,re=X,A=X,g=X,F=X;switch(null==n&&(n="after_command"),ie=O(x.critical)?"@"+x.critical:X,re=O(x.fumble)?"#"+x.fumble:X,A=O(x.dollar)?"$"+x.dollar:X,g=$("Format").$modifier(x.modify_number),F=O(x.question_target)?"?":x.target_number,n){case"after_command":return[x.prefix_number,x.command,x.suffix_number,ie,re,A,g,x.cmp_op,F].$join();case"after_modify_number":return[x.prefix_number,x.command,x.suffix_number,g,ie,re,A,x.cmp_op,F].$join();case"after_target_number":return[x.prefix_number,x.command,x.suffix_number,g,x.cmp_op,F,ie,re,A].$join();default:return X}},-1)},Opal.modules["bcdice/command/parser"]=function(r){var n,A,p,k,_,v,a,L,t,b,f,w,Q,d,z,M,G,F,B,ie,ue=r.klass,C=r.module,u=r.slice,D=r.extract_kwargs,O=r.ensure_kwargs,ae=r.get_kwarg,X=r.send2,J=r.find_super,T=r.def,H=r.send,E=r.eqeq,ee=r.thrower,$e=r.hash,I=r.const_set,V=r.truthy,ne=r.to_ary,se=r.hash2,y=r.top,i=[],m=r.$r(i),$=r.nil,S=r.$$$;return y.$require("racc/parser.rb"),y.$require("bcdice/arithmetic/node"),y.$require("bcdice/command/lexer"),y.$require("bcdice/command/parsed"),ue(S(m("BCDice"),"Command"),S(m("Racc"),"Parser"),"Parser"),n=i,A=ie=[C(i[0],"BCDice")].concat(n),F=[C(ie[0],"Command")].concat(A),B=r.$r(F),p=F,z=[d=ue(F[0],S(B("Racc"),"Parser"),"Parser")].concat(p),M=r.$r(z),(G=d.$$prototype).notations=G.lexer=G.modifier=G.suffix_number=G.prefix_number=G.need_suffix_number=G.need_prefix_number=G.critical=G.fumble=G.dollar=G.allowed_cmp_op=G.question_target=$,T(d,"$initialize",function h(s,R){var o,c,K,U,N=this;return h.$$p=null,o=u(arguments),c=D(o),c=O(c),K=o,U=ae(c,"round_type"),X(N,J(N,"initialize",h,!1,!0),"initialize",[],null),N.notations=K,N.round_type=U,N.prefix_number=!1,N.suffix_number=!1,N.need_prefix_number=!1,N.need_suffix_number=!1,N.modifier=!0,N.critical=!1,N.fumble=!1,N.dollar=!1,N.allowed_cmp_op=[$,">=",">","<=","<","==","!="],N.question_target=!1},-2),T(d,"$disable_modifier",function(){return this.modifier=!1,this}),T(d,"$enable_prefix_number",function(){return this.prefix_number=!0,this}),T(d,"$enable_suffix_number",function(){return this.suffix_number=!0,this}),T(d,"$has_prefix_number",function(){var s=this;return s.prefix_number=!0,s.need_prefix_number=!0,s}),T(d,"$has_suffix_number",function(){var s=this;return s.suffix_number=!0,s.need_suffix_number=!0,s}),T(d,"$enable_critical",function(){return this.critical=!0,this}),T(d,"$enable_fumble",function(){return this.fumble=!0,this}),T(d,"$enable_dollar",function(){return this.dollar=!0,this}),T(d,"$restrict_cmp_op_to",function(s){var R,c=this;return R=u(arguments),c.allowed_cmp_op=R,c},-1),T(d,"$enable_question_target",function(){return this.question_target=!0,this}),T(d,"$parse",function(s){var R=this;try{return R.lexer=M("Lexer").$new(s,R.notations),R.$do_parse()}catch(o){if(!r.rescue(o,[M("ParseError"),M("ZeroDivisionError")]))throw o;try{return $}finally{r.pop_exception()}}}),d.$private(),T(d,"$parsed",function(s,R,o,c){try{return ee("eval_return"),H(M("Parsed").$new(),"tap",[],function Z(N){var te,ce,fe,de,le,_e,me,oe=null==Z.$$s?this:Z.$$s;return null==oe.round_type&&(oe.round_type=$),null==N&&(N=$),N["$command="](s["$[]"]("command")),N["$prefix_number="]((te=s["$[]"]("prefix"))===$||null==te?$:te.$eval(oe.round_type)),N["$suffix_number="]((ce=s["$[]"]("suffix"))===$||null==ce?$:ce.$eval(oe.round_type)),N["$critical="]((fe=R["$[]"]("critical"))===$||null==fe?$:fe.$eval(oe.round_type)),N["$fumble="]((de=R["$[]"]("fumble"))===$||null==de?$:de.$eval(oe.round_type)),N["$dollar="]((le=R["$[]"]("dollar"))===$||null==le?$:le.$eval(oe.round_type)),N["$modify_number="](o.$eval(oe.round_type)),N["$cmp_op="](c["$[]"]("cmp_op")),E(c["$[]"]("target"),"?")?(N["$question_target="](!0),H(N,"target_number=",_e=[0]),_e[_e.length-1]):(N["$question_target="](!1),_e=[(me=c["$[]"]("target"),me===$||null==me?$:me.$eval(oe.round_type))],H(N,"target_number=",_e),_e[_e.length-1])},{$$s:this})}catch(Z){if(Z===r.t_eval_return)return Z.$v;throw Z}}),T(d,"$next_token",function(){return this.lexer.$next_token()}),k=r.large_array_unpack("6,6,6,6,7,28,29,17,18,5,5,5,5,6,26,12,4,45,17,18,10,11,5,10,11,6,23,24,25,26,17,18,6,20,5,33,34,17,18,6,35,5,28,29,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,33,34,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,,,17,18,6,,5,,,17,18,,,5,23,24,25,26,56,54,55,57"),_=r.large_array_unpack("0,4,26,12,1,21,21,26,26,0,4,26,12,5,21,3,0,26,5,5,8,8,5,2,2,10,8,8,8,8,10,10,11,7,10,14,14,11,11,17,14,11,9,9,17,17,18,,17,15,15,18,18,23,,18,30,30,23,23,24,,23,31,31,24,24,25,,24,44,44,25,25,28,,25,47,47,28,28,29,,28,48,48,29,29,33,,29,49,49,33,33,34,,33,50,50,34,34,36,,34,,,36,36,37,,36,,,37,37,,,37,27,27,27,27,52,52,52,52"),v=r.large_array_unpack("-2,4,16,-3,-1,11,,33,13,35,23,30,1,,28,40,,37,44,,,-2,,51,58,65,0,106,72,79,47,54,,86,93,,100,107,,,,,,,63,,,68,75,82,89,,120,,,,,"),a=r.large_array_unpack("-35,-35,-8,-35,-7,-35,-34,-35,-16,-8,-35,-35,-5,-6,-35,-21,-24,-35,-35,-32,58,-16,-3,-35,-35,-35,-35,-16,-35,-35,-12,-13,-4,-35,-35,-33,-35,-35,-30,-31,-1,-9,-10,-11,-17,-18,-2,-14,-15,-19,-20,-22,-25,-23,-26,-27,-28,-29"),L=r.large_array_unpack("30,31,38,39,14,8,1,22,41,42,43,9,27,2,53,,,21,47,48,40,51,52,49,50,44,46,3,,,,13,,,,,,,,32"),t=r.large_array_unpack("8,8,7,7,9,3,1,5,7,7,7,4,3,2,10,,,4,8,8,5,7,7,8,8,9,5,6,,,,6,,,,,,,,6"),b=[$,6,13,3,9,-1,27,-15,-10,-1,-38],f=[$,$,$,$,$,$,19,16,15,$,$],w=r.large_array_unpack("0,0,racc_error,4,20,_reduce_1,4,20,_reduce_2,3,20,_reduce_3,3,21,_reduce_4,2,21,_reduce_5,2,21,_reduce_6,1,21,_reduce_7,0,22,_reduce_8,3,22,_reduce_9,3,22,_reduce_10,3,22,_reduce_11,2,23,_reduce_12,2,23,_reduce_13,3,23,_reduce_14,3,23,_reduce_15,0,24,_reduce_16,2,24,_reduce_17,2,24,_reduce_18,3,28,_reduce_19,3,28,_reduce_20,1,28,_reduce_none,3,27,_reduce_22,4,27,_reduce_23,1,27,_reduce_none,0,29,_reduce_25,1,29,_reduce_26,1,29,_reduce_27,1,29,_reduce_28,1,29,_reduce_29,2,26,_reduce_30,2,26,_reduce_31,1,26,_reduce_none,3,25,_reduce_33,1,25,_reduce_34"),Q=$e(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12,"AT",13,"SHARP",14,"DOLLAR",15,"CMP_OP",16,"QUESTION",17,"NOTATION",18),I(z[0],"Racc_arg",[k,_,a,v,L,t,f,b,19,w,Q,58,35,!0]),I(z[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","AT","SHARP","DOLLAR","CMP_OP","QUESTION","NOTATION","$start","expr","notation","option","modifier","target","term","unary","mul","add","round_type"]),I(z[0],"Racc_debug_parser",!1),T(d,"$_reduce_1",function(s,R,o){var c,U=this;return V(U.modifier)||U.$raise(M("ParseError")),c=ne(s),U.$parsed(null==c[0]?$:c[0],null==c[1]?$:c[1],null==c[2]?$:c[2],null==c[3]?$:c[3])}),T(d,"$_reduce_2",function(s,R,o){var c,U=this;return V(U.modifier)||U.$raise(M("ParseError")),c=ne(s),U.$parsed(null==c[0]?$:c[0],null==c[2]?$:c[2],null==c[1]?$:c[1],null==c[3]?$:c[3])}),T(d,"$_reduce_3",function(s,R,o){var c,te;return te=null==(c=ne(s))[2]?$:c[2],this.$parsed(null==c[0]?$:c[0],null==c[1]?$:c[1],S(S(M("Arithmetic"),"Node"),"Number").$new(0),te)}),T(d,"$_reduce_4",function(s,R,o){var c=this;return V(c.prefix_number)&&V(c.suffix_number)||c.$raise(M("ParseError")),se(["command","prefix","suffix"],{command:s["$[]"](1),prefix:s["$[]"](0),suffix:s["$[]"](2)})}),T(d,"$_reduce_5",function(s,R,o){var c=this;return V(c.prefix_number)||c.$raise(M("ParseError")),V(c.need_suffix_number)&&c.$raise(M("ParseError")),se(["command","prefix"],{command:s["$[]"](1),prefix:s["$[]"](0)})}),T(d,"$_reduce_6",function(s,R,o){var c=this;return V(c.suffix_number)||c.$raise(M("ParseError")),V(c.need_prefix_number)&&c.$raise(M("ParseError")),se(["command","suffix"],{command:s["$[]"](0),suffix:s["$[]"](1)})}),T(d,"$_reduce_7",function(s,R,o){var c=this;return(V(c.need_prefix_number)||V(c.need_suffix_number))&&c.$raise(M("ParseError")),se(["command"],{command:s["$[]"](0)})}),T(d,"$_reduce_8",function(s,R,o){return se([],{})}),T(d,"$_reduce_9",function(s,R,o){var c,te,Z=$;return Z=null==(c=ne(s))[0]?$:c[0],te=null==c[2]?$:c[2],V(this.critical)&&V(Z["$[]"]("critical")["$nil?"]())||this.$raise(M("ParseError")),Z["$[]="]("critical",te),Z}),T(d,"$_reduce_10",function(s,R,o){var c,te,Z=$;return Z=null==(c=ne(s))[0]?$:c[0],te=null==c[2]?$:c[2],V(this.fumble)&&V(Z["$[]"]("fumble")["$nil?"]())||this.$raise(M("ParseError")),Z["$[]="]("fumble",te),Z}),T(d,"$_reduce_11",function(s,R,o){var c,te,Z=$;return Z=null==(c=ne(s))[0]?$:c[0],te=null==c[2]?$:c[2],V(this.dollar)&&V(Z["$[]"]("dollar")["$nil?"]())||this.$raise(M("ParseError")),Z["$[]="]("dollar",te),Z}),T(d,"$_reduce_12",function(s,R,o){return s["$[]"](1)}),T(d,"$_reduce_13",function(s,R,o){return S(S(M("Arithmetic"),"Node"),"Negative").$new(s["$[]"](1))}),T(d,"$_reduce_14",function(s,R,o){return S(S(M("Arithmetic"),"Node"),"BinaryOp").$new(s["$[]"](0),"+",s["$[]"](2))}),T(d,"$_reduce_15",function(s,R,o){return S(S(M("Arithmetic"),"Node"),"BinaryOp").$new(s["$[]"](0),"-",s["$[]"](2))}),T(d,"$_reduce_16",function(s,R,o){return V(this.allowed_cmp_op["$include?"]($))||this.$raise(M("ParseError")),se([],{})}),T(d,"$_reduce_17",function(s,R,o){var c,Z,N;return N=null==(c=ne(s))[1]?$:c[1],V(this.allowed_cmp_op["$include?"](Z=null==c[0]?$:c[0]))||this.$raise(M("ParseError")),se(["cmp_op","target"],{cmp_op:Z,target:N})}),T(d,"$_reduce_18",function(s,R,o){var K,c=this;return K=s["$[]"](0),V(c.question_target)||c.$raise(M("ParseError")),V(c.allowed_cmp_op["$include?"](K))||c.$raise(M("ParseError")),se(["cmp_op","target"],{cmp_op:K,target:"?"})}),T(d,"$_reduce_19",function(s,R,o){return S(S(M("Arithmetic"),"Node"),"BinaryOp").$new(s["$[]"](0),"+",s["$[]"](2))}),T(d,"$_reduce_20",function(s,R,o){return S(S(M("Arithmetic"),"Node"),"BinaryOp").$new(s["$[]"](0),"-",s["$[]"](2))}),T(d,"$_reduce_22",function(s,R,o){return S(S(M("Arithmetic"),"Node"),"BinaryOp").$new(s["$[]"](0),"*",s["$[]"](2))}),T(d,"$_reduce_23",function(s,R,o){return s["$[]"](3).$new(s["$[]"](0),s["$[]"](2))}),T(d,"$_reduce_25",function(s,R,o){return S(S(M("Arithmetic"),"Node"),"DivideWithGameSystemDefault")}),T(d,"$_reduce_26",function(s,R,o){return S(S(M("Arithmetic"),"Node"),"DivideWithCeil")}),T(d,"$_reduce_27",function(s,R,o){return S(S(M("Arithmetic"),"Node"),"DivideWithCeil")}),T(d,"$_reduce_28",function(s,R,o){return S(S(M("Arithmetic"),"Node"),"DivideWithRound")}),T(d,"$_reduce_29",function(s,R,o){return S(S(M("Arithmetic"),"Node"),"DivideWithFloor")}),T(d,"$_reduce_30",function(s,R,o){return s["$[]"](1)}),T(d,"$_reduce_31",function(s,R,o){return S(S(M("Arithmetic"),"Node"),"Negative").$new(s["$[]"](1))}),T(d,"$_reduce_33",function(s,R,o){return s["$[]"](1)}),T(d,"$_reduce_34",function(s,R,o){return S(S(M("Arithmetic"),"Node"),"Number").$new(s["$[]"](0))}),T(d,"$_reduce_none",function(s,R,o){return s["$[]"](0)})},Opal.modules["bcdice/dice_table/table"]=function(r){var E,V,m,$,S,e,n,se,$e,ue=r.module,C=r.klass,u=r.hash2,D=r.defs,O=r.truthy,ae=r.def,X=r.rb_minus,J=[],T=r.nil;return E=J,V=$e=[ue(J[0],"BCDice")].concat(E),m=se=[ue($e[0],"DiceTable")].concat(V),S=[$=C(se[0],null,"Table")].concat(m),e=r.$r(S),(n=$.$$prototype).times=n.sides=n.name=n.items=T,D($,"$from_i18n",function(ie,re){var g=T;return g=e("I18n").$t(ie,u(["locale"],{locale:re})),this.$new(g["$[]"]("name"),g["$[]"]("type"),g["$[]"]("items"))}),ae($,"$initialize",function(ie,re,A){var g=this,F=T;return g.name=ie,g.items=A.$freeze(),F=/(\d+)D(\d+)/i.$match(re),O(F)||g.$raise(e("ArgumentError"),"Unexpected table type: "+re),g.times=F["$[]"](1).$to_i(),g.sides=F["$[]"](2).$to_i()}),ae($,"$roll",function(ie){var A;return A=ie.$roll_sum(this.times,this.sides),this.$choice(A)}),ae($,"$choice",function(ie){var A;return A=X(ie,this.times),e("RollResult").$new(this.name,ie,this.items["$[]"](A))})},Opal.modules["bcdice/dice_table/range_table"]=function(r){var $e,se,S,e,n,x,ie,i,V,ue=r.module,C=r.klass,u=r.const_set,D=r.send,O=r.truthy,ae=r.def,X=r.eqeqeq,J=r.rb_times,T=r.rb_plus,H=[],E=r.nil;return $e=H,se=V=[ue(H[0],"BCDice")].concat($e),S=i=[ue(V[0],"DiceTable")].concat(se),n=[e=C(i[0],null,"RangeTable")].concat(S),x=r.$r(n),(ie=e.$$prototype).name=ie.items=ie.num_of_dice=ie.num_of_sides=ie.formatter=E,u(n[0],"RollResult",D(x("Struct"),"new",["sum","values","content","formatted"],function re(){return(null==re.$$s?this:re.$$s).$alias_method("to_s","formatted")},{$$s:e})),u(n[0],"Item",x("Struct").$new("range","content")),u(n[0],"DICE_ROLL_METHOD_RE",/^(\d+)D(\d+)$/i.$freeze()),u(n[0],"DEFAULT_FORMATTER",D(e,"lambda",[],function(A,g){return null==A&&(A=E),null==g&&(g=E),A.$name()+"("+g.$sum()+") \uff1e "+g.$content()})),e.$attr_reader("name"),e.$attr_reader("num_of_dice"),e.$attr_reader("num_of_sides"),ae(e,"$initialize",function re(A,g,F){var q,B=re.$$p||E,j=this,p=E;return re.$$p=null,j.name=A.$freeze(),j.formatter=O(q=B)?q:x("DEFAULT_FORMATTER"),p=x("DICE_ROLL_METHOD_RE").$match(g),O(p)||j.$raise(x("ArgumentError"),j.name+": invalid dice roll method: "+g),j.num_of_dice=p["$[]"](1).$to_i(),j.num_of_sides=p["$[]"](2).$to_i(),j.$store(F)}),ae(e,"$fetch",function(A){var F,g=this;return F=D(g.items,"find",[],function(j){return null==j&&(j=E),j.$range()["$include?"](A)}),O(F)||g.$raise(x("RangeError"),g.name+": value is out of range: "+A),F}),ae(e,"$roll",function(A){var B,g=this,F=E,j=E;return B=(F=A.$roll_barabara(g.num_of_dice,g.num_of_sides)).$sum(),(j=x("RollResult").$new(B,F,g.$fetch(B).$content()))["$formatted="](g.formatter["$[]"](g,j)),j}),e.$private(),ae(e,"$store",function(A){var F,B,g=this;return F=D(A,"map",[],function j(q,p){return null==q&&(q=E),null==p&&(p=E),[(null==j.$$s?this:j.$$s).$coerce_to_int_range(q),p]},{$$s:g}),B=D(F,"sort_by",[],function(q,p){return null==q&&(q=E),null==p&&(p=E),q.$min()}),g.$assert_min_sum_is_covered(B),g.$assert_max_sum_is_covered(B),g.$assert_no_gap_or_overlap_in_ranges(B),g.items=D(B,"map",[],function(q,p){return null==q&&(q=E),null==p&&(p=E),x("Item").$new(q,p.$freeze()).$freeze()}).$freeze(),g}),ae(e,"$coerce_to_int_range",function(A){var F;return X(x("Integer"),F=A)?x("Range").$new(A,A):X(x("Range"),F)&&O(A.$begin()["$is_a?"](x("Integer")))&&O(A.$end()["$is_a?"](x("Integer")))?A:this.$raise(x("TypeError"),this.name+": "+A+" ("+A.$class()+") must be an Integer or a Range with Integers ")}),ae(e,"$assert_min_sum_is_covered",function(A){var F,g=this,B=E;return F=g.num_of_dice,B=A.$first()["$[]"](0),O(B["$include?"](F))||g.$raise(x("RangeError"),g.name+": min value ("+F+") is not covered: "+B),g}),ae(e,"$assert_max_sum_is_covered",function(A){var F,g=this,B=E;return F=J(g.num_of_dice,g.num_of_sides),B=A.$last()["$[]"](0),O(B["$include?"](F))||g.$raise(x("RangeError"),g.name+": max value ("+F+") is not covered: "+B),g}),ae(e,"$assert_no_gap_or_overlap_in_ranges",function(A){return D(A,"each_cons",[2],function F(B,j){var z,M,q=null==F.$$s?this:F.$$s,p=E,d=E;return null==q.name&&(q.name=E),null==B&&(B=E),null==j&&(j=E),p=B["$[]"](0),d=j["$[]"](0),z=p.$max(),M=T(z,1),O(d["$include?"](z))&&q.$raise(x("RangeError"),q.name+": Range overlap: "+p+" and "+d),O(d["$include?"](M))?E:q.$raise(x("RangeError"),q.name+": Range gap: "+p+" and "+d)},{$$s:this}),this})},Opal.queue(function(r){var re,B,M,b,f,w,l,k,_,v,q,p,g,ue=r.module,C=r.klass,u=r.const_set,D=r.truthy,O=r.hash2,ae=r.defs,X=r.def,J=r.eqeqeq,T=r.send,H=r.rb_times,E=r.to_ary,ee=r.rb_plus,$e=r.rb_gt,I=r.thrower,V=r.rb_ge,ne=r.rb_divide,se=r.rb_minus,y=r.range,i=r.eqeq,m=r.hash,$=r.return_val,S=r.top,e=[],n=r.nil,x=r.$$$;return S.$require("bcdice/format"),S.$require("bcdice/command/parser"),S.$require("bcdice/dice_table/table"),S.$require("bcdice/dice_table/range_table"),re=e,B=g=[ue(e[0],"BCDice")].concat(re),q=[ue(g[0],"GameSystem")].concat(B),p=r.$r(q),M=q,_=[k=C(q[0],p("Base"),"BattleTech")].concat(M),v=r.$r(_),k.$$prototype.randomizer=n,u(_[0],"ID","BattleTech"),u(_[0],"NAME","\u30d0\u30c8\u30eb\u30c6\u30c3\u30af"),u(_[0],"SORT_KEY","\u306f\u3068\u308b\u3066\u3064\u304f"),u(_[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u65b9\u6cd5\n\u3000(\u56de\u6570)BT(\u30c0\u30e1\u30fc\u30b8)(\u90e8\u4f4d)+(\u57fa\u672c\u5024)>=(\u76ee\u6a19\u5024)\n\u3000\u56de\u6570\u306f\u7701\u7565\u6642 1\u56fa\u5b9a\u3002\n\u3000\u90e8\u4f4d\u306fC\uff08\u6b63\u9762\uff09R\uff08\u53f3\uff09\u3001L\uff08\u5de6\uff09\u3002\u7701\u7565\u6642\u306fC\uff08\u6b63\u9762\uff09\u56fa\u5b9a\n\u3000U\uff08\u4e0a\u534a\u8eab\uff09\u3001L\uff08\u4e0b\u534a\u8eab\uff09\u3092\u7d44\u307f\u5408\u308f\u305b CU/RU/LU/CL/RL/LL\u3082\u6307\u5b9a\u53ef\u80fd\n\u3000\u4f8b\uff09BT3+2>=4\n\u3000\u3000\u6b63\u9762\u304b\u3089\u30c0\u30e1\u30fc\u30b83\u306e\u653b\u6483\u3092\u6280\u80fd\u30d9\u30fc\u30b92\u76ee\u6a19\u50244\u30671\u56de\u5224\u5b9a\n\u3000\u4f8b\uff092BT3RL+5>=8\n\u3000\u3000\u53f3\u4e0b\u534a\u8eab\u306b\u30c0\u30e1\u30fc\u30b83\u306e\u653b\u6483\u3092\u6280\u80fd\u30d9\u30fc\u30b95\u76ee\u6a19\u50248\u30672\u56de\u5224\u5b9a\n\u3000\u30df\u30b5\u30a4\u30eb\u306b\u3088\u308b\u30c0\u30e1\u30fc\u30b8\u306f BT(\u30c0\u30e1\u30fc\u30b8) \u306e\u4ee3\u308f\u308a\u306b SRM2/4/6, LRM5/10/15/20 \u3092\u6307\u5b9a\n\u3000\u4f8b\uff093SRM6LU+5>=8\n\u3000\u3000\u5de6\u4e0a\u534a\u8eab\u306bSRM6\u9023\u3092\u6280\u80fd\u30d9\u30fc\u30b95\u76ee\u6a19\u50248\u30673\u56de\u5224\u5b9a\n  BT(\u30c0\u30e1\u30fc\u30b8) \u306e\u4ee3\u308f\u308a\u306b PPC \u3092\u6307\u5b9a\u3059\u308b\u3068\u30c0\u30e1\u30fc\u30b810\u3067\u5224\u5b9a\n  \u4f8b\uff092PPCR+3>=10\n  \u3000\u53f3\u5074\u304b\u3089PPC\uff08\u30c0\u30e1\u30fc\u30b810\uff09\u306b\u3088\u308b\u653b\u6483\u3092\u6280\u80fd\u30d9\u30fc\u30b93\u76ee\u6a19\u502410\u30672\u56de\u5224\u5b9a\n\u30fbCT\uff1a\u81f4\u547d\u7684\u547d\u4e2d\u8868\n\u30fbDW\uff1a\u8ee2\u5012\u5f8c\u306e\u5411\u304d\u8868\n\u30fbCDx\uff1a\u30e1\u30c3\u30af\u6226\u58eb\u610f\u8b58\u7dad\u6301\u30ed\u30fc\u30eb\u3002\u30c0\u30e1\u30fc\u30b8\u5024x\uff081\u301c6\uff09\u3067\u5224\u5b9a\u3000\u4f8b\uff09CD3\n"),k.$register_prefix("\\d*SRM","\\d*LRM","\\d*BT","\\d*PPC","CT","DW","CD"),u(_[0],"NO_CRITICAL_HIT_LIMIT",7),ae(k,"$ppc_parser",function(){var t,b=this;return null==b.ppc_parser&&(b.ppc_parser=n),D(null!=(t=b.ppc_parser)&&t!==n?"instance-variable":n)&&D(b.ppc_parser)||(b.ppc_parser=x(v("Command"),"Parser").$new(/PPC(?:[LCR][LU]?)?/,O(["round_type"],{round_type:x(v("RoundType"),"FLOOR")})),b.ppc_parser.$enable_prefix_number(),b.ppc_parser.$restrict_cmp_op_to(">=")),b.ppc_parser}),X(k,"$ppc_parser",function(){return this.$class().$ppc_parser()}),X(k,"$eval_game_system_specific_command",function(t){var b=this,f=n,w=n,l=n,W=n,Q=n,P=n,Y=n,G=n,h=n;try{return f=b.$roll_tables(t,v("TABLES")),D(f)?f:D(w=b.$ppc_parser().$parse(t))?b.$execute_ppc(w):(l=1,D(t["$=~"](/^(\d+)(.+)/))&&(l=v("Regexp").$last_match(1).$to_i(),t=v("Regexp").$last_match(2)),b.$debug("executeCommandCatched count",l),b.$debug("executeCommandCatched command",t),J(/^CD([1-6])$/,W=t)?(Q=v("Regexp").$last_match(1).$to_i(),b.$consciousness_roll(Q)):J(/^((S|L)RM\d+)(.+)/,W)?(P=v("Regexp").$last_match(3),Y=v("Regexp").$last_match(1),G=T(b,"lambda",[],function s(){return(null==s.$$s?this:s.$$s).$getXrmDamage(Y)},{$$s:b}),b.$getHitResult(l,G,P)):J(/^BT(\d+)(.+)/,W)?(b.$debug("BT pattern"),P=v("Regexp").$last_match(2),h=v("Regexp").$last_match(1).$to_i(),G=T(b,"lambda",[],function(){return h}),b.$getHitResult(l,G,P)):n)}catch(s){if(!r.rescue(s,[v("UnknownXRMError")]))throw s;try{return n}finally{r.pop_exception()}}}),C(_[0],v("StandardError"),"UnknownXRMError"),X(k,"$getXrmDamage",function(t){var l,W,w=n;return D(v("XRM_DAMAGE_TABLES")["$key?"](t))||this.$raise(v("UnknownXRMError"),"unknown XRM: "+t),w=v("XRM_DAMAGE_TABLES")["$[]"](t).$roll(this.randomizer),l=t["$start_with?"]("L"),W=w.$content(),[D(l)?W:H(2,W),w.$sum(),l]}),u(_[0],"LRM_LIMIT",5),X(k,"$getHitResult",function(t,b,f){var w=this,l=n,W=n,Q=n,P=n,Y=n,G=n,h=n,s=n,R=n,o=n,c=n,K=n,U=n,Z=n;return l=/^([LCR][LU]?)?(\+\d+)?>=(\d+)/.$match(f),D(l)?(W=D(Q=l["$[]"](1))?Q:"C",P=l["$[]"](2),Y=l["$[]"](3).$to_i(),G=w.$getBaseValue(P),w.$debug("side, base, target",W,G,Y),h=x(v("HitPart"),"TABLES")["$[]"](W),s=[],R=O([],{}),o=0,T(t,"times",[],function N(){var te,ce,fe=null==N.$$s?this:N.$$s,le=n;return ce=fe.$getHitText(G,Y),le=null==(te=E(ce))[1]?n:te[1],D(null==te[0]?n:te[0])&&(o=ee(o,1),ce=fe.$getDamages(b,h,R),te=E(ce),R=null==te[0]?n:te[0],le=ee(le,null==te[1]?n:te[1])),s["$<<"](le)},{$$s:w}),c=$e(o,0),K=" \uff1e "+o+"\u56de\u547d\u4e2d",U=D(c)?K+" \u547d\u4e2d\u7b87\u6240\uff1a"+w.$getTotalDamage(R):K,s.$push(U),Z=s.$join("\n"),D(c)?v("Result").$success(Z):v("Result").$failure(Z)):n}),X(k,"$getBaseValue",function(t){try{I("eval_return");var f=n;return f=0,D(t["$nil?"]())||(f=v("ArithmeticEvaluator").$eval(t)),f}catch(w){if(w===r.t_eval_return)return w.$v;throw w}}),X(k,"$getHitText",function(t,b){var w,l,W,Q,Y=n;return w=this.randomizer.$roll_once(6),l=this.randomizer.$roll_once(6),W=ee(ee(w,l),t),Q=V(W,b),Y=W+"["+w+","+l+(D($e(t,0))?"+"+t:"")+"]>="+b+" \uff1e ",[Q,Y=D(Q)?ee(Y,"\u547d\u4e2d \uff1e "):ee(Y,"\u5916\u308c")]}),X(k,"$getDamages",function(t,b,f){var w,l,P,Y,G,Q=n,h=n;return Q="",l=t.$call(),w=E(l),P=null==w[0]?n:w[0],Y=null==w[1]?n:w[1],h=1,D(G=null==w[2]?n:w[2])&&(h=ne(H(1,P),v("LRM_LIMIT")).$ceil(),Q=ee(Q,"["+Y+"] "+P+"\u70b9")),T(h,"times",[],function s(R){var o,c,U,N,te,K=null==s.$$s?this:s.$$s,ce=n;return null==R&&(R=n),c=K.$getDamageInfo(Y,P,G,R),U=null==(o=E(c))[0]?n:o[0],c=K.$getHitResultOne(null==o[1]?n:o[1],b),N=null==(o=E(c))[0]?n:o[0],te=null==o[1]?n:o[1],ce=null==o[2]?n:o[2],D(G)&&(Q=ee(Q," ")),Q=ee(Q,N),D(f["$[]"](te)["$nil?"]())&&f["$[]="](te,O(["partDamages","criticals"],{partDamages:[],criticals:[]})),f["$[]"](te)["$[]"]("partDamages")["$<<"](U),D(ce["$empty?"]())?n:f["$[]"](te)["$[]"]("criticals")["$<<"](ce)},{$$s:this}),[f,Q]}),X(k,"$getDamageInfo",function(t,b,f,w){var l=n;return D(t["$nil?"]())?[b,b.$to_s()]:D(f)?(l=se(b,H(v("LRM_LIMIT"),w)),D($e(l,v("LRM_LIMIT")))&&(l=v("LRM_LIMIT")),[l,l.$to_s()]):[b,"["+t+"] "+b]}),X(k,"$getTotalDamage",function(t){var w=n,l=n,W=n;return w=0,l=[],T(["\u982d","\u80f4\u4e2d\u592e","\u53f3\u80f4","\u5de6\u80f4","\u53f3\u811a","\u5de6\u811a","\u53f3\u8155","\u5de6\u8155"],"each",[],function(P){var Y=n,G=n,h=n,s=n,R=n;return null==P&&(P=n),Y=t.$delete(P),D(Y["$nil?"]())?n:(G=T(Y["$[]"]("partDamages"),"inject",[0],function(c,K){return null==c&&(c=n),null==K&&(K=n),ee(c,K)}),w=ee(w,G),h=Y["$[]"]("partDamages").$size(),s=Y["$[]"]("criticals"),R=ee(R="",P+"("+h+"\u56de) "+G+"\u70b9"),D(s["$empty?"]())||(R=ee(R," "+s.$join(" "))),l["$<<"](R))}),D(t["$empty?"]())||this.$raise("damages rest!! "+t.$inspect()),W=l.$join(" \uff0f "),ee(W," \uff1e \u5408\u8a08\u30c0\u30e1\u30fc\u30b8 "+w+"\u70b9")}),X(k,"$getHitResultOne",function(t,b){var W,w=n,l=n,Q=n,P=n,Y=n;return l=(w=b.$roll(this.randomizer)).$content(),W=D(l.$critical_hit_may_occur())?"\uff08\u81f4\u547d\u7684\u547d\u4e2d\uff09":"",Q=[["["+w.$sum()+"]",""+l.$name()+W,t+"\u70b9"].$join(" ")],P="",D(l.$critical_hit_may_occur())&&(Y=v("TABLES")["$[]"]("CT").$roll(this.randomizer),D($e(Y.$sum(),v("NO_CRITICAL_HIT_LIMIT")))&&(P=Y.$content()),Q.$push("["+Y.$sum()+"] "+Y.$content())),[Q.$join(" \uff1e "),l.$name(),P]}),X(k,"$consciousness_roll",function(t){var f=n,l=n,W=n,Q=n,P=n,G=n,h=n,o=n;return D(y(1,6,!1)["$include?"](t))?(f="CD"+t,i(t,6)?v("Result").$fumble(f+" \uff1e \u6b7b\u4ea1"):(W="(2D6>="+(l=m(1,3,2,5,3,7,4,10,5,11)["$[]"](t))+")",G=(P=(Q=this.randomizer.$roll_barabara(2,6)).$sum())+"["+Q.$join(",")+"]",h=V(P,l),o=[f,W,G,P,D(h)?"\u6210\u529f":"\u5931\u6557"].$join(" \uff1e "),D(h)?v("Result").$success(o):v("Result").$failure(o))):n}),X(k,"$execute_ppc",function(t){var f,w,P;return f=D(w=t.$prefix_number())?w:1,P=""+t.$command()["$[]"](y(3,-1,!1))+v("Format").$modifier(t.$modify_number())+">="+t.$target_number(),this.$getHitResult(f,T(this,"lambda",[],$(10)),P)}),u(_[0],"TABLES",O(["CT","DW"],{CT:x(v("DiceTable"),"RangeTable").$new("\u81f4\u547d\u7684\u547d\u4e2d\u8868","2D6",[[r.Range.$new(2,v("NO_CRITICAL_HIT_LIMIT"),!1),"\u81f4\u547d\u7684\u547d\u4e2d\u306f\u306a\u304b\u3063\u305f"],[y(8,9,!1),"1\u7b87\u6240\u306e\u81f4\u547d\u7684\u547d\u4e2d"],[y(10,11,!1),"2\u7b87\u6240\u306e\u81f4\u547d\u7684\u547d\u4e2d"],[12,"\u305d\u306e\u90e8\u4f4d\u304c\u5439\u304d\u98db\u3076\uff08\u8155\u3001\u811a\u3001\u982d\uff09\u307e\u305f\u306f3\u7b87\u6240\u306e\u81f4\u547d\u7684\u547d\u4e2d\uff08\u80f4\uff09"]]),DW:x(v("DiceTable"),"Table").$new("\u8ee2\u5012\u5f8c\u306e\u5411\u304d\u8868","1D6",["\u540c\u3058\uff08\u524d\u9762\u304b\u3089\u8ee2\u5012\uff09 \u6b63\u9762\uff0f\u80cc\u9762","1\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u53f3\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u53f3\u5074\u9762","2\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u53f3\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u53f3\u5074\u9762","180\u5ea6\u9006\uff08\u80cc\u9762\u304b\u3089\u8ee2\u5012\uff09 \u6b63\u9762\uff0f\u80cc\u9762","2\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u5de6\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u5de6\u5074\u9762","1\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u5de6\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u5de6\u5074\u9762"])}).$freeze()),u(_[0],"HitPart",v("Struct").$new("name","critical_hit_may_occur")),b=_,w=[f=C(_[0],null,"HitPart")].concat(b),l=r.$r(w),u(w[0],"LEFT_TORSO","\u5de6\u80f4"),u(w[0],"CENTER_TORSO","\u80f4\u4e2d\u592e"),u(w[0],"RIGHT_TORSO","\u53f3\u80f4"),u(w[0],"LEFT_ARM","\u5de6\u8155"),u(w[0],"RIGHT_ARM","\u53f3\u8155"),u(w[0],"LEFT_LEG","\u5de6\u811a"),u(w[0],"RIGHT_LEG","\u53f3\u811a"),u(w[0],"HEAD","\u982d"),u(w[0],"TABLES",O(["L","C","R","LU","CU","RU","LL","CL","RL"],{L:x(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u5de6\uff09","2D6",[[2,f.$new(l("LEFT_TORSO"),!0)],[3,f.$new(l("LEFT_LEG"),!1)],[y(4,5,!1),f.$new(l("LEFT_ARM"),!1)],[6,f.$new(l("LEFT_LEG"),!1)],[7,f.$new(l("LEFT_TORSO"),!1)],[8,f.$new(l("CENTER_TORSO"),!1)],[9,f.$new(l("RIGHT_TORSO"),!1)],[10,f.$new(l("RIGHT_ARM"),!1)],[11,f.$new(l("RIGHT_LEG"),!1)],[12,f.$new(l("HEAD"),!1)]]),C:x(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u6b63\u9762\uff09","2D6",[[2,f.$new(l("CENTER_TORSO"),!0)],[y(3,4,!1),f.$new(l("RIGHT_ARM"),!1)],[5,f.$new(l("RIGHT_LEG"),!1)],[6,f.$new(l("RIGHT_TORSO"),!1)],[7,f.$new(l("CENTER_TORSO"),!1)],[8,f.$new(l("LEFT_TORSO"),!1)],[9,f.$new(l("LEFT_LEG"),!1)],[y(10,11,!1),f.$new(l("LEFT_ARM"),!1)],[12,f.$new(l("HEAD"),!1)]]),R:x(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\uff09","2D6",[[2,f.$new(l("RIGHT_TORSO"),!0)],[3,f.$new(l("RIGHT_LEG"),!1)],[y(4,5,!1),f.$new(l("RIGHT_ARM"),!1)],[6,f.$new(l("RIGHT_LEG"),!1)],[7,f.$new(l("RIGHT_TORSO"),!1)],[8,f.$new(l("CENTER_TORSO"),!1)],[9,f.$new(l("LEFT_TORSO"),!1)],[10,f.$new(l("LEFT_ARM"),!1)],[11,f.$new(l("LEFT_LEG"),!1)],[12,f.$new(l("HEAD"),!1)]]),LU:x(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u5de6\u4e0a\u534a\u8eab\uff09","1D6",[[y(1,2,!1),f.$new(l("LEFT_TORSO"),!1)],[3,f.$new(l("CENTER_TORSO"),!1)],[y(4,5,!1),f.$new(l("LEFT_ARM"),!1)],[6,f.$new(l("HEAD"),!1)]]),CU:x(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u6b63\u9762\u4e0a\u534a\u8eab\uff09","1D6",[[1,f.$new(l("LEFT_ARM"),!1)],[2,f.$new(l("LEFT_TORSO"),!1)],[3,f.$new(l("CENTER_TORSO"),!1)],[4,f.$new(l("RIGHT_TORSO"),!1)],[5,f.$new(l("RIGHT_ARM"),!1)],[6,f.$new(l("HEAD"),!1)]]),RU:x(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\u4e0a\u534a\u8eab\uff09","1D6",[[y(1,2,!1),f.$new(l("RIGHT_TORSO"),!1)],[3,f.$new(l("CENTER_TORSO"),!1)],[y(4,5,!1),f.$new(l("RIGHT_ARM"),!1)],[6,f.$new(l("HEAD"),!1)]]),LL:x(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u5de6\u4e0b\u534a\u8eab\uff09","1D6",[[y(1,6,!1),f.$new(l("LEFT_LEG"),!1)]]),CL:x(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\u4e0b\u534a\u8eab\uff09","1D6",[[y(1,3,!1),f.$new(l("RIGHT_LEG"),!1)],[y(4,6,!1),f.$new(l("LEFT_LEG"),!1)]]),RL:x(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\u4e0b\u534a\u8eab\uff09","1D6",[[y(1,6,!1),f.$new(l("RIGHT_LEG"),!1)]])}).$freeze()),u(_[0],"XRM_DAMAGE_TABLES",O(["SRM2","SRM4","SRM6","LRM5","LRM10","LRM15","LRM20"],{SRM2:x(v("DiceTable"),"RangeTable").$new("SRM2\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[y(2,7,!1),1],[y(8,12,!1),2]]),SRM4:x(v("DiceTable"),"RangeTable").$new("SRM4\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[2,1],[y(3,6,!1),2],[y(7,10,!1),3],[y(11,12,!1),4]]),SRM6:x(v("DiceTable"),"RangeTable").$new("SRM6\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[y(2,3,!1),2],[y(4,5,!1),3],[y(6,8,!1),4],[y(9,10,!1),5],[y(11,12,!1),6]]),LRM5:x(v("DiceTable"),"RangeTable").$new("LRM5\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[2,1],[y(3,4,!1),2],[y(5,8,!1),3],[y(9,10,!1),4],[y(11,12,!1),5]]),LRM10:x(v("DiceTable"),"RangeTable").$new("LRM10\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[y(2,3,!1),3],[4,4],[y(5,8,!1),6],[y(9,10,!1),8],[y(11,12,!1),10]]),LRM15:x(v("DiceTable"),"RangeTable").$new("LRM15\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[y(2,3,!1),5],[4,6],[y(5,8,!1),9],[y(9,10,!1),12],[y(11,12,!1),15]]),LRM20:x(v("DiceTable"),"RangeTable").$new("LRM20\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[y(2,3,!1),6],[4,9],[y(5,8,!1),12],[y(9,10,!1),16],[y(11,12,!1),20]])}).$freeze())})}}]);