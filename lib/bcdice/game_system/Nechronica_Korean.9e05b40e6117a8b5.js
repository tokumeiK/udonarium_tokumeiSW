(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[4116],{4361:(Z,O,Q)=>{Q(9993),Opal.modules["bcdice/dice_table/table"]=function(e){var w,R,k,v,x,d,b,A,E,y=e.module,j=e.klass,o=e.hash2,K=e.defs,G=e.truthy,s=e.def,a=e.rb_minus,g=[],N=e.nil;return w=g,R=E=[y(g[0],"BCDice")].concat(w),k=A=[y(E[0],"DiceTable")].concat(R),x=[v=j(A[0],null,"Table")].concat(k),d=e.$r(x),(b=v.$$prototype).times=b.sides=b.name=b.items=N,K(v,"$from_i18n",function(h,$){var f=N;return f=d("I18n").$t(h,o(["locale"],{locale:$})),this.$new(f["$[]"]("name"),f["$[]"]("type"),f["$[]"]("items"))}),s(v,"$initialize",function(h,$,u){var f=this,L=N;return f.name=h,f.items=u.$freeze(),L=/(\d+)D(\d+)/i.$match($),G(L)||f.$raise(d("ArgumentError"),"Unexpected table type: "+$),f.times=L["$[]"](1).$to_i(),f.sides=L["$[]"](2).$to_i()}),s(v,"$roll",function(h){var u,$=this;return u=h.$roll_sum($.times,$.sides),$.$choice(u)}),s(v,"$choice",function(h){var u,$=this;return u=a(h,$.times),d("RollResult").$new($.name,h,$.items["$[]"](u))})},Opal.modules["bcdice/game_system/Nechronica"]=function(e){var x,h,W,_,r,n,l,M,z,u,f,b,y=e.module,j=e.klass,o=e.const_set,K=e.send2,G=e.find_super,s=e.def,a=e.truthy,g=e.eqeq,N=e.neqeq,S=e.rb_ge,w=e.send,C=e.rb_le,E=e.rb_gt,T=e.hash2,R=e.rb_plus,D=e.rb_minus,B=[],t=e.nil,k=e.$$$;return e.top.$require("bcdice/dice_table/table"),x=B,h=b=[y(B[0],"BCDice")].concat(x),u=[y(b[0],"GameSystem")].concat(h),f=e.$r(u),W=u,M=[l=j(u[0],f("Base"),"Nechronica")].concat(W),z=e.$r(M),l.$$prototype.randomizer=t,o(M[0],"ID","Nechronica"),o(M[0],"NAME","\u30cd\u30af\u30ed\u30cb\u30ab"),o(M[0],"SORT_KEY","\u306d\u304f\u308d\u306b\u304b"),o(M[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u3000(nNC+m)\n\u3000\u30c0\u30a4\u30b9\u6570n\u3001\u4fee\u6b63\u5024m\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059(\u7701\u7565=1)\n\u3000\u30c0\u30a4\u30b9\u6570\u304c2\u4ee5\u4e0a\u306e\u6642\u306e\u30d1\u30fc\u30c4\u7834\u640d\u6570\u3082\u8868\u793a\u3057\u307e\u3059\u3002\n\u30fb\u653b\u6483\u5224\u5b9a\u3000(nNA+m)\n\u3000\u30c0\u30a4\u30b9\u6570n\u3001\u4fee\u6b63\u5024m\u3067\u653b\u6483\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059(\u7701\u7565=1)\n\u3000\u547d\u4e2d\u90e8\u4f4d\u3068\u30c0\u30a4\u30b9\u6570\u304c2\u4ee5\u4e0a\u306e\u6642\u306e\u30d1\u30fc\u30c4\u7834\u640d\u6570\u3082\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u8868\n\u30fb\u59c9\u59b9\u3078\u306e\u672a\u7df4\u8868 nm\n\u30fb\u4e2d\u7acb\u8005\u3078\u306e\u672a\u7df4\u8868 nmn\n\u30fb\u6575\u3078\u306e\u672a\u7df4\u8868 nme\n"),s(l,"$initialize",function _(i){var n=this;return _.$$p=null,K(n,G(n,"initialize",_,!1,!0),"initialize",[i],null),n.sort_add_dice=!0,n.sort_barabara_dice=!0,n.default_target_number=6}),s(l,"$eval_game_system_specific_command",function(i){var n,r=this;return a(n=r.$roll_tables(i,k(r.$class(),"TABLES")))?n:r.$nechronica_check(i)}),s(l,"$result_nd10",function(i,r,n,m,c){return N(n.$count(),1)||N(m,">=")||a(c["$nil?"]())||g(c,"?")?t:this.$result_nechronica([i],c)}),l.$private(),s(l,"$result_nechronica",function(i,r){var n=this,m=t,c=t;return a(S(i.$max(),r))?a(S(i.$max(),11))?z("Result").$critical(n.$translate("Nechronica.critical")):z("Result").$success(n.$translate("success")):g(w(i,"count",[],function(q){return null==q&&(q=t),C(q,1)}),0)?z("Result").$failure(n.$translate("failure")):a(E(i.$size(),1))?(m=n.$translate("Nechronica.break_all_parts"),c=n.$translate("Nechronica.fumble"),z("Result").$fumble(c+" \uff1e "+m)):z("Result").$fumble(n.$translate("Nechronica.fumble"))}),s(l,"$r_backward_compatibility",function(i){var r=t;return r=i.$match(/^(\d)?R10([+\-\d]+)?(\[(\d+)\])?$/),a(r)?g(r["$[]"](4),"1")?r["$[]"](1)+"NA"+r["$[]"](2):r["$[]"](1)+"NC"+r["$[]"](2):i}),s(l,"$nechronica_check",function(i){var r=this,n=t,m=t,c=t,I=t,q=t,P=t,Y=t,U=t,H=t,J=t;return i=r.$r_backward_compatibility(i),n=k(z("Command"),"Parser").$new(/N[CA](10)?/,T(["round_type"],{round_type:r.$round_type()})).$enable_prefix_number().$parse(i),a(n)?(m=[1,n.$prefix_number().$to_i()].$max(),c=a(I=n.$modify_number())?I:0,q=r.randomizer.$roll_barabara(m,10).$sort(),Y=(P=w(q,"map",[],function(F){return null==F&&(F=t),R(F,c)})).$max(),a(n.$command()["$start_with?"]("NA"))&&(U=r.$get_hit_location(Y)),H=r.$result_nechronica(P,6),J=["("+n+")","["+q.$join(",")+"]"+z("Format").$modifier(c),Y+"["+P.$join(",")+"]",H.$text(),U].$compact(),H["$text="](J.$join(" \uff1e ")),H):t}),s(l,"$get_hit_location",function(i){var m=t;return a(C(i,5))?t:(m=this.$translate("Nechronica.hit_location.table")["$[]"](D(i,6).$clamp(0,5)),a(E(i,10))?R(m,this.$translate("Nechronica.hit_location.additional_damage",T(["damage"],{damage:D(i,10)}))):m)}),r=[_=e.get_singleton_class(l)].concat(M),n=e.$r(r),_.$private(),s(_,"$translate_tables",function(c){return T(["NM","NMN","NME"],{NM:k(n("DiceTable"),"Table").$from_i18n("Nechronica.table.NM",c),NMN:k(n("DiceTable"),"Table").$from_i18n("Nechronica.table.NMN",c),NME:k(n("DiceTable"),"Table").$from_i18n("Nechronica.table.NME",c)})}),o(M[0],"TABLES",l.$translate_tables("ja_jp")),l.$register_prefix("\\d?NC","\\d?NA","\\dR10",z("TABLES").$keys())},Opal.queue(function(e){var w,R,v,x,d,A,B,E,y=e.module,j=e.klass,o=e.const_set,K=e.send2,G=e.find_super,s=e.def,g=[];return e.top.$require("bcdice/game_system/Nechronica"),w=g,R=E=[y(g[0],"BCDice")].concat(w),A=[y(E[0],"GameSystem")].concat(R),B=e.$r(A),v=A,o((d=[x=j(A[0],B("Nechronica"),"Nechronica_Korean")].concat(v))[0],"ID","Nechronica:Korean"),o(d[0],"NAME","\ub124\ud06c\ub85c\ub2c8\uce74"),o(d[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ub124\ud06c\ub85c\ub2c8\uce74"),o(d[0],"HELP_MESSAGE","\u30fb\ud310\uc815\u3000(nNC+m)\n\u3000\uc8fc\uc0ac\uc704 \uc218n\u3001\uc218\uc815\uce58m\uc73c\ub85c \ud310\uc815\uad74\ub9bc\uc744 \ud589\ud569\ub2c8\ub2e4.\n\u3000\uc8fc\uc0ac\uc704 \uc218\uac00 2\uac1c \uc774\uc0c1\uc77c \ub54c\uc5d0 \ud30c\uce20\ud30c\uc190 \uc218\ub3c4 \ud45c\uc2dc\ud569\ub2c8\ub2e4.\n\u30fb\uacf5\uaca9\ud310\uc815\u3000(nNA+m)\n\u3000\uc8fc\uc0ac\uc704 \uc218n\u3001\uc218\uc815\uce58m\uc73c\ub85c \uacf5\uaca9\ud310\uc815\uad74\ub9bc\uc744 \ud589\ud569\ub2c8\ub2e4.\n\u3000\uba85\uc911\ubd80\uc704\uc640 \uc8fc\uc0ac\uc704 \uc218\uac00 2\uac1c \uc774\uc0c1\uc77c \ub54c\uc5d0 \ud30c\uce20\ud30c\uc190 \uc218\ub3c4 \ud45c\uc2dc\ud569\ub2c8\ub2e4.\n\n\u8868\n\u30fb\u59c9\u59b9\u3078\u306e\u672a\u7df4\u8868 nm\n\u30fb\u4e2d\u7acb\u8005\u3078\u306e\u672a\u7df4\u8868 nmn\n\u30fb\u6575\u3078\u306e\u672a\u7df4\u8868 nme\n"),x.$register_prefix_from_super_class(),s(x,"$initialize",function b(p){var $=this;return b.$$p=null,K($,G($,"initialize",b,!1,!0),"initialize",[p],null),$.locale="ko_kr"}),o(d[0],"TABLES",x.$translate_tables("ko_kr"))})}}]);