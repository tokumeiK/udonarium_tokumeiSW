(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[5899],{5925:(N,Y,w)=>{w(9993),Opal.queue(function(r){var M,j,K,s,a,i,x,b,L,g,v=r.module,C=r.klass,l=r.const_set,c=r.def,E=r.hash2,o=r.truthy,h=r.rb_plus,F=r.send,R=r.rb_minus,u=r.eqeqeq,G=r.eqeq,q=r.rb_ge,S=[],n=r.nil,z=r.$$$;return M=S,j=g=[v(S[0],"BCDice")].concat(M),b=[v(g[0],"GameSystem")].concat(j),L=r.$r(b),K=b,a=[s=C(b[0],L("Base"),"FateCoreSystem")].concat(K),i=r.$r(a),(x=s.$$prototype).round_type=x.randomizer=n,l(a[0],"ID","FateCoreSystem"),l(a[0],"NAME","Fate Core System"),l(a[0],"SORT_KEY","\u3075\u3048\u3044\u3068\u3053\u3042\u3057\u3059\u3066\u3080"),l(a[0],"HELP_MESSAGE","\u25a0 \u30d5\u30a1\u30c3\u30b8\u30c0\u30a4\u30b9\u306b\u3088\u308b\u5224\u5b9a (xDF+y>=t)\n  \u30d5\u30a1\u30c3\u30b8\u30c0\u30a4\u30b9\u3092x\u500b\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3001\u7d50\u679c\u3092\u5224\u5b9a\u3057\u307e\u3059\u3002\n  x: \u30c0\u30a4\u30b9\u6570\n  y: \u4fee\u6b63\u5024\uff08\u7701\u7565\u53ef\uff09\n  t: \u76ee\u6a19\u5024\u5024\uff08\u7701\u7565\u53ef\uff09\n  \u4f8b\uff094DF, 4DF>=3, 4DF+1>=3\n"),s.$register_prefix("\\d+DF"),c(s,"$eval_game_system_specific_command",function($){return this.$roll_df($)}),s.$private(),c(s,"$roll_df",function($){var t=this,e=n,p=n,y=n,k=n,d=n,D=n;return e=z(i("Command"),"Parser").$new("DF",E(["round_type"],{round_type:t.round_type})).$enable_prefix_number().$restrict_cmp_op_to(">=",n).$parse($),o(e)?(p=t.$roll_fate_dice(e.$prefix_number()),y=h(p.$sum(),e.$modify_number()),k=F(p,"map",[],function(m){return null==m&&(m=n),o(m["$zero?"]())?"[ ]":o(m["$positive?"]())?"[+]":"[-]"}),d=t.$outcome(y,e.$target_number()),D=["("+e+")",""+k.$join()+i("Format").$modifier(e.$modify_number()),t.$result_ladder(y),d.$text()],d["$text="](D.$compact().$join(" \uff1e ")),d):n}),c(s,"$roll_fate_dice",function($){return F(this.randomizer.$roll_barabara($,3),"map",[],function(e){return null==e&&(e=n),R(e,2)})}),c(s,"$result_ladder",function($){var e;return(u(8,e=$.$clamp(-2,8))?"Legendary":u(7,e)?"Epic":u(6,e)?"Fantastic":u(5,e)?"Superb":u(4,e)?"Great":u(3,e)?"Good":u(2,e)?"Fair":u(1,e)?"Average":u(0,e)?"Mediocre":u(-1,e)?"Poor":"Terrible")+"("+this.$format("%+d",$)+")"}),c(s,"$outcome",function($,t){return o(t["$nil?"]())?i("Result").$new():G($,t)?i("Result").$success("Tie"):o(q($,h(t,3)))?i("Result").$critical("Succeed with Style"):o(q($,t))?i("Result").$success("Succeed"):i("Result").$failure("Fail")})})}}]);