(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[7170],{329:(oe,ce,Y)=>{Y(9993),Opal.queue(function(o){var le,ue,_e,c,H,x,P,p,se,I,q=o.module,J=o.klass,F=o.const_set,Q=o.send2,U=o.find_super,V=o.range,g=o.def,y=o.eqeqeq,a=o.truthy,v=o.rb_le,b=o.rb_plus,k=o.eqeq,S=o.send,W=o.rb_times,C=o.rb_ge,B=o.rb_divide,L=o.rb_lt,X=o.rb_gt,Z=o.hash2,w=o.to_ary,A=o.rb_minus,O=o.thrower,ee=o.not,z=[],e=o.nil;return le=z,ue=I=[q(z[0],"BCDice")].concat(le),p=[q(I[0],"GameSystem")].concat(ue),se=o.$r(p),_e=p,H=[c=J(p[0],se("Base"),"Cthulhu7th_Korean")].concat(_e),x=o.$r(H),(P=c.$$prototype).bonus_dice_range=P.randomizer=e,F(H[0],"ID","Cthulhu7th:Korean"),F(H[0],"NAME","\ud06c\ud234\ub8e8\uc758 \ubd80\ub984 7\ud310"),F(H[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ud06c\ud234\ub8e8\uc758 \ubd80\ub984 7\ud310"),F(H[0],"HELP_MESSAGE","\u30fb\ud310\uc815\u3000CC(x)<=\uff08\ubaa9\ud45c\uce58\uff09\n\u3000x\uff1a\ubcf4\ub108\uc2a4, \ud328\ub110\ud2f0 \uc8fc\uc0ac\uc704\uff1aBonus/Penalty Dice (2~-2). \uc0dd\ub7b5 \uac00\ub2a5.\n\u3000\ub300\uc2e4\ud328\uff1aFumble\uff0f\uc2e4\ud328\uff1aFailure\uff0f\ubcf4\ud1b5 \uc131\uacf5\uff1aRegular success\uff0f\n\u3000\uc5b4\ub824\uc6b4 \uc131\uacf5\uff1aHard success\uff0f\ub300\ub2e8\ud55c \uc131\uacf5\uff1aExtreme success\uff0f\n\u3000\ub300\uc131\uacf5\uff1aCritical success\u3000\uc744 \uc790\ub3d9\ud310\uc815.\n\uc608\uff09CC<=30\u3000CC(2)<=50\u3000CC(-1)<=75\n\n\u30fb\uc870\ud569 \ud310\uc815\u3000(CBR(x,y))\n\u3000\ubaa9\ud45c\uce58 x \uc640 y \ub85c \ub3d9\uc2dc\uc5d0 \uff05\ud310\uc815\uc744 \ud55c\ub2e4.\n\u3000\uc608\uff09CBR(50,20)\n\n\u30fb\uc5f0\uc0ac(Full Auto)\ud310\uc815\u3000FAR(w,x,y,z)\n\u3000w\uff1a\ud0c4\uc218(1~100), x\uff1a\uae30\ub2a5 \uc218\uce58(1~100), y\uff1a\uace0\uc7a5 \ub118\ubc84\n\u3000z\uff1a\ubcf4\ub108\uc2a4, \ud328\ub110\ud2f0 \uc8fc\uc0ac\uc704(-2~2). \uc0dd\ub7b5 \uac00\ub2a5.\n\u3000\uba85\uc911\uc218\uc640 \uad00\ud1b5\uc218, \uc794\ud0c4\uc218\ub9cc\uc744 \uacc4\uc0b0. \ub370\ubbf8\uc9c0\ub294 \uacc4\uc0b0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\uc608\uff09FAR(25,70,98)\u3000FAR(50,80,98,-1)\n"),c.$register_prefix("CC","CBR","FAR"),g(c,"$initialize",function f(l){var i=this;return f.$$p=null,Q(i,U(i,"initialize",f,!1,!0),"initialize",[l],null),i.bonus_dice_range=V(-2,2,!1)}),g(c,"$eval_game_system_specific_command",function(l){var i,t=this;return y(/CC/i,i=l)?t.$getCheckResult(l):y(/CBR/i,i)?t.$getCombineRoll(l):y(/FAR/i,i)?t.$getFullAutoResult(l):e}),g(c,"$getCheckResult",function(l){var i,u,t=this,r=e,_=e,s=e,$=e,n=e;return a(/^CC([-\d]+)?<=(\d+)/i["$=~"](l)),i=x("Regexp").$last_match(1).$to_i(),u=x("Regexp").$last_match(2).$to_i(),a(v(u,0))?"\uc5d0\ub7ec. \ubaa9\ud45c\uce58\ub294 1 \uc774\uc0c1\uc785\ub2c8\ub2e4.":a(t.bonus_dice_range["$include?"](i))?(r=b(r="","(1D100<="+u+")"),r=b(r," \ubcf4\ub108\uc2a4, \ud328\ub110\ud2f0 \uc8fc\uc0ac\uc704["+i+"]"),_=t.$rollPercentD10(),s=t.$getTotalLists(i,_),$=t.$getTotal(s,i),n=t.$getCheckResultText($,u),r=b(r," \uff1e "+s.$join(", ")+" \uff1e "+$+" \uff1e "+n)):"\uc5d0\ub7ec. \ubcf4\ub108\uc2a4, \ud328\ub110\ud2f0 \uc8fc\uc0ac\uc704\uc758 \uc218\uce58\ub294 "+t.bonus_dice_range.$min()+"~"+t.bonus_dice_range.$max()+"\uc785\ub2c8\ub2e4."}),g(c,"$rollPercentD10",function(){var t=e;return t=this.randomizer.$roll_once(10),k(t,10)&&(t=0),t}),g(c,"$getTotalLists",function(l,t){var r,u=e;return u=[],r=b(1,l.$abs()),S(r,"times",[],function _(){var $,n=e;return $=(null==_.$$s?this:_.$$s).$rollPercentD10(),n=b(W($,10),t),k(n,0)&&(n=100),u.$push(n)},{$$s:this}),u}),g(c,"$getTotal",function(l,t){return a(C(t,0))?l.$min():l.$max()}),g(c,"$getCheckResultText",function(l,t,i){var u;if(null==i&&(i=!1),a(v(l,t)))return k(l,1)?"\ub300\uc131\uacf5":a(v(l,B(t,5).$to_i()))?"\ub300\ub2e8\ud55c \uc131\uacf5":a(v(l,B(t,2).$to_i()))?"\uc5b4\ub824\uc6b4 \uc131\uacf5":"\ubcf4\ud1b5 \uc131\uacf5";if(u="\ub300\uc2e4\ud328",k(l,100))return u;if(a(C(l,96))){if(a(L(t,50)))return u;if(a(i))return u}return"\uc2e4\ud328"},-3),g(c,"$getCombineRoll",function(l){var t=this,i=e,u=e,r=e,_=e,s=e,$=e,n=e;return a(/CBR\((\d+),(\d+)\)/i["$=~"](l))?(i=x("Regexp").$last_match(1).$to_i(),u=x("Regexp").$last_match(2).$to_i(),r=t.randomizer.$roll_once(100),_=t.$getCheckResultText(r,i),s=t.$getCheckResultText(r,u),n=0,a(($=["\ub300\uc131\uacf5","\ub300\ub2e8\ud55c \uc131\uacf5","\uc5b4\ub824\uc6b4 \uc131\uacf5","\ubcf4\ud1b5\uc131\uacf5"])["$include?"](_))&&(n=b(n,1)),a($["$include?"](s))&&(n=b(n,1)),t.$debug("succesCount",n),"(1d100<="+i+","+u+") \uff1e "+r+"["+_+","+s+"] \uff1e "+(a(C(n,2))?"\uc131\uacf5":k(n,1)?"\ubd80\ubd84\uc801 \uc131\uacf5":"\uc2e4\ud328")):e}),g(c,"$getFullAutoResult",function(l){var t=this,i=e,u=e,r=e,_=e,s=e,$=e,n=e;return a(/^FAR\((-?\d+)(,(-?\d+))(,(-?\d+))(,(-?\d+))?\)/i["$=~"](l))?(i=x("Regexp").$last_match(1).$to_i(),u=x("Regexp").$last_match(3).$to_i(),r=x("Regexp").$last_match(5).$to_i(),_=(a(s=x("Regexp").$last_match(7))?s:0).$to_i(),$="",a(X(i,n=100))&&($=b($,"\n\ud0c4\uc57d\uc774 \ub108\ubb34 \ub9ce\uc2b5\ub2c8\ub2e4. \uc7a5\uc804\ub41c \ud0c4\uc57d\uc744 "+n+"\uac1c\ub85c \ubcc0\uacbd\ud569\ub2c8\ub2e4.\n"),i=n),a(v(i,0))?"\ud0c4\uc57d\uc740 1 \uc774\uc0c1\uc785\ub2c8\ub2e4.":a(v(u,0))?"\ubaa9\ud45c\uce58\ub294 1 \uc774\uc0c1\uc785\ub2c8\ub2e4.":(a(L(r,0))&&($=b($,"\n\uace0\uc7a5 \ub118\ubc84\ub294 1 \uc774\uc0c1\uc785\ub2c8\ub2e4. \ub9c8\uc774\ub108\uc2a4 \uae30\ud638\ub97c \uc81c\uac70\ud569\ub2c8\ub2e4.\n"),r=r.$abs()),a(t.bonus_dice_range["$include?"](_))?($=b($,"\ubcf4\ub108\uc2a4, \ud328\ub110\ud2f0 \uc8fc\uc0ac\uc704 ["+_+"]"),$=b($,t.$rollFullAuto(i,u,r,_))):"\n\uc5d0\ub7ec. \ubcf4\ub108\uc2a4, \ud328\ub110\ud2f0 \uc8fc\uc0ac\uc704\uc758 \uc218\uce58\ub294 "+t.bonus_dice_range.$min()+"~"+t.bonus_dice_range.$max()+"\uc785\ub2c8\ub2e4.")):e}),g(c,"$rollFullAuto",function(l,t,i,u){try{var r=O("return"),s=e,$=e,n=e;return s="",$=0,n=Z(["hit_bullet","impale_bullet","bullet"],{hit_bullet:0,impale_bullet:0,bullet:l}),S(4,"times",[],function h(R){var m,T,d=null==h.$$s?this:h.$$s,D=e,E=e,K=e,N=e,j=e,G=e;for(null==d.bonus_dice_range&&(d.bonus_dice_range=e),null==R&&(R=e),s=b(s,d.$getNextDifficltyMessage(R));a(C(u,d.bonus_dice_range.$min()));)$=b($,1),T=d.$getHitResultInfos(u,t,R),D=null==(m=w(T))[0]?e:m[0],E=null==m[1]?e:m[1],s=b(s,"\n"+$+"\ubc88\uc9f8: \uff1e "+(null==m[2]?e:m[2]).$join(", ")+" \uff1e "+D),a(C(E,i))&&(s=b(s," \ucd1d\uc54c \uac78\ub9bc"),r.$throw(d.$getHitResultText(s,n))),K=d.$getHitType(R,D),T=d.$getBulletResults(n["$[]"]("bullet"),K,t),N=null==(m=w(T))[0]?e:m[0],j=null==m[1]?e:m[1],G=null==m[2]?e:m[2],n["$[]="]("hit_bullet",b(n["$[]"]("hit_bullet"),N)),n["$[]="]("impale_bullet",b(n["$[]"]("impale_bullet"),j)),n["$[]="]("bullet",A(n["$[]"]("bullet"),G)),a(v(n["$[]"]("bullet"),0))&&r.$throw(d.$getHitResultText(s,n)),u=A(u,1);return u=b(u,1)},{$$s:this,$$ret:r}),this.$getHitResultText(s,n)}catch(h){if(h===r)return h.$v;throw h}}),g(c,"$getHitResultInfos",function(l,t,i){var r,_,s,$,u=this;return r=u.$rollPercentD10(),_=u.$getTotalLists(l,r),s=u.$getTotal(_,l),$=u.$getFumbleable(i),[u.$getCheckResultText(s,t,$),s,_]}),g(c,"$getHitResultText",function(l,t){return l+"\n\uff1e "+t["$[]"]("hit_bullet")+"\ubc1c\uc774 \uba85\uc911, "+t["$[]"]("impale_bullet")+"\ubc1c\uc774 \uad00\ud1b5, \uc794\ud0c4 "+t["$[]"]("bullet")+"\ubc1c"}),g(c,"$getHitType",function(l,t){var i,u,s=e;return u=this.$getSuccessListImpaleBulletList(l),s=null==(i=w(u))[1]?e:i[1],a((null==i[0]?e:i[0])["$include?"](t))?"hit":a(s["$include?"](t))?"impale":""}),g(c,"$getBulletResults",function(l,t,i){var r,_,u=this,s=e,$=e,n=e,h=e,R=e;if(r=u.$getSetOfBullet(i),_=u.$getHitBulletCountBase(i,r),s=B(r,2..$to_f()),$=0,n=0,h=0,ee(u.$isLastBulletTurn(l,r))){switch(t){case"hit":n=_;break;case"impale":n=s.$floor(),h=s.$ceil()}$=r}else{switch(t){case"hit":n=u.$getLastHitBulletCount(l);break;case"impale":n=(R=B(l,2..$to_f())).$floor(),h=R.$ceil()}$=l}return[n.$to_i(),h.$to_i(),$.$to_i()]}),g(c,"$getSuccessListImpaleBulletList",function(l){var t=e,i=e;switch(t=[],i=[],l){case 0:t=["\uc5b4\ub824\uc6b4 \uc131\uacf5","\ubcf4\ud1b5 \uc131\uacf5"],i=["\ub300\uc131\uacf5","\ub300\ub2e8\ud55c \uc131\uacf5"];break;case 1:t=["\uc5b4\ub824\uc6b4 \uc131\uacf5"],i=["\ub300\uc131\uacf5","\ub300\ub2e8\ud55c \uc131\uacf5"];break;case 2:t=[],i=["\ub300\uc131\uacf5","\ub300\ub2e8\ud55c \uc131\uacf5"];break;case 3:t=["\ub300\uc131\uacf5"],i=[]}return[t,i]}),g(c,"$getNextDifficltyMessage",function(l){switch(l){case 1:return"\n    \ub09c\uc774\ub3c4\uac00 \uc5b4\ub824\uc6b4 \uc131\uacf5\uc73c\ub85c \ubcc0\uacbd";case 2:return"\n    \ub09c\uc774\ub3c4\uac00 \ub300\ub2e8\ud55c \uc131\uacf5\uc73c\ub85c \ubcc0\uacbd";case 3:return"\n    \ub09c\uc774\ub3c4\uac00 \ub300\uc131\uacf5\uc73c\ub85c \ubcc0\uacbd"}return""}),g(c,"$getSetOfBullet",function(l){var t=e;return t=B(l,10).$to_i(),a(C(l,1))&&a(L(l,10))&&(t=1),t}),g(c,"$getHitBulletCountBase",function(l,t){var i=e;return i=B(t,2).$to_i(),a(C(l,1))&&a(L(l,10))&&(i=1),i}),g(c,"$isLastBulletTurn",function(l,t){return L(A(l,t),0)}),g(c,"$getLastHitBulletCount",function(l){return k(l,1)?1:B(l,2..$to_f()).$floor()}),g(c,"$getFumbleable",function(l){return C(l,1)})})}}]);