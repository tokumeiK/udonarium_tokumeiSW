(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[2135],{6103:(he,be,me)=>{me(9993),Opal.modules["bcdice/dice_table/table"]=function(r){var B,g,o,n,b,e,A,X,Z,O=r.module,P=r.klass,s=r.hash2,E=r.defs,G=r.truthy,Y=r.def,C=r.rb_minus,M=[],$=r.nil;return B=M,g=Z=[O(M[0],"BCDice")].concat(B),o=X=[O(Z[0],"DiceTable")].concat(g),b=[n=P(X[0],null,"Table")].concat(o),e=r.$r(b),(A=n.$$prototype).times=A.sides=A.name=A.items=$,E(n,"$from_i18n",function(H,V){var p=$;return p=e("I18n").$t(H,s(["locale"],{locale:V})),this.$new(p["$[]"]("name"),p["$[]"]("type"),p["$[]"]("items"))}),Y(n,"$initialize",function(H,V,W){var p=this,U=$;return p.name=H,p.items=W.$freeze(),U=/(\d+)D(\d+)/i.$match(V),G(U)||p.$raise(e("ArgumentError"),"Unexpected table type: "+V),p.times=U["$[]"](1).$to_i(),p.sides=U["$[]"](2).$to_i()}),Y(n,"$roll",function(H){var W,V=this;return W=H.$roll_sum(V.times,V.sides),V.$choice(W)}),Y(n,"$choice",function(H){var W,V=this;return W=C(H,V.times),e("RollResult").$new(V.name,H,V.items["$[]"](W))})},Opal.modules["bcdice/dice_table/d66_table"]=function(r){var x,K,e,A,k,H,V,o,D,O=r.module,P=r.klass,s=r.hash2,E=r.defs,G=r.def,Y=r.eqeqeq,C=r.rb_plus,M=r.rb_times,$=r.truthy,v=[],B=r.nil,ee=r.$$$;return x=v,K=D=[O(v[0],"BCDice")].concat(x),e=o=[O(D[0],"DiceTable")].concat(K),k=[A=P(o[0],null,"D66Table")].concat(e),H=r.$r(k),(V=A.$$prototype).sort_type=V.items=V.name=B,E(A,"$from_i18n",function(p,U){var T,F=B;return F=H("I18n").$t(p,s(["locale"],{locale:U})),T=H("D66SortType").$const_get(F["$[]"]("d66_sort_type")),this.$new(F["$[]"]("name"),T,F["$[]"]("items"))}),G(A,"$initialize",function(p,U,N){var F=this;return F.name=p,F.sort_type=U,F.items=N.$freeze()}),G(A,"$roll",function(p){var U=this,N=B,F=B,T=B,m=B;return N=p.$roll_barabara(2,6),Y(ee(H("D66SortType"),"ASC"),F=U.sort_type)?N["$sort!"]():Y(ee(H("D66SortType"),"DESC"),F)&&N["$sort!"]()["$reverse!"](),T=C(M(N["$[]"](0),10),N["$[]"](1)),m=$(F=U.items["$[]"](T))?F:U.items["$[]"](T.$to_s()),$(m["$respond_to?"]("roll"))&&(m=m.$roll(p)),H("RollResult").$new(U.name,T,m)}),G(A,"$choice",function(p){return H("RollResult").$new(this.name,p,this.items["$[]"](p))})},Opal.modules["bcdice/arithmetic/node"]=function(r){var u,e,V,T,m,p,U,k,n,O=r.module,P=r.klass,s=r.def,E=r.thrower,G=r.return_ivar,Y=r.send2,C=r.find_super,M=r.eqeq,$=r.const_set,v=r.eqeqeq,B=r.rb_divide,ee=r.truthy,Z=r.assign_ivar,x=r.alias,g=[],D=r.nil,X=r.$$$;return u=g,e=n=[O(g[0],"BCDice")].concat(u),V=k=[O(n[0],"Arithmetic")].concat(e),p=[O(k[0],"Node")].concat(V),U=r.$r(p),(m=(T=P(p[0],null,"BinaryOp")).$$prototype).lhs=m.rhs=m.op=D,s(T,"$initialize",function(w,y,R){var a=this;return a.lhs=w,a.op=y,a.rhs=R}),s(T,"$eval",function(w){try{E("eval_return");var q,R=this,a=D;return a=R.lhs.$eval(w),q=R.rhs.$eval(w),a.$send(R.op,q)}catch(t){if(t===r.t_eval_return)return t.$v;throw t}}),s(T,"$output",function(){var w=this;return""+w.lhs.$output()+w.op+w.rhs.$output()}),s(T,"$s_exp",function(){var w=this;return"("+w.$op_for_s_exp()+" "+w.lhs.$s_exp()+" "+w.rhs.$s_exp()+")"}),s(T,"$op_for_s_exp",G("op")),function(N,F,T){var m=P(N,F,"DivideBase"),l=[m].concat(T),w=r.$r(l),y=m.$$prototype;y.lhs=y.rhs=y.op=D,s(m,"$initialize",function R(a,q){return R.$$p=null,Y(this,C(this,"initialize",R,!1,!0),"initialize",[a,"/",q],null)}),s(m,"$eval",function(a){try{E("eval_return");var f,c,t=this;return f=t.lhs.$eval(a),c=t.rhs.$eval(a),M(c,0)&&t.$raise(w("ZeroDivisionError")),t.$divide_and_round(f,c,a)}catch(z){if(z===r.t_eval_return)return z.$v;throw z}}),s(m,"$output",function R(){var a=R.$$p||D,q=this;return R.$$p=null,""+Y(q,C(q,"output",R,!1,!0),"output",[],a)+q.$rounding_method()}),m.$private(),s(m,"$rounding_method",function(){return X(this.$class(),"ROUNDING_METHOD")}),s(m,"$op_for_s_exp",function(){return""+this.op+this.$rounding_method()}),s(m,"$divide_and_round",function(a,q,t){return this.$raise(w("NotImplementedError"))})}(p[0],U("BinaryOp"),p),function(N,F,T){var m=P(N,F,"DivideWithGameSystemDefault"),l=[m].concat(T),w=r.$r(l);$(l[0],"ROUNDING_METHOD",""),m.$private(),s(m,"$divide_and_round",function(R,a,q){var t,f=D;return v(X(w("RoundType"),"CEIL"),t=q)?B(R.$to_f(),a).$ceil():v(X(w("RoundType"),"ROUND"),t)?(f=B(R.$to_f(),a),ee(f["$negative?"]())?f.$abs().$round()["$-@"]():f.$round()):B(R,a).$floor()})}(p[0],U("DivideBase"),p),function(N,F,T){var m=P(N,F,"DivideWithCeil"),l=[m].concat(T);$(l[0],"ROUNDING_METHOD","C"),m.$private(),s(m,"$divide_and_round",function(y,R,a){return B(y.$to_f(),R).$ceil()})}(p[0],U("DivideBase"),p),function(N,F,T){var m=P(N,F,"DivideWithRound"),l=[m].concat(T);$(l[0],"ROUNDING_METHOD","R"),m.$private(),s(m,"$divide_and_round",function(y,R,a){var q=D;return q=B(y.$to_f(),R),ee(q["$negative?"]())?q.$abs().$round()["$-@"]():q.$round()})}(p[0],U("DivideBase"),p),function(N,F,T){var m=P(N,F,"DivideWithFloor"),l=[m].concat(T);$(l[0],"ROUNDING_METHOD","F"),m.$private(),s(m,"$divide_and_round",function(y,R,a){return B(y,R).$floor()})}(p[0],U("DivideBase"),p),function(N,F){var T=P(N,null,"Negative");T.$$prototype.body=D,s(T,"$initialize",Z("body")),s(T,"$eval",function(w){try{return E("eval_return"),this.body.$eval(w)["$-@"]()}catch(a){if(a===r.t_eval_return)return a.$v;throw a}}),s(T,"$output",function(){return"-"+this.body.$output()}),s(T,"$s_exp",function(){return"(- "+this.body.$s_exp()+")"})}(p[0]),function(N,F){var T=P(N,null,"Parenthesis");T.$$prototype.expr=D,s(T,"$initialize",Z("expr")),s(T,"$eval",function(w){try{return E("eval_return"),this.expr.$eval(w)}catch(a){if(a===r.t_eval_return)return a.$v;throw a}}),s(T,"$output",function(){return"("+this.expr.$output()+")"}),s(T,"$s_exp",function(){return"(Parenthesis "+this.expr.$s_exp()+")"})}(p[0]),function(N,F){var T=P(N,null,"Number");return T.$$prototype.value=D,s(T,"$initialize",Z("value")),s(T,"$eval",G("value")),s(T,"$output",function(){return this.value.$to_s()}),x(T,"s_exp","output")}(p[0])},Opal.modules["racc/parser"]=function(r){var H,W,p,O=r.module,P=r.klass,s=r.truthy,E=r.const_set,G=r.defs,Y=r.gvars,C=r.rb_lt,M=r.def,$=r.to_ary,v=r.send,B=r.neqeq,ee=r.rb_plus,Z=r.eqeq,x=r.rb_ge,g=r.rb_gt,D=r.rb_minus,X=r.rb_le,K=r.rb_times,u=r.assign_ivar_val,n=[],b=r.$r(n),e=r.nil,A=r.$$$;return H=n,W=[O(n[0],"Racc")].concat(H),p=r.$r(W),P(W[0],p("StandardError"),"ParseError"),s(A("::","ParseError","skip_raise")?"constant":e)||E(n[0],"ParseError",A(b("Racc"),"ParseError")),function(k,H){var T,m,l,w,y,p=[O(k,"Racc")].concat(H),U=r.$r(p);return s(U("Racc_No_Extensions","skip_raise")?"constant":e)||E(p[0],"Racc_No_Extensions",!1),T=p,l=[m=P(p[0],null,"Parser")].concat(T),w=r.$r(l),(y=m.$$prototype).yydebug=y.racc_debug_out=y.racc_error_status=y.racc_t=y.racc_vstack=y.racc_val=y.racc_state=y.racc_tstack=e,E(l[0],"Racc_Runtime_Version","1.4.6"),E(l[0],"Racc_Runtime_Revision",["originalRevision:","1.8"]["$[]"](1)),E(l[0],"Racc_Runtime_Core_Version_R","1.4.6"),E(l[0],"Racc_Runtime_Core_Revision_R",["originalRevision:","1.8"]["$[]"](1)),E(l[0],"Racc_Main_Parsing_Routine","_racc_do_parse_rb"),E(l[0],"Racc_YY_Parse_Method","_racc_yyparse_rb"),E(l[0],"Racc_Runtime_Core_Version",w("Racc_Runtime_Core_Version_R")),E(l[0],"Racc_Runtime_Core_Revision",w("Racc_Runtime_Core_Revision_R")),E(l[0],"Racc_Runtime_Type","ruby"),G(w("Parser"),"$racc_runtime_type",function(){return w("Racc_Runtime_Type")}),M(m,"$_racc_setup",function(){var a,q,t=this,f=e,c=e;return null==Y.stderr&&(Y.stderr=e),s(A(t.$class(),"Racc_debug_parser"))||(t.yydebug=!1),s(null!=(a=t.yydebug)&&a!==e?"instance-variable":e)||(t.yydebug=!1),s(t.yydebug)&&(s(null!=(q=t.racc_debug_out)&&q!==e?"instance-variable":e)||(t.racc_debug_out=Y.stderr),t.racc_debug_out=s(f=t.racc_debug_out)?f:Y.stderr),c=A(t.$class(),"Racc_arg"),s(C(c.$size(),14))&&c["$[]="](13,!0),c}),M(m,"$_racc_init_sysvars",function(){var a=this;return a.racc_state=[0],a.racc_tstack=[],a.racc_vstack=[],a.racc_t=e,a.racc_val=e,a.racc_read_next=!0,a.racc_user_yyerror=!1,a.racc_error_status=0}),M(m,"$do_parse",function(){return this.$__send__(w("Racc_Main_Parsing_Routine"),this.$_racc_setup(),!1)}),M(m,"$next_token",function(){return this.$raise(w("NotImplementedError"),this.$class()+"#next_token is not defined")}),M(m,"$_racc_do_parse_rb",function(a,q){var t,c=this,z=e,ce=e,te=e,ie=e,ae=e,J=e,ue=e,re=e;return t=$(a),z=null==t[0]?e:t[0],ce=null==t[1]?e:t[1],te=null==t[2]?e:t[2],ie=null==t[3]?e:t[3],ae=null==t[10]?e:t[10],c.$_racc_init_sysvars(),J=ue=re=e,v(c,"catch",["racc_end_parse"],function h(){var i,S,d=null==h.$$s?this:h.$$s,_=e;for(null==d.racc_state&&(d.racc_state=e),null==d.racc_read_next&&(d.racc_read_next=e),null==d.racc_t&&(d.racc_t=e),null==d.yydebug&&(d.yydebug=e),null==d.racc_val&&(d.racc_val=e);s(!0);)for(s(re=ie["$[]"](d.racc_state["$[]"](-1)))?(s(d.racc_read_next)&&B(d.racc_t,0)&&(S=d.$next_token(),i=$(S),J=null==i[0]?e:i[0],d.racc_val=null==i[1]?e:i[1],d.racc_t=s(J)?s(_=ae["$[]"](J))?_:1:0,s(d.yydebug)&&d.$racc_read_token(d.racc_t,J,d.racc_val),d.racc_read_next=!1),re=ee(re,d.racc_t),s(x(re,0))&&s(ue=z["$[]"](re))&&Z(ce["$[]"](re),d.racc_state["$[]"](-1))||(ue=te["$[]"](d.racc_state["$[]"](-1)))):ue=te["$[]"](d.racc_state["$[]"](-1));s(ue=d.$_racc_evalact(ue,a)););},{$$s:c})}),M(m,"$yyparse",function(a,q){return this.$__send__(w("Racc_YY_Parse_Method"),a,q,this.$_racc_setup(),!0)}),M(m,"$_racc_yyparse_rb",function(a,q,t,f){var c,te=e,ie=e,ne=e,ae=e,ue=e,re=e,h=e;return c=$(t),te=null==c[0]?e:c[0],ie=null==c[1]?e:c[1],ne=null==c[2]?e:c[2],ae=null==c[3]?e:c[3],ue=null==c[10]?e:c[10],this.$_racc_init_sysvars(),re=e,h=e,v(this,"catch",["racc_end_parse"],function i(){var S=null==i.$$s?this:i.$$s;for(null==S.racc_state&&(S.racc_state=e);!s(h=ae["$[]"](S.racc_state["$[]"](-1)));)for(;s(re=S.$_racc_evalact(ne["$[]"](S.racc_state["$[]"](-1)),t)););return v(a,"__send__",[q],function d(_,j){var I=null==d.$$s?this:d.$$s,Q=e,L=e;for(null==I.racc_t&&(I.racc_t=e),null==I.racc_state&&(I.racc_state=e),null==I.racc_read_next&&(I.racc_read_next=e),null==_&&(_=e),null==j&&(j=e),I.racc_t=s(_)?s(Q=ue["$[]"](_))?Q:1:0,I.racc_val=j,I.racc_read_next=!1,h=ee(h,I.racc_t),s(x(h,0))&&s(re=te["$[]"](h))&&Z(ie["$[]"](h),I.racc_state["$[]"](-1))||(re=ne["$[]"](I.racc_state["$[]"](-1)));s(re=I.$_racc_evalact(re,t)););for(;s(s(Q=s(L=(h=ae["$[]"](I.racc_state["$[]"](-1)))["$!"]())?L:I.racc_read_next["$!"]())?Q:I.racc_t["$=="](0));)for(s(h)&&s(h=ee(h,I.racc_t))&&s(x(h,0))&&s(re=te["$[]"](h))&&Z(ie["$[]"](h),I.racc_state["$[]"](-1))||(re=ne["$[]"](I.racc_state["$[]"](-1)));s(re=I.$_racc_evalact(re,t)););},{$$s:S})},{$$s:this})}),M(m,"$_racc_evalact",function(a,q){var t,ne,c=this,z=e,ce=e,ie=e,ae=e,J=e,ue=e;if(z=null==(t=$(q))[0]?e:t[0],ce=null==t[1]?e:t[1],ie=null==t[3]?e:t[3],ne=null==t[11]?e:t[11],ae=null==t[12]?e:t[12],s(g(a,0))&&s(C(a,ne)))s(g(c.racc_error_status,0))&&(Z(c.racc_t,1)||(c.racc_error_status=D(c.racc_error_status,1))),c.racc_vstack.$push(c.racc_val),c.racc_state.$push(a),c.racc_read_next=!0,s(c.yydebug)&&(c.racc_tstack.$push(c.racc_t),c.$racc_shift(c.racc_t,c.racc_tstack,c.racc_vstack));else if(s(C(a,0))&&s(g(a,ae["$-@"]()))){if(J=v(c,"catch",["racc_jump"],function re(){var h=null==re.$$s?this:re.$$s;return null==h.racc_state&&(h.racc_state=e),h.racc_state.$push(h.$_racc_do_reduce(q,a)),!1},{$$s:c}),s(J))switch(J){case 1:return c.racc_user_yyerror=!0,ae["$-@"]();case 2:return ne;default:c.$raise("[Racc Bug] unknown jump code")}}else if(Z(a,ne))s(c.yydebug)&&c.$racc_accept(),c.$throw("racc_end_parse",c.racc_vstack["$[]"](0));else{if(Z(a,ae["$-@"]())){switch(c.racc_error_status){case 0:s(q["$[]"](21))||c.$on_error(c.racc_t,c.racc_val,c.racc_vstack);break;case 3:Z(c.racc_t,0)&&c.$throw("racc_end_parse",e),c.racc_read_next=!0}for(c.racc_user_yyerror=!1,c.racc_error_status=3;s(!0)&&!(s(ue=ie["$[]"](c.racc_state["$[]"](-1)))&&(ue=ee(ue,1),s(x(ue,0))&&s(a=z["$[]"](ue))&&Z(ce["$[]"](ue),c.racc_state["$[]"](-1))));)s(X(c.racc_state.$size(),1))&&c.$throw("racc_end_parse",e),c.racc_state.$pop(),c.racc_vstack.$pop(),s(c.yydebug)&&(c.racc_tstack.$pop(),c.$racc_e_pop(c.racc_state,c.racc_tstack,c.racc_vstack));return a}c.$raise("[Racc Bug] unknown action "+a.$inspect())}return s(c.yydebug)&&c.$racc_next_state(c.racc_state["$[]"](-1),c.racc_state),e}),M(m,"$_racc_do_reduce",function(a,q){var t,ae,ue,_,j,I,$e,c=this,ce=e,te=e,ie=e,ne=e,J=e,re=e,h=e,i=e,S=e,d=e,Q=e,L=e,se=e;return ce=null==(t=$(a))[4]?e:t[4],te=null==t[5]?e:t[5],ie=null==t[6]?e:t[6],ne=null==t[7]?e:t[7],ae=null==t[8]?e:t[8],J=null==t[9]?e:t[9],ue=null==t[13]?e:t[13],re=c.racc_state,h=c.racc_vstack,i=c.racc_tstack,S=K(q,-3),d=J["$[]"](S),_=J["$[]"](ee(S,1)),j=J["$[]"](ee(S,2)),I=[],s(c.yydebug)&&(Q=i["$[]"](d["$-@"](),d)),L=h["$[]"](d["$-@"](),d),s(c.yydebug)&&i["$[]="](d["$-@"](),d,I),h["$[]="](d["$-@"](),d,I),re["$[]="](d["$-@"](),d,I),s(ue)?h.$push(c.$__send__(j,L,h,L["$[]"](0))):h.$push(c.$__send__(j,L,h)),i.$push(_),s(c.yydebug)&&c.$racc_reduce(Q,_,i,h),$e=D(_,ae),s(S=ne["$[]"]($e))&&(S=ee(S,re["$[]"](-1)),s(x(S,0))&&s(se=ce["$[]"](S))&&Z(te["$[]"](S),$e))?se:ie["$[]"]($e)}),M(m,"$on_error",function(a,q,t){var c,f=this;return f.$raise(w("ParseError"),f.$sprintf("\nparse error on value %s (%s)",q.$inspect(),s(c=f.$token_to_str(a))?c:"?"))}),M(m,"$yyerror",function(){return this.$throw("racc_jump",1)}),M(m,"$yyaccept",function(){return this.$throw("racc_jump",2)}),M(m,"$yyerrok",u("racc_error_status",0)),M(m,"$racc_read_token",function(a,q,t){var f=this;return f.racc_debug_out.$print("read    "),f.racc_debug_out.$print(q.$inspect(),"(",f.$racc_token2str(a),") "),f.racc_debug_out.$puts(t.$inspect()),f.racc_debug_out.$puts()}),M(m,"$racc_shift",function(a,q,t){var f=this;return f.racc_debug_out.$puts("shift   "+f.$racc_token2str(a)),f.$racc_print_stacks(q,t),f.racc_debug_out.$puts()}),M(m,"$racc_reduce",function(a,q,t,f){var c=this,z=e;return(z=c.racc_debug_out).$print("reduce "),s(a["$empty?"]())?z.$print(" <none>"):v(a,"each",[],function ce(te){return null==te&&(te=e),z.$print(" ",(null==ce.$$s?this:ce.$$s).$racc_token2str(te))},{$$s:c}),z.$puts(" --\x3e "+c.$racc_token2str(q)),c.$racc_print_stacks(t,f),c.racc_debug_out.$puts()}),M(m,"$racc_accept",function(){return this.racc_debug_out.$puts("accept"),this.racc_debug_out.$puts()}),M(m,"$racc_e_pop",function(a,q,t){var f=this;return f.racc_debug_out.$puts("error recovering mode: pop token"),f.$racc_print_states(a),f.$racc_print_stacks(q,t),f.racc_debug_out.$puts()}),M(m,"$racc_next_state",function(a,q){var t=this;return t.racc_debug_out.$puts("goto    "+a),t.$racc_print_states(q),t.racc_debug_out.$puts()}),M(m,"$racc_print_stacks",function(a,q){var f=e;return(f=this.racc_debug_out).$print("        ["),v(a,"each_index",[],function c(z){return null==z&&(z=e),f.$print(" (",(null==c.$$s?this:c.$$s).$racc_token2str(a["$[]"](z))," ",q["$[]"](z).$inspect(),")")},{$$s:this}),f.$puts(" ]")}),M(m,"$racc_print_states",function(a){var t=e;return(t=this.racc_debug_out).$print("        ["),v(a,"each",[],function(c){return null==c&&(c=e),t.$print(" ",c)}),t.$puts(" ]")}),M(m,"$racc_token2str",function(a){var t;return s(t=A(this.$class(),"Racc_token_to_s_table")["$[]"](a))?t:this.$raise("[Racc Bug] can't convert token "+a+" to string")}),M(m,"$token_to_str",function(a){return A(this.$class(),"Racc_token_to_s_table")["$[]"](a)})}(n[0],n)},Opal.modules.strscan=function(r){var Z,x,g,D,X,P=r.def,s=r.truthy,E=r.eqeqeq,G=r.Opal,Y=r.return_ivar,C=r.send,M=r.alias,$=[],v=r.nil;return Z=$,g=[x=(0,r.klass)($[0],null,"StringScanner")].concat(Z),D=r.$r(g),(X=x.$$prototype).pos=X.string=X.working=X.matched=X.prev_pos=X.match=v,x.$attr_reader("pos","matched"),P(x,"$initialize",function(u){var o=this;return o.string=u,o.pos=0,o.matched=v,o.working=u,o.match=[]}),x.$attr_reader("string"),P(x,"$beginning_of_line?",function(){var u=this;return 0===u.pos||"\n"===u.string.charAt(u.pos-1)}),P(x,"$scan",function(u){var o=this,n=(u=o.$anchor(u)).exec(o.working);return null==n?o.matched=v:(o.prev_pos=o.pos,o.pos+=n[0].length,o.working=o.working.substring(n[0].length),o.matched=n[0],o.match=n,n[0])}),P(x,"$scan_until",function(u){var o=this;u=o.$anchor(u);for(var n=o.working,b=0;n.length!=b;++b){var e=u.exec(n.substr(b));if(null!==e){var A=b+e[0].length,k=n.substr(0,A);return o.matched=e[0],o.match=e,o.prev_pos=o.pos+b,o.pos+=A,o.working=n.substr(A),k}}return o.matched=v}),P(x,"$[]",function(u){var n;if(s(this.match["$empty?"]()))return v;E(D("Symbol"),n=u)?u=u.$to_s():E(D("String"),n)||(u=G["$coerce_to!"](u,D("Integer"),"to_int"));var b=this.match;return u<0&&(u+=b.length),u<0||u>=b.length||null==b[u]?v:b[u]}),P(x,"$check",function(u){var o=this,n=(u=o.$anchor(u)).exec(o.working);return o.matched=null==n?v:n[0]}),P(x,"$check_until",function(u){var o=this,n=o.prev_pos,b=o.pos,e=o.working,A=o.$scan_until(u);return o.prev_pos=n,o.pos=b,o.working=e,A}),P(x,"$peek",function(u){return this.working.substring(0,u)}),P(x,"$eos?",function(){return 0===this.working.length}),P(x,"$exist?",function(u){var n=u.exec(this.working);return null==n?v:0==n.index?0:n.index+1}),P(x,"$skip",function(u){var o=this,n=(u=o.$anchor(u)).exec(o.working);if(null==n)return o.match=[],o.matched=v;var b=n[0],e=b.length;return o.matched=b,o.match=n,o.prev_pos=o.pos,o.pos+=e,o.working=o.working.substring(e),e}),P(x,"$skip_until",function(u){var n=this.$scan_until(u);return n===v?v:(this.matched=n.substr(-1),n.length)}),P(x,"$get_byte",function(){var u=this,o=v;return u.pos<u.string.length?(u.prev_pos=u.pos,u.pos+=1,o=u.matched=u.working.substring(0,1),u.working=u.working.substring(1)):u.matched=v,o}),P(x,"$match?",function(u){var o=this,n=(u=o.$anchor(u)).exec(o.working);return null==n?v:(o.prev_pos=o.pos,n[0].length)}),P(x,"$pos=",function(u){var o=this;return u<0&&(u+=o.string.$length()),o.pos=u,o.working=o.string.slice(u)}),P(x,"$matched_size",function(){return this.matched===v?v:this.matched.length}),P(x,"$post_match",function(){var u=this;return u.matched===v?v:u.string.substr(u.pos)}),P(x,"$pre_match",function(){var u=this;return u.matched===v?v:u.string.substr(0,u.prev_pos)}),P(x,"$reset",function(){var u=this;return u.working=u.string,u.matched=v,u.pos=0}),P(x,"$rest",Y("working")),P(x,"$rest?",function(){return 0!==this.working.length}),P(x,"$rest_size",function(){return this.$rest().$size()}),P(x,"$terminate",function(){var u,o=this;return o.match=v,u=[o.string.$length()],C(o,"pos=",u),u[u.length-1]}),P(x,"$unscan",function(){var u=this;return u.pos=u.prev_pos,u.prev_pos=v,u.match=v,u}),M(x,"bol?","beginning_of_line?"),M(x,"getch","get_byte"),x.$private(),P(x,"$anchor",function(u){var o=u.toString().match(/\/([^\/]+)$/);return o=o?o[1]:void 0,new RegExp("^(?:"+u.source+")",o)})},Opal.modules["bcdice/normalize"]=function(r){var M,ee,v,O=r.module,P=r.eqeqeq,s=r.def,E=r.eqeq,G=[],Y=r.nil;return M=G,v=[O(G[0],"BCDice")].concat(M),(ee=O(v[0],"Normalize")).$module_function(),s(ee,"$comparison_operator",function(x){var g;return P(/<=|=</,g=x)?"<=":P(/>=|=>/,g)?">=":P(/<>|!=|=!/,g)?"!=":P(/</,g)?"<":P(/>/,g)?">":P(/=/,g)?"==":Y}),s(ee,"$target_number",function(x){return E(x,"?")?x:x.$to_i()})},Opal.modules["bcdice/common_command/lexer"]=function(r){var B,g,o,n,b,e,X,Z,O=r.module,P=r.klass,s=r.const_set,E=r.hash2,G=r.truthy,Y=r.def,C=r.top,M=[],$=r.nil;return C.$require("strscan"),C.$require("bcdice/normalize"),B=M,g=Z=[O(M[0],"BCDice")].concat(B),o=X=[O(Z[0],"CommonCommand")].concat(g),b=[n=P(X[0],null,"Lexer")].concat(o),e=r.$r(b),n.$$prototype.scanner=$,s(b[0],"SYMBOLS",E(["+","-","*","/","(",")","[","]","?","@"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","[":"BRACKETL","]":"BRACKETR","?":"QUESTION","@":"AT"}).$freeze()),Y(n,"$initialize",function(H){var W;return H=G(W=H.$split(" ",2).$first())?W:"",this.scanner=e("StringScanner").$new(H)}),Y(n,"$next_token",function(){var H=this,V=$,W=$,p=$,N=$;return G(H.scanner["$eos?"]())?[!1,"$"]:G(V=H.scanner.$scan(/\d+/))?["NUMBER",V.$to_i()]:G(W=H.scanner.$scan(/[<>!=]+/))?["CMP_OP",e("Normalize").$comparison_operator(W)]:(p=H.scanner.$getch().$upcase(),[G(N=e("SYMBOLS")["$[]"](p))?N:p.$to_sym(),p])}),Y(n,"$source",function(){return this.scanner.$string()})},Opal.modules["bcdice/arithmetic/parser"]=function(r){var ee,D,b,H,V,W,p,U,N,F,T,m,y,e,A,k,K,u,x,O=r.module,P=r.klass,s=r.defs,E=r.def,G=r.hash,Y=r.const_set,C=r.top,M=[],$=r.nil,v=r.$$$;return C.$require("racc/parser.rb"),C.$require("bcdice/common_command/lexer"),C.$require("bcdice/arithmetic/node"),ee=M,D=x=[O(M[0],"BCDice")].concat(ee),K=[O(x[0],"Arithmetic")].concat(D),u=r.$r(K),b=K,A=[e=P(K[0],v(u("Racc"),"Parser"),"Parser")].concat(b),k=r.$r(A),e.$$prototype.lexer=$,s(e,"$parse",function(f){return this.$new().$parse(f)}),E(e,"$parse",function(f){try{return this.lexer=v(v(k("BCDice"),"CommonCommand"),"Lexer").$new(f),this.$do_parse()}catch(z){if(!r.rescue(z,[k("ParseError")]))throw z;try{return $}finally{r.pop_exception()}}}),e.$private(),E(e,"$next_token",function(){return this.lexer.$next_token()}),H=r.large_array_unpack("8,17,8,12,13,4,5,4,5,7,8,7,8,12,13,4,5,4,5,7,8,7,8,12,13,4,5,4,5,7,8,7,8,,,4,5,4,5,7,9,7,,,10,11,,10,11,22,26,24,25,27"),V=r.large_array_unpack("0,9,4,2,2,0,0,4,4,0,5,4,7,18,18,5,5,7,7,5,10,7,11,19,19,10,10,11,11,10,12,11,13,,,12,12,13,13,12,1,13,,,16,16,,1,1,16,21,21,21,21"),W=[-2,40,-6,$,0,8,$,10,$,1,18,20,28,30,$,$,37,$,4,14,$,47,$,$,$,$,$,$],p=[-17,-17,-3,-6,-17,-17,-14,-17,-16,-17,-17,-17,-17,-17,-12,-13,-17,28,-1,-2,-4,-7,-15,-5,-8,-9,-10,-11],U=[14,15,23,1,18,19,$,$,20,21,16],N=[3,3,4,1,2,2,$,$,3,3,1],F=[$,3,-6,-4,-19,$],T=[$,$,2,3,$,6],m=r.large_array_unpack("0,0,racc_error,3,14,_reduce_1,3,14,_reduce_2,1,14,_reduce_none,3,15,_reduce_4,4,15,_reduce_5,1,15,_reduce_none,0,17,_reduce_7,1,17,_reduce_8,1,17,_reduce_9,1,17,_reduce_10,1,17,_reduce_11,2,16,_reduce_12,2,16,_reduce_13,1,16,_reduce_none,3,18,_reduce_15,1,18,_reduce_16"),y=G(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12),Y(A[0],"Racc_arg",[H,V,p,W,U,N,T,F,13,m,y,28,17,!0]),Y(A[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","$start","add","mul","unary","round_type","term"]),Y(A[0],"Racc_debug_parser",!1),E(e,"$_reduce_1",function(f,c,z){return v(v(k("Arithmetic"),"Node"),"BinaryOp").$new(f["$[]"](0),"+",f["$[]"](2))}),E(e,"$_reduce_2",function(f,c,z){return v(v(k("Arithmetic"),"Node"),"BinaryOp").$new(f["$[]"](0),"-",f["$[]"](2))}),E(e,"$_reduce_4",function(f,c,z){return v(v(k("Arithmetic"),"Node"),"BinaryOp").$new(f["$[]"](0),"*",f["$[]"](2))}),E(e,"$_reduce_5",function(f,c,z){return f["$[]"](3).$new(f["$[]"](0),f["$[]"](2))}),E(e,"$_reduce_7",function(f,c,z){return v(v(k("Arithmetic"),"Node"),"DivideWithGameSystemDefault")}),E(e,"$_reduce_8",function(f,c,z){return v(v(k("Arithmetic"),"Node"),"DivideWithCeil")}),E(e,"$_reduce_9",function(f,c,z){return v(v(k("Arithmetic"),"Node"),"DivideWithCeil")}),E(e,"$_reduce_10",function(f,c,z){return v(v(k("Arithmetic"),"Node"),"DivideWithRound")}),E(e,"$_reduce_11",function(f,c,z){return v(v(k("Arithmetic"),"Node"),"DivideWithFloor")}),E(e,"$_reduce_12",function(f,c,z){return f["$[]"](1)}),E(e,"$_reduce_13",function(f,c,z){return v(v(k("Arithmetic"),"Node"),"Negative").$new(f["$[]"](1))}),E(e,"$_reduce_15",function(f,c,z){return f["$[]"](1)}),E(e,"$_reduce_16",function(f,c,z){return v(v(k("Arithmetic"),"Node"),"Number").$new(f["$[]"](0))}),E(e,"$_reduce_none",function(f,c,z){return f["$[]"](0)})},Opal.modules["bcdice/arithmetic"]=function(r){var M,ee,g,X,K,Z,x,v,O=r.module,P=r.thrower,s=r.def,E=r.top,G=[],Y=r.nil;return E.$require("bcdice/arithmetic/node"),E.$require("bcdice/arithmetic/parser"),M=G,ee=v=[O(G[0],"BCDice")].concat(M),x=[Z=O(v[0],"Arithmetic")].concat(ee),X=[g=r.get_singleton_class(Z)].concat(x),K=r.$r(X),s(g,"$eval",function(o,n){try{var e;P("eval_return");try{return(e=K("Parser").$parse(o))===Y||null==e?Y:e.$eval(n)}catch(k){if(!r.rescue(k,[K("ZeroDivisionError")]))throw k;try{return Y}finally{r.pop_exception()}}}catch(k){if(k===r.t_eval_return)return k.$v;throw k}})},Opal.modules["bcdice/command/lexer"]=function(r){var Z,X,b,e,A,k,H,u,g,O=r.module,P=r.klass,s=r.const_set,E=r.hash2,G=r.truthy,Y=r.send,C=r.def,M=r.thrower,$=r.top,v=[],B=r.nil;return $.$require("strscan"),$.$require("bcdice/normalize"),Z=v,X=g=[O(v[0],"BCDice")].concat(Z),b=u=[O(g[0],"Command")].concat(X),A=[e=P(u[0],null,"Lexer")].concat(b),k=r.$r(A),(H=e.$$prototype).scanner=H.notations=B,s(A[0],"SYMBOLS",E(["+","-","*","/","(",")","?","@","#","$"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","?":"QUESTION","@":"AT","#":"SHARP",$:"DOLLAR"}).$freeze()),C(e,"$initialize",function(W,p){var U,N,T;return W=G(T=(U=(N=W)===B||null==N?B:N.$split(" ",2))===B||null==U?B:U.$first())?T:"",this.scanner=k("StringScanner").$new(W),this.notations=Y(p,"map",[],function(l){return null==l&&(l=B),G(l["$is_a?"](k("String")))?k("Regexp").$new(l):l})}),C(e,"$next_token",function(){try{var W=M("return"),p=this,U=B,N=B,T=B,m=B;return G(p.scanner["$eos?"]())?[!1,"$"]:(Y(p.notations,"each",[],function l(w){var R,y=null==l.$$s?this:l.$$s;if(null==y.scanner&&(y.scanner=B),null==w&&(w=B),R=y.scanner.$scan(w),!G(R))return B;W.$throw(["NOTATION",R])},{$$s:p,$$ret:W}),G(U=p.scanner.$scan(/\d+/))?["NUMBER",U.$to_i()]:G(N=p.scanner.$scan(/[<>!=]+/))?(N=k("Normalize").$comparison_operator(N),[G(N)?"CMP_OP":"ILLEGAL",N]):(T=p.scanner.$getch().$upcase(),[G(m=k("SYMBOLS")["$[]"](T))?m:T.$to_sym(),T]))}catch(l){if(l===W)return l.$v;throw l}}),C(e,"$source",function(){return this.scanner.$string()})},Opal.modules["bcdice/command/parsed"]=function(r){var $,Z,K,u,o,n,b,g,B,O=r.module,P=r.klass,s=r.def,E=r.return_ivar,G=r.truthy,Y=[],C=r.nil;return $=Y,Z=B=[O(Y[0],"BCDice")].concat($),K=g=[O(B[0],"Command")].concat(Z),o=[u=P(g[0],null,"Parsed")].concat(K),n=r.$r(o),(b=u.$$prototype).critical=b.fumble=b.dollar=b.modify_number=b.question_target=b.target_number=b.prefix_number=b.command=b.suffix_number=b.cmp_op=C,u.$attr_accessor("command"),u.$attr_accessor("prefix_number"),u.$attr_accessor("suffix_number"),u.$attr_accessor("critical"),u.$attr_accessor("fumble"),u.$attr_accessor("dollar"),u.$attr_accessor("modify_number"),u.$attr_accessor("cmp_op"),u.$attr_accessor("target_number"),u.$attr_writer("question_target"),s(u,"$initialize",function(){var A=this;return A.prefix_number=C,A.suffix_number=C,A.critical=C,A.fumble=C,A.dollar=C,A.cmp_op=C,A.target_number=C,A.question_target=!1}),s(u,"$question_target?",E("question_target")),s(u,"$to_s",function(A){var k=this,H=C,V=C,W=C,p=C,U=C;switch(null==A&&(A="after_command"),H=G(k.critical)?"@"+k.critical:C,V=G(k.fumble)?"#"+k.fumble:C,W=G(k.dollar)?"$"+k.dollar:C,p=n("Format").$modifier(k.modify_number),U=G(k.question_target)?"?":k.target_number,A){case"after_command":return[k.prefix_number,k.command,k.suffix_number,H,V,W,p,k.cmp_op,U].$join();case"after_modify_number":return[k.prefix_number,k.command,k.suffix_number,p,H,V,W,k.cmp_op,U].$join();case"after_target_number":return[k.prefix_number,k.command,k.suffix_number,p,k.cmp_op,U,H,V,W].$join();default:return C}},-1)},Opal.modules["bcdice/command/parser"]=function(r){var A,W,m,R,a,q,t,f,c,z,ce,te,ae,l,w,y,re,U,N,H,O=r.klass,P=r.module,s=r.slice,E=r.extract_kwargs,G=r.ensure_kwargs,Y=r.get_kwarg,C=r.send2,M=r.find_super,$=r.def,v=r.send,B=r.eqeq,ee=r.thrower,Z=r.hash,x=r.const_set,g=r.truthy,D=r.to_ary,X=r.hash2,K=r.top,u=[],o=r.$r(u),n=r.nil,b=r.$$$;return K.$require("racc/parser.rb"),K.$require("bcdice/arithmetic/node"),K.$require("bcdice/command/lexer"),K.$require("bcdice/command/parsed"),O(b(o("BCDice"),"Command"),b(o("Racc"),"Parser"),"Parser"),A=u,W=H=[P(u[0],"BCDice")].concat(A),U=[P(H[0],"Command")].concat(W),N=r.$r(U),m=U,w=[l=O(U[0],b(N("Racc"),"Parser"),"Parser")].concat(m),y=r.$r(w),(re=l.$$prototype).notations=re.lexer=re.modifier=re.suffix_number=re.prefix_number=re.need_suffix_number=re.need_prefix_number=re.critical=re.fumble=re.dollar=re.allowed_cmp_op=re.question_target=n,$(l,"$initialize",function h(i,S){var d,_,j,I,L=this;return h.$$p=null,d=s(arguments),_=E(d),_=G(_),j=d,I=Y(_,"round_type"),C(L,M(L,"initialize",h,!1,!0),"initialize",[],null),L.notations=j,L.round_type=I,L.prefix_number=!1,L.suffix_number=!1,L.need_prefix_number=!1,L.need_suffix_number=!1,L.modifier=!0,L.critical=!1,L.fumble=!1,L.dollar=!1,L.allowed_cmp_op=[n,">=",">","<=","<","==","!="],L.question_target=!1},-2),$(l,"$disable_modifier",function(){return this.modifier=!1,this}),$(l,"$enable_prefix_number",function(){return this.prefix_number=!0,this}),$(l,"$enable_suffix_number",function(){return this.suffix_number=!0,this}),$(l,"$has_prefix_number",function(){var i=this;return i.prefix_number=!0,i.need_prefix_number=!0,i}),$(l,"$has_suffix_number",function(){var i=this;return i.suffix_number=!0,i.need_suffix_number=!0,i}),$(l,"$enable_critical",function(){return this.critical=!0,this}),$(l,"$enable_fumble",function(){return this.fumble=!0,this}),$(l,"$enable_dollar",function(){return this.dollar=!0,this}),$(l,"$restrict_cmp_op_to",function(i){var S,_=this;return S=s(arguments),_.allowed_cmp_op=S,_},-1),$(l,"$enable_question_target",function(){return this.question_target=!0,this}),$(l,"$parse",function(i){var S=this;try{return S.lexer=y("Lexer").$new(i,S.notations),S.$do_parse()}catch(d){if(!r.rescue(d,[y("ParseError"),y("ZeroDivisionError")]))throw d;try{return n}finally{r.pop_exception()}}}),l.$private(),$(l,"$parsed",function(i,S,d,_){try{return ee("eval_return"),v(y("Parsed").$new(),"tap",[],function Q(L){var $e,se,le,fe,de,oe,ve,_e=null==Q.$$s?this:Q.$$s;return null==_e.round_type&&(_e.round_type=n),null==L&&(L=n),L["$command="](i["$[]"]("command")),L["$prefix_number="](($e=i["$[]"]("prefix"))===n||null==$e?n:$e.$eval(_e.round_type)),L["$suffix_number="]((se=i["$[]"]("suffix"))===n||null==se?n:se.$eval(_e.round_type)),L["$critical="]((le=S["$[]"]("critical"))===n||null==le?n:le.$eval(_e.round_type)),L["$fumble="]((fe=S["$[]"]("fumble"))===n||null==fe?n:fe.$eval(_e.round_type)),L["$dollar="]((de=S["$[]"]("dollar"))===n||null==de?n:de.$eval(_e.round_type)),L["$modify_number="](d.$eval(_e.round_type)),L["$cmp_op="](_["$[]"]("cmp_op")),B(_["$[]"]("target"),"?")?(L["$question_target="](!0),v(L,"target_number=",oe=[0]),oe[oe.length-1]):(L["$question_target="](!1),oe=[(ve=_["$[]"]("target"),ve===n||null==ve?n:ve.$eval(_e.round_type))],v(L,"target_number=",oe),oe[oe.length-1])},{$$s:this})}catch(Q){if(Q===r.t_eval_return)return Q.$v;throw Q}}),$(l,"$next_token",function(){return this.lexer.$next_token()}),R=r.large_array_unpack("6,6,6,6,7,28,29,17,18,5,5,5,5,6,26,12,4,45,17,18,10,11,5,10,11,6,23,24,25,26,17,18,6,20,5,33,34,17,18,6,35,5,28,29,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,33,34,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,,,17,18,6,,5,,,17,18,,,5,23,24,25,26,56,54,55,57"),a=r.large_array_unpack("0,4,26,12,1,21,21,26,26,0,4,26,12,5,21,3,0,26,5,5,8,8,5,2,2,10,8,8,8,8,10,10,11,7,10,14,14,11,11,17,14,11,9,9,17,17,18,,17,15,15,18,18,23,,18,30,30,23,23,24,,23,31,31,24,24,25,,24,44,44,25,25,28,,25,47,47,28,28,29,,28,48,48,29,29,33,,29,49,49,33,33,34,,33,50,50,34,34,36,,34,,,36,36,37,,36,,,37,37,,,37,27,27,27,27,52,52,52,52"),q=r.large_array_unpack("-2,4,16,-3,-1,11,,33,13,35,23,30,1,,28,40,,37,44,,,-2,,51,58,65,0,106,72,79,47,54,,86,93,,100,107,,,,,,,63,,,68,75,82,89,,120,,,,,"),t=r.large_array_unpack("-35,-35,-8,-35,-7,-35,-34,-35,-16,-8,-35,-35,-5,-6,-35,-21,-24,-35,-35,-32,58,-16,-3,-35,-35,-35,-35,-16,-35,-35,-12,-13,-4,-35,-35,-33,-35,-35,-30,-31,-1,-9,-10,-11,-17,-18,-2,-14,-15,-19,-20,-22,-25,-23,-26,-27,-28,-29"),f=r.large_array_unpack("30,31,38,39,14,8,1,22,41,42,43,9,27,2,53,,,21,47,48,40,51,52,49,50,44,46,3,,,,13,,,,,,,,32"),c=r.large_array_unpack("8,8,7,7,9,3,1,5,7,7,7,4,3,2,10,,,4,8,8,5,7,7,8,8,9,5,6,,,,6,,,,,,,,6"),z=[n,6,13,3,9,-1,27,-15,-10,-1,-38],ce=[n,n,n,n,n,n,19,16,15,n,n],te=r.large_array_unpack("0,0,racc_error,4,20,_reduce_1,4,20,_reduce_2,3,20,_reduce_3,3,21,_reduce_4,2,21,_reduce_5,2,21,_reduce_6,1,21,_reduce_7,0,22,_reduce_8,3,22,_reduce_9,3,22,_reduce_10,3,22,_reduce_11,2,23,_reduce_12,2,23,_reduce_13,3,23,_reduce_14,3,23,_reduce_15,0,24,_reduce_16,2,24,_reduce_17,2,24,_reduce_18,3,28,_reduce_19,3,28,_reduce_20,1,28,_reduce_none,3,27,_reduce_22,4,27,_reduce_23,1,27,_reduce_none,0,29,_reduce_25,1,29,_reduce_26,1,29,_reduce_27,1,29,_reduce_28,1,29,_reduce_29,2,26,_reduce_30,2,26,_reduce_31,1,26,_reduce_none,3,25,_reduce_33,1,25,_reduce_34"),ae=Z(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12,"AT",13,"SHARP",14,"DOLLAR",15,"CMP_OP",16,"QUESTION",17,"NOTATION",18),x(w[0],"Racc_arg",[R,a,t,q,f,c,ce,z,19,te,ae,58,35,!0]),x(w[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","AT","SHARP","DOLLAR","CMP_OP","QUESTION","NOTATION","$start","expr","notation","option","modifier","target","term","unary","mul","add","round_type"]),x(w[0],"Racc_debug_parser",!1),$(l,"$_reduce_1",function(i,S,d){var _,I=this;return g(I.modifier)||I.$raise(y("ParseError")),_=D(i),I.$parsed(null==_[0]?n:_[0],null==_[1]?n:_[1],null==_[2]?n:_[2],null==_[3]?n:_[3])}),$(l,"$_reduce_2",function(i,S,d){var _,I=this;return g(I.modifier)||I.$raise(y("ParseError")),_=D(i),I.$parsed(null==_[0]?n:_[0],null==_[2]?n:_[2],null==_[1]?n:_[1],null==_[3]?n:_[3])}),$(l,"$_reduce_3",function(i,S,d){var _,$e;return $e=null==(_=D(i))[2]?n:_[2],this.$parsed(null==_[0]?n:_[0],null==_[1]?n:_[1],b(b(y("Arithmetic"),"Node"),"Number").$new(0),$e)}),$(l,"$_reduce_4",function(i,S,d){var _=this;return g(_.prefix_number)&&g(_.suffix_number)||_.$raise(y("ParseError")),X(["command","prefix","suffix"],{command:i["$[]"](1),prefix:i["$[]"](0),suffix:i["$[]"](2)})}),$(l,"$_reduce_5",function(i,S,d){var _=this;return g(_.prefix_number)||_.$raise(y("ParseError")),g(_.need_suffix_number)&&_.$raise(y("ParseError")),X(["command","prefix"],{command:i["$[]"](1),prefix:i["$[]"](0)})}),$(l,"$_reduce_6",function(i,S,d){var _=this;return g(_.suffix_number)||_.$raise(y("ParseError")),g(_.need_prefix_number)&&_.$raise(y("ParseError")),X(["command","suffix"],{command:i["$[]"](0),suffix:i["$[]"](1)})}),$(l,"$_reduce_7",function(i,S,d){var _=this;return(g(_.need_prefix_number)||g(_.need_suffix_number))&&_.$raise(y("ParseError")),X(["command"],{command:i["$[]"](0)})}),$(l,"$_reduce_8",function(i,S,d){return X([],{})}),$(l,"$_reduce_9",function(i,S,d){var _,$e,Q=n;return Q=null==(_=D(i))[0]?n:_[0],$e=null==_[2]?n:_[2],g(this.critical)&&g(Q["$[]"]("critical")["$nil?"]())||this.$raise(y("ParseError")),Q["$[]="]("critical",$e),Q}),$(l,"$_reduce_10",function(i,S,d){var _,$e,Q=n;return Q=null==(_=D(i))[0]?n:_[0],$e=null==_[2]?n:_[2],g(this.fumble)&&g(Q["$[]"]("fumble")["$nil?"]())||this.$raise(y("ParseError")),Q["$[]="]("fumble",$e),Q}),$(l,"$_reduce_11",function(i,S,d){var _,$e,Q=n;return Q=null==(_=D(i))[0]?n:_[0],$e=null==_[2]?n:_[2],g(this.dollar)&&g(Q["$[]"]("dollar")["$nil?"]())||this.$raise(y("ParseError")),Q["$[]="]("dollar",$e),Q}),$(l,"$_reduce_12",function(i,S,d){return i["$[]"](1)}),$(l,"$_reduce_13",function(i,S,d){return b(b(y("Arithmetic"),"Node"),"Negative").$new(i["$[]"](1))}),$(l,"$_reduce_14",function(i,S,d){return b(b(y("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"+",i["$[]"](2))}),$(l,"$_reduce_15",function(i,S,d){return b(b(y("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"-",i["$[]"](2))}),$(l,"$_reduce_16",function(i,S,d){return g(this.allowed_cmp_op["$include?"](n))||this.$raise(y("ParseError")),X([],{})}),$(l,"$_reduce_17",function(i,S,d){var _,Q,L;return L=null==(_=D(i))[1]?n:_[1],g(this.allowed_cmp_op["$include?"](Q=null==_[0]?n:_[0]))||this.$raise(y("ParseError")),X(["cmp_op","target"],{cmp_op:Q,target:L})}),$(l,"$_reduce_18",function(i,S,d){var j,_=this;return j=i["$[]"](0),g(_.question_target)||_.$raise(y("ParseError")),g(_.allowed_cmp_op["$include?"](j))||_.$raise(y("ParseError")),X(["cmp_op","target"],{cmp_op:j,target:"?"})}),$(l,"$_reduce_19",function(i,S,d){return b(b(y("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"+",i["$[]"](2))}),$(l,"$_reduce_20",function(i,S,d){return b(b(y("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"-",i["$[]"](2))}),$(l,"$_reduce_22",function(i,S,d){return b(b(y("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"*",i["$[]"](2))}),$(l,"$_reduce_23",function(i,S,d){return i["$[]"](3).$new(i["$[]"](0),i["$[]"](2))}),$(l,"$_reduce_25",function(i,S,d){return b(b(y("Arithmetic"),"Node"),"DivideWithGameSystemDefault")}),$(l,"$_reduce_26",function(i,S,d){return b(b(y("Arithmetic"),"Node"),"DivideWithCeil")}),$(l,"$_reduce_27",function(i,S,d){return b(b(y("Arithmetic"),"Node"),"DivideWithCeil")}),$(l,"$_reduce_28",function(i,S,d){return b(b(y("Arithmetic"),"Node"),"DivideWithRound")}),$(l,"$_reduce_29",function(i,S,d){return b(b(y("Arithmetic"),"Node"),"DivideWithFloor")}),$(l,"$_reduce_30",function(i,S,d){return i["$[]"](1)}),$(l,"$_reduce_31",function(i,S,d){return b(b(y("Arithmetic"),"Node"),"Negative").$new(i["$[]"](1))}),$(l,"$_reduce_33",function(i,S,d){return i["$[]"](1)}),$(l,"$_reduce_34",function(i,S,d){return b(b(y("Arithmetic"),"Node"),"Number").$new(i["$[]"](0))}),$(l,"$_reduce_none",function(i,S,d){return i["$[]"](0)})},Opal.queue(function(r){var K,b,W,p,U,N,A,k,o,O=r.module,P=r.klass,s=r.const_set,E=r.send2,G=r.find_super,Y=r.def,C=r.truthy,M=r.hash2,$=r.rb_ge,v=r.rb_le,B=r.send,ee=r.hash,Z=r.top,x=[],g=r.nil,D=r.$$$;return Z.$require("bcdice/dice_table/table"),Z.$require("bcdice/dice_table/d66_table"),Z.$require("bcdice/arithmetic"),Z.$require("bcdice/command/parser"),K=x,b=o=[O(x[0],"BCDice")].concat(K),A=[O(o[0],"GameSystem")].concat(b),k=r.$r(A),W=A,U=[p=P(A[0],k("Base"),"Bakenokawa")].concat(W),N=r.$r(U),p.$$prototype.randomizer=g,s(U[0],"ID","Bakenokawa"),s(U[0],"NAME","\u30d0\u30b1\u30ce\u30ab\u30ef"),s(U[0],"SORT_KEY","\u306f\u3051\u306e\u304b\u308f"),s(U[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\n  xBKy@z\n    x\uff1a\u632f\u308b\u30c0\u30a4\u30b9\u306e\u6570(\u7701\u7565\u53ef\u3001\u7701\u7565\u3057\u305f\u5834\u5408\u306f2)\n    y\uff1a\u632f\u308b\u30c0\u30a4\u30b9\u306e\u9762\u6570\n    z\uff1a\u30b9\u30da\u30b7\u30e3\u30eb\u5024(@\u3054\u3068\u7701\u7565\u53ef\u3001\u7701\u7565\u3057\u305f\u5834\u5408\u306f12)\n  \uff08\u4f8b\uff09BK10\n  \u3000\u3000\u30004BK6\n  \u3000\u3000\u30002BK6@10\n\n\u30fb\u5404\u7a2e\u8868\n  \u4eca\u306e\u95a2\u4fc2\u8868 NRT\n  \u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u304b\u3089\u306e\u56e0\u7e01\u8868 KKT\n  \u8abf\u67fb\u6f14\u51fa\u8868\n    \u30ab\u30a4\u30d6\u30c4 RTK\n    \u30d0\u30b1\u30ce\u30ab\u30ef RTB\n  \u30b3\u30e9\u30dc\u30c6\u30fc\u30de\u8868\n    \u30ab\u30a4\u30d6\u30c4 CTK\n    \u30d0\u30b1\u30ce\u30ab\u30ef CTB\n  \u30d5\u30a1\u30f3\u30d6\u30eb\u8868 FT\n"),Y(p,"$initialize",function T(m){var w=this;return T.$$p=null,E(w,G(w,"initialize",T,!1,!0),"initialize",[m],null),w.sort_barabara_dice=!0,w.d66_sort_type=D(N("D66SortType"),"ASC")}),Y(p,"$eval_game_system_specific_command",function(m){var w;return C(w=this.$check_action(m))?w:this.$roll_tables(m,N("TABLES"))}),Y(p,"$check_action",function(m){var l=this,y=g,R=g,a=g,q=g,t=g,f=g,c=g,z=g,ce=g,te=g,ie=g,ne=g;return y=D(N("Command"),"Parser").$new("BK",M(["round_type"],{round_type:D(N("RoundType"),"FLOOR")})).$enable_critical().$enable_prefix_number().$has_suffix_number().$parse(m),C(y["$nil?"]())?g:(R=4,a=C(q=y.$prefix_number())?q:2,t=y.$suffix_number(),f=C(q=y.$critical())?q:12,l.$debug("dice_faces",t),l.$debug("dice_cnt",a),l.$debug("special_target",f),c=l.randomizer.$roll_barabara(a,t).$sort(),z=c.$join(","),ce=c.$sum(),te=$(ce,f),ie=v(ce,2),ne=$(B(c,"count",[],function(J){return null==J&&(J=g),$(J,R)}),1),B(N("Result").$new(),"tap",[],function(J){var ue;return null==J&&(J=g),J["$text="]("("+a+"B"+t+">="+R+") \uff1e ["+z+"] \uff1e "+ce+" \uff1e "+(C(ne)?"\u6210\u529f":"\u5931\u6557")+(C(te)?"(\u30b9\u30da\u30b7\u30e3\u30eb)":"")+(C(ie)?"(\u30d5\u30a1\u30f3\u30d6\u30eb)":"")),J["$critical="](te),J["$fumble="](ie),J["$success="](ne),ue=[J["$success?"]()["$!"]()],B(J,"failure=",ue),ue[ue.length-1]}))}),s(U[0],"TABLES",M(["NRT","KKT","RTK","RTB","CTK","CTB","FT"],{NRT:D(N("DiceTable"),"D66Table").$new("\u4eca\u306e\u95a2\u4fc2\u8868",D(N("D66SortType"),"ASC"),ee(11,"\u30d0\u30b1\u30ce\u30ab\u30ef\u540c\u58eb\u304c\u89aa\u621a\u3060\u3063\u305f",12,"\u4ef2\u306e\u3044\u3044\u8077\u5834\u306e\u540c\u50da",13,"\u4ed5\u4e8b\u306e\u3053\u3068\u3067\u52a9\u3051\u3066\u3082\u3089\u3063\u305f\u3053\u3068\u304c\u3042\u308b",14,"\u4eba\u9593\u793e\u4f1a\u306e\u3053\u3068\u3092\u6559\u3048\u5408\u3063\u3066\u3044\u308b",15,"\u65bd\u8a2d\u540c\u58eb\u304c\u3088\u304f\u30b3\u30e9\u30dc\u3059\u308b",16,"\u8857\u306e\u304a\u5e97\u306b\u4e8c\u4eba\u3067\u51fa\u304b\u3051\u308b\u4ef2",22,"\u3069\u3046\u306b\u3082\u30a6\u30de\u304c\u5408\u308f\u305a\u306b\u55a7\u5629\u3070\u304b\u308a\u3057\u3066\u3044\u308b",23,"\u305d\u306e\u30d0\u30b1\u30ce\u30ab\u30ef\u3092\u7fa8\u307e\u3057\u3044\u3068\u601d\u3063\u3066\u3044\u305f",24,"\u30d0\u30b1\u30ce\u30ab\u30ef\u306b\u95a2\u3059\u308b\u82e6\u52b4\u3092\u805e\u3044\u305f\u3053\u3068\u304c\u3042\u308b",25,"\u30d0\u30b1\u30ce\u30ab\u30ef\u3068\u3057\u3066\u306e\u751f\u6d3b\u570f\u304c\u8fd1\u3044",26,"\u30d0\u30b1\u30ce\u30ab\u30ef\u540c\u58eb\u304c\u77e5\u308a\u5408\u3044\u3060\u3063\u305f",33,"\u3042\u3093\u306a\u4eba\u9593\u306b\u306a\u308a\u305f\u3044\u3068\u61a7\u308c\u3092\u899a\u3048\u305f",34,"\u53cb\u4eba\u3068\u3057\u3066\u8272\u3005\u306a\u60a9\u307f\u3092\u5171\u306b\u89e3\u6c7a\u3057\u3066\u304d\u305f",35,"\u653e\u3063\u3066\u304a\u3051\u306a\u3044\u3068\u3053\u308d\u304c\u3042\u308b\u3068\u601d\u3063\u3066\u3044\u308b",36,"\u3044\u3064\u3082\u8ff7\u60d1\u3092\u304b\u3051\u3066\u60aa\u3044\u3068\u601d\u3063\u3066\u3044\u308b",44,"\u6bce\u671d\u6328\u62f6\u3092\u3059\u308b\u3088\u3046\u306a\u3054\u8fd1\u6240\u3055\u3093\uff0f\u5bee\u306e\u90e8\u5c4b\u304c\u96a3",45,"\u4f55\u304b\u60a9\u3093\u3067\u3044\u305d\u3046\u306a\u9854\u304c\u6c17\u306b\u306a\u3063\u305f",46,"\u4f55\u304b\u3068\u4ed5\u4e8b\u95a2\u4fc2\u3067\u52a9\u3051\u3066\u3082\u3089\u3044\u3001\u4e16\u8a71\u306b\u306a\u3063\u3066\u3044\u308b",55,"\u7acb\u3061\u632f\u308b\u821e\u3044\u304c\u4eba\u9593\u3089\u3057\u304f\u3066\u7fa8\u307e\u3057\u3044",56,"\u30ef\u30f3\u30c0\u30fc\u30e9\u30f3\u30c9\u3067\u306e\u632f\u308b\u821e\u3044\u3084\u4ed5\u4e8b\u3076\u308a\u306b\u4e00\u76ee\u7f6e\u3044\u3066\u3044\u308b",66,"\u305d\u306e\u30d0\u30b1\u30ce\u30ab\u30ef\u3092\u898b\u308b\u3068\u61d0\u304b\u3057\u3055\u3092\u899a\u3048\u308b")),KKT:D(N("DiceTable"),"D66Table").$new("\u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u304b\u3089\u306e\u56e0\u7e01\u8868",D(N("D66SortType"),"ASC"),ee(11,"\u4e00\u7dd2\u306e\u7262\u7344\u306b\u6355\u307e\u3063\u3066\u3044\u305f\u3053\u3068\u304c\u3042\u308b",12,"\u5730\u4e0b\u306e\u56fd\u3067\u4e00\u7dd2\u306b\u904a\u3093\u3067\u3044\u305f\u3053\u3068\u304c\u3042\u308b",13,"\u5730\u4e0a\u306b\u51fa\u3066\u4eba\u9593\u3092\u697d\u3057\u307e\u305b\u308b\u5922\u3092\u8a9e\u308a\u5408\u3063\u305f",14,"\u4e00\u7dd2\u306b\u4eba\u9593\u793e\u4f1a\u3092\u5b66\u3076\u8a13\u7df4\u3092\u53d7\u3051\u305f",15,"\u751f\u307e\u308c\u305f\u6642\u304b\u3089\u305a\u3063\u3068\u4e00\u7dd2\u3060\u3063\u305f",16,"\u6642\u3005\u55a7\u5629\u3092\u3057\u5408\u3046\u3088\u3046\u306a\u4ef2\u3060\u3063\u305f",22,"\u5e7c\u5c11\u671f\u306b\u80b2\u3066\u3066\u3082\u3089\u3063\u305f\u6069\u304c\u3042\u308b",23,"\u6614\u52a9\u3051\u3066\u3082\u3089\u3063\u305f\u6642\u306e\u501f\u308a\u304c\u3042\u308b",24,"\u601d\u3044\u51fa\u305b\u306a\u3044\u3050\u3089\u3044\u6614\u306b\u3001\u52a9\u3051\u3066\u3082\u3089\u3063\u305f\u2026\u2026\u6c17\u304c\u3059\u308b",25,"\u4e00\u7dd2\u306b\u5730\u4e0a\u3067\u4eba\u9593\u3092\u697d\u3057\u307e\u305b\u3088\u3046\u3068\u7d04\u675f\u3057\u305f",26,"\u4eba\u9593\u306b\u5bfe\u3059\u308b\u61a7\u308c\u3092\u8a9e\u3063\u305f",33,"\u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u3001\u4e00\u65b9\u7684\u306b\u61a7\u308c\u3092\u62b1\u3044\u3066\u3044\u305f",34,"\u4eba\u9593\u306e\u307e\u306d\u4e8b\u3092\u4e00\u7dd2\u306b\u3057\u3066\u3044\u305f",35,"\u5c11\u3057\u306e\u9593\u3001\u4e00\u7dd2\u306b\u66ae\u3089\u3057\u3066\u3044\u305f\u3053\u3068\u304c\u3042\u308b",36,"\u4e00\u7dd2\u306b\u304a\u8336\u4f1a\u3092\u3057\u305f\u4ef2",44,"\u540c\u3058\u89aa\u306e\u3082\u3068\u3067\u80b2\u3063\u305f",45,"\u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u306b\u8cb8\u3057\u304c\u3042\u3063\u3066\u3001\u307e\u3060\u8fd4\u3057\u3066\u3082\u3089\u3063\u3066\u306a\u3044",46,"\u4f55\u304b\u3068\u7af6\u3044\u5408\u3046\u3001\u30e9\u30a4\u30d0\u30eb\u540c\u58eb\u3060\u3063\u305f",55,"\u6226\u3044\u3092\u6311\u307f\u3001\u30dc\u30b3\u30dc\u30b3\u306b\u3055\u308c\u305f",56,"\u4e00\u7dd2\u306b\u9000\u5c48\u3092\u7d1b\u3089\u308f\u3059\u305f\u3081\u306b\u8272\u3005\u60aa\u3060\u304f\u307f\u3057\u3066\u3044\u305f",66,"\u30d0\u30b1\u30ce\u30ab\u30ef\u3092\u8cb0\u3063\u305f\u5f8c\u306b\u3084\u308a\u305f\u3044\u3053\u3068\u3092\u8a9e\u3063\u3066\u3082\u3089\u3063\u305f\u899a\u3048\u304c\u3042\u308b")),RTK:D(N("DiceTable"),"Table").$new("\u8abf\u67fb\u6f14\u51fa\u8868\u3000\u30ab\u30a4\u30d6\u30c4","1D10",["\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u8857\u306b\u6f5c\u307f\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5468\u308a\u3092\u8abf\u3079\u3066\u56de\u3063\u305f","\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u3092\u4f7f\u3044\u3001\u30c1\u30a7\u30a4\u30f3NPC\u3092\u5c3e\u884c\u3057\u3066\u597d\u307f\u3092\u8abf\u3079\u305f","\u4eba\u9593\u306b\u306f\u6f5c\u5165\u3067\u304d\u306a\u3044\u30eb\u30fc\u30c8\u3092\u4f7f\u3063\u3066\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5468\u308a\u3092\u8abf\u3079\u305f","\u4eba\u9593\u3068\u3057\u3066\u8abf\u3079\u3066\u307f\u3088\u3046\u3068\u3057\u305f\u304c\u3001\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u7279\u5fb4\u304c\u51fa\u3066\u56f0\u3063\u305f","\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u7279\u5fb4\u3092\u8abf\u67fb\u306b\u6d3b\u304b\u3057\u3001\u8abf\u3079\u4e0a\u3052\u305f","\u9b54\u6cd5\u306e\u93e1\u306b\u554f\u3044\u304b\u3051\u3066\u3001\u7b54\u3048\u3092\u8cb0\u3063\u305f","\u30c1\u30a7\u30a4\u30f3NPC\u306e\u75d5\u8de1\u304b\u3089\u3001\u9b54\u6cd5\u306e\u529b\u3092\u4f7f\u3063\u3066\u904e\u53bb\u3092\u8fbf\u3063\u305f","\u4ef2\u9593\u306e\u30ab\u30a4\u30d6\u30c4\u305f\u3061\u3068\u4e00\u7dd2\u306b\u3001\u8857\u306b\u7e70\u308a\u51fa\u3057\u3066\u30c9\u30bf\u30d0\u30bf\u5287\u3092\u7e70\u308a\u5e83\u3052\u306a\u304c\u3089\u60c5\u5831\u3092\u96c6\u3081\u305f","\u5c0f\u3055\u306a\u30ab\u30a4\u30d6\u30c4\u305f\u3061\u306b\u3001\u6c17\u4ed8\u304b\u308c\u306a\u3044\u3088\u3046\u306b\u30c1\u30a7\u30a4\u30f3NPC\u3092\u8abf\u3079\u3066\u3082\u3089\u3063\u305f","\u9b54\u5973\u306e\u30ab\u30a4\u30d6\u30c4\u306b\u983c\u3093\u3067\u3001\u8abf\u67fb\u306b\u4fbf\u5229\u306a\u85ac\u3092\u4f5c\u3063\u3066\u3082\u3089\u3063\u305f,"]),RTB:D(N("DiceTable"),"Table").$new("\u8abf\u67fb\u6f14\u51fa\u8868\u3000\u30d0\u30b1\u30ce\u30ab\u30ef","1D10",["\u4eba\u9593\u306e\u53cb\u4eba\u3092\u983c\u3063\u3066\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5642\u8a71\u3092\u805e\u304f","\u4eba\u9593\u306e\u8857\u306b\u884c\u3063\u3066\u30c1\u30a7\u30a4\u30f3NPC\u306e\u3053\u3068\u3092\u805e\u3044\u3066\u56de\u308b","\u30c1\u30a7\u30a4\u30f3PC\u306b\u8a71\u3092\u805e\u3044\u3066\u3001\u305d\u306e\u5b50\u306e\u7279\u5fb4\u304b\u3089\u597d\u307f\u3092\u63a8\u5bdf\u3059\u308b","\u30c1\u30a7\u30a4\u30f3PC\u3068\u4e00\u7dd2\u306b\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5468\u56f2\u3092\u805e\u304d\u8fbc\u307f\u3057\u3066\u56de\u3063\u305f","\u4eba\u9593\u3068\u3057\u3066\u3001\u60c5\u5831\u901a\u306e\u4eba\u9593\u304c\u96c6\u307e\u308b\u5834\u6240\u306b\u5411\u304b\u3044\u3001\u305d\u3053\u3067\u3044\u308d\u3044\u308d\u306a\u8a71\u3092\u805e\u3044\u3066\u56de\u3063\u305f","\u30cd\u30c3\u30c8\u3092\u5229\u7528\u3057\u3066\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u75d5\u8de1\u304c\u306a\u3044\u304b\u8abf\u3079\u3066\u307f\u305f","\u30c1\u30a7\u30a4\u30f3NPC\u304c\u3088\u304f\u884c\u304f\u5834\u6240\u3092\u63b4\u307f\u3001\u305d\u3053\u3067\u60c5\u5831\u53ce\u96c6\u3092\u3057\u305f","\u5b9f\u306f\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306f\u81ea\u5206\u306e\u30d0\u30b1\u30ce\u30ab\u30ef\u3068\u3057\u3066\u4f1a\u3063\u305f\u3053\u3068\u304c\u3042\u308a\u3001\u305d\u306e\u3068\u304d\u306e\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u305f","\u5b9f\u306f\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306f\u304a\u5ba2\u69d8\u3068\u3057\u3066\u81ea\u5206\u306e\u62c5\u5f53\u65bd\u8a2d\u306b\u6765\u305f\u3053\u3068\u304c\u3042\u308a\u3001\u305d\u306e\u3068\u304d\u306e\u5370\u8c61\u3092\u601d\u3044\u51fa\u3057\u305f"]),CTK:D(N("DiceTable"),"D66Table").$new("\u30b3\u30e9\u30dc\u30c6\u30fc\u30de\u8868\u3000\u30ab\u30a4\u30d6\u30c4",D(N("D66SortType"),"ASC"),ee(11,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u300c\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u59ff\u300d\u3092\u4f7f\u3063\u305f\u30c9\u6d3e\u624b\u306a\u30b3\u30e9\u30dc",12,"\u81ea\u5206\u306e\u7279\u5fb4\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",13,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u7279\u5fb4\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",14,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u7279\u5fb4\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",15,"\u81ea\u5206\u306e\u65bd\u8a2d\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u7279\u5fb4\u3092\u5408\u308f\u305b\u305f\u30b3\u30e9\u30dc",16,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u3068\u81ea\u5206\u306e\u7279\u5fb4\u3092\u5408\u308f\u305b\u305f\u30b3\u30e9\u30dc",22,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u300c\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u300d\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",23,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u30d1\u30d3\u30ea\u30aa\u30f3\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",24,"\u81ea\u5206\u306e\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",25,"\u76f8\u624b\u306e\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",26,"\u81ea\u5206\u304c\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u512a\u308c\u3066\u3044\u308b\u3068\u3053\u308d\u3092\u3001\u30b3\u30e9\u30dc\u76f8\u624b\u306b\u805e\u3044\u3066\u30d2\u30f3\u30c8\u306b\u3059\u308b",33,"\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u59ff\u3092\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u30b0\u30c3\u30ba\u3068\u3057\u3066\u58f2\u308a\u51fa\u3059\u30b3\u30e9\u30dc",34,"\u9b54\u6cd5\u306e\u529b\u3092\u6f14\u51fa\u306b\u4f7f\u3063\u305f\u3001\u30ad\u30e9\u30ad\u30e9\u306e\u30b3\u30e9\u30dc",35,"\u9b54\u6cd5\u306e\u9053\u5177\u3092\u4f7f\u3063\u305f\u3001\u304a\u5ba2\u69d8\u3092\u9a5a\u304b\u305b\u308b\u3088\u3046\u306a\u30b3\u30e9\u30dc",36,"\u7ae5\u8a71\u306e\u4e16\u754c\u3092\u304f\u3063\u3064\u3051\u3066\u3001\u3061\u3050\u306f\u3050\u306a\u611f\u3058\u3092\u697d\u3057\u3093\u3067\u3082\u3089\u3046",44,"\u30d1\u30d3\u30ea\u30aa\u30f3\u306e\u4ef2\u9593\u305f\u3061\u3092\u96c6\u3081\u305f\u30b9\u30c6\u30fc\u30b8\u3092\u958b\u50ac",45,"\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u59ff\u3092\u3042\u3048\u3066\u6652\u3057\u3001\u305d\u308c\u3092\u300c\u6f14\u51fa\u300d\u306b\u7d44\u307f\u8fbc\u3080",46,"\u81ea\u5206\u305f\u3061\u306e\u529b\u3092\u300c\u6f14\u51fa\u300d\u3068\u3057\u3066\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",55,"\u9b54\u6cd5\u306e\u529b\u304c\u304b\u304b\u3063\u305f\u304a\u571f\u7523\u3092\u6301\u305f\u305b\u308b\u30b3\u30e9\u30dc",56,"\u4e0d\u601d\u8b70\u306a\u6f14\u51fa\u304c\u3044\u3063\u3071\u3044\u306e\u30b3\u30e9\u30dc",66,"\u81ea\u5206\u305f\u3061\u4ee5\u5916\u306e\u30ab\u30a4\u30d6\u30c4\u3082\u547c\u3093\u3060\u3001\u8cd1\u3084\u304b\u306a\u30b3\u30e9\u30dc")),CTB:D(N("DiceTable"),"D66Table").$new("\u30b3\u30e9\u30dc\u30c6\u30fc\u30de\u8868\u3000\u30d0\u30b1\u30ce\u30ab\u30ef",D(N("D66SortType"),"ASC"),ee(11,"\u30d0\u30b1\u30ce\u30ab\u30ef\u3068\u3057\u3066\u751f\u6d3b\u3059\u308b\u3046\u3061\u306b\u899a\u3048\u305f\u3001\u300c\u697d\u3057\u304b\u3063\u305f\u3053\u3068\u300d\u3092\u3084\u3063\u3066\u307f\u308b",12,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u304a\u3058\u3083\u307e\u3059\u308b\u30b3\u30e9\u30dc",13,"\u81ea\u5206\u306e\u65bd\u8a2d\u306b\u30b3\u30e9\u30dc\u76f8\u624b\u3092\u547c\u3076",14,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u304a\u571f\u7523\u3092\u7528\u610f\u3059\u308b",15,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306e\u8981\u7d20\u3092\u4f7f\u3046",16,"\u81ea\u5206\u306e\u65bd\u8a2d\u306e\u8981\u7d20\u3092\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u8d08\u308b",22,"\u30d0\u30b1\u30ce\u30ab\u30ef\u751f\u6d3b\u306e\u4e2d\u3067\u6c17\u4ed8\u3044\u305f\u3001\u300c\u4eba\u9593\u306f\u9762\u767d\u3044\u300d\u3068\u601d\u3048\u305f\u3053\u3068\u3092\u3084\u308b",23,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u6280\u80fd\u3067\u5712\u5168\u4f53\u3092\u76db\u308a\u4e0a\u3052\u308b",24,"\u81ea\u5206\u306e\u6280\u80fd\u3092\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u6d3b\u304b\u3059",25,"\u30d1\u30fc\u30c8\u30ca\u30fc\u306e\u6280\u80fd\u3092\u81ea\u5206\u306e\u65bd\u8a2d\u306b\u6d3b\u304b\u3059",26,"\u81ea\u5206\u306e\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",33,"\u81ea\u5206\u3060\u3051\u3067\u306f\u3067\u304d\u306a\u3044\u3053\u3068\u3092\u30b3\u30e9\u30dc\u76f8\u624b\u3068\u76f8\u8ac7\u3059\u308b",34,"\u30d1\u30fc\u30c8\u30ca\u30fc\u306e\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",35,"\u4e8c\u3064\u306e\u65bd\u8a2d\u3092\u5408\u308f\u305b\u305f\u3088\u3046\u306a\u65bd\u8a2d\u3092\u9650\u5b9a\u30aa\u30fc\u30d7\u30f3",36,"\u304a\u5ba2\u69d8\u306e\u7b11\u9854\u3092\u601d\u3044\u51fa\u3057\u3001\u305d\u3046\u306a\u308b\u3088\u3046\u306b\u4e8c\u4eba\u3067\u52aa\u529b\u3059\u308b",44,"\u4e8c\u3064\u306e\u65bd\u8a2d\u3092\u7e4b\u3052\u308b\u5712\u5185\u30d0\u30b9\u3092\u7528\u610f\u3059\u308b",45,"\u304a\u5ba2\u69d8\u306b\u697d\u3057\u3093\u3067\u3082\u3089\u3048\u308b\u6f14\u51fa\u3092\u4e8c\u4eba\u3067\u8003\u3048\u308b",46,"\u304a\u5ba2\u69d8\u304c\u597d\u307f\u305d\u3046\u306a\u304a\u571f\u7523\u3092\u4e8c\u4eba\u3067\u8003\u3048\u308b",55,"\u4eba\u9593\u306e\u53cb\u9054\u306b\u3001\u300c\u4f55\u304c\u697d\u3057\u3044\u306e\u304b\u300d\u3092\u6539\u3081\u3066\u805e\u304f",56,"\u30d0\u30b1\u30ce\u30ab\u30ef\u306e\u4f1d\u624b\u3092\u4f7f\u3063\u3066\u3001\u4eba\u9593\u306e\u53cb\u9054\u306b\u8a71\u3092\u805e\u304f",66,"\u30ef\u30f3\u30c0\u30fc\u30e9\u30f3\u30c9\u306e\u307f\u3093\u306a\u306b\u624b\u4f1d\u3063\u3066\u3082\u3089\u3046\u8c6a\u83ef\u306a\u30b3\u30e9\u30dc")),FT:D(N("DiceTable"),"Table").$new("\u30d5\u30a1\u30f3\u30d6\u30eb\u8868","1D6",["\u300c\u3042\u308c\uff1f\u201d\u81ea\u5206\u201d\u306f\u4e00\u4f53\u4f55\u8005\u3060\u3063\u305f\u304b\u306a\uff1f\u300d\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u30921\u3064\u9078\u3093\u3067\u5931\u3046","\u3075\u3068\u3057\u305f\u77ac\u9593\u306b\u3001\u697d\u3057\u3044\u611f\u60c5\u306b\u5bfe\u3057\u3066\u61d0\u7591\u7684\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3002\u30ef\u30f3\u30c0\u30fc\u30c8\u30fc\u30af\u30f3\u30921\u500b\u9078\u3093\u3067\u5931\u3046","\u305b\u3063\u304b\u304f\u7528\u610f\u3057\u305f\u9053\u5177\u3092\u58ca\u3057\u3066\u3057\u307e\u3046\u3002\u30bb\u30c3\u30c8\u3057\u3066\u3044\u305f\u30b5\u30d7\u30e9\u30a4\u30ba\u30ab\u30fc\u30c9\u30921\u679a\u9078\u3093\u3067\u7834\u68c4\u3059\u308b","\u30d0\u30b1\u30ce\u30ab\u30ef\u306e\u8a18\u61b6\u304c\u601d\u3044\u51fa\u3055\u308c\u308b\u3002\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u3068\u305d\u308c\u306b\u4ed8\u968f\u3059\u308b\u30d1\u30fc\u30bd\u30ca\u30eb\u6280\u80fd\u30921\u3064\u305a\u3064\u7372\u5f97\u3059\u308b","\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u81ea\u5206\u304c\u524d\u9762\u306b\u51fa\u3066\u3057\u307e\u3046\u3002\u6b21\u306b\u884c\u3046\u5224\u5b9a\u306e\u9593\u3001\u3059\u3079\u3066\u306e\u6280\u80fd\u3092\u4fee\u5f97\u3057\u3066\u3044\u306a\u3044\u3082\u306e\u3068\u3057\u3066\u6271\u3046","\u5931\u6557\u3057\u3066\u3057\u307e\u3063\u305f\u304c\u3001\u305d\u308c\u304c\u304a\u5ba2\u69d8\u306b\u30a6\u30b1\u305f\u3002\u30ef\u30f3\u30c0\u30fc\u30c8\u30fc\u30af\u30f3\u30921\u500b\u7372\u5f97\u3059\u308b"])}).$freeze()),p.$register_prefix("\\d*BK",N("TABLES").$keys())})}}]);