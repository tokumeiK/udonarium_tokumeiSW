(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[3958],{5581:(W,X,P)=>{P(9993),Opal.queue(function(t){var M,I,J,i,d,Q,v,L,R,A=t.module,p=t.klass,b=t.const_set,s=t.truthy,D=t.def,c=t.rb_plus,w=t.eqeq,x=t.send,V=t.rb_gt,G=t.rb_times,C=t.rb_ge,z=t.thrower,B=t.rb_lt,E=[],e=t.nil;return M=E,I=R=[A(E[0],"BCDice")].concat(M),v=[A(R[0],"GameSystem")].concat(I),L=t.$r(v),J=v,d=[i=p(v[0],L("Base"),"DarkSouls")].concat(J),Q=t.$r(d),i.$$prototype.randomizer=e,b(d[0],"ID","DarkSouls"),b(d[0],"NAME","\u30c0\u30fc\u30af\u30bd\u30a6\u30ebTRPG"),b(d[0],"SORT_KEY","\u305f\u3042\u304f\u305d\u3046\u308bTRPG"),b(d[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\uff1a[n]DS[a\xb1b][@t]\u3000\u3000[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\n\u30fb\u80fd\u52d5\u5224\u5b9a\uff1a[n]ADS[a\xb1b][@t]\u3000\u3000FP\u6d88\u8cbb\u3092\u5224\u5b9a\n\u3000n\uff1a\u30c0\u30a4\u30b9\u6570\u3002\u7701\u7565\u6642\u306f\u300c2\u300d\n\u3000a\xb1b\uff1a\u4fee\u6b63\u5024\u3002\u300c1+2-1\u300d\u306e\u3088\u3046\u306b\u3001\u8907\u6570\u5b9a\u53ef\n\u3000@t\uff1a\u76ee\u6a19\u5024\u3002\u7701\u7565\u6642\u306f\u9054\u6210\u5024\u3092\u3001\u6307\u5b9a\u6642\u306f\u5224\u5b9a\u306e\u6b63\u5426\u3092\u8868\u793a\n\u4f8b\uff09DS \u2192 2D6\u306e\u9054\u6210\u5024\u3092\u8868\u793a\n\u3000\u30001DS \u2192 1D6\u306e\u9054\u6210\u5024\u3092\u8868\u793a\n\u3000\u3000ADS+2-2 \u2192 2D6+2\u306e\u9054\u6210\u5024\u3092\u8868\u793a\uff08\u80fd\u52d5\u5224\u5b9a\uff09\n\u3000\u3000DS+2@10 \u2192 2D6+2\u3067\u76ee\u6a19\u502410\u306e\u5224\u5b9a\n"),i.$register_prefix("(\\d+)?(A)?DS([-+\\d]*)(@\\d+)?"),D(i,"$eval_game_system_specific_command",function(r){var $=e,u=e,o=e,_=e,a=e,f=e;return s($=/(\d+)?(A)?DS([-+\d]*)(@(\d+))?$/i.$match(r.$upcase()))?(u=(s(o=$["$[]"](1))?o:2).$to_i(),_=$["$[]"](2)["$nil?"]()["$!"](),a=this.$getValue($["$[]"](3)),f=(s(o=$["$[]"](5))?o:0).$to_i(),this.$checkRoll(u,_,a,f)):e}),D(i,"$checkRoll",function(r,m,$,u){var a,l,S,k,_=e,f=e,q=e,T=e,g=e,n=e;return a=(_=this.randomizer.$roll_barabara(r,6)).$sum(),f=_.$join(","),l=c(a,$),S=this.$getValueText($),k=w(u,0)?"":">="+u,s(m)&&(q=x(f.$split(/,/),"map",[],"to_i".$to_proc()),T=x(q,"count",[],function(y){return null==y&&(y=e),y["$=="](1)}),s(V(T,0))&&(g="\uff08FP"+(g=G("\u25a0",T))+"\u6d88\u8cbb\uff09")),n=c(n="("+r+"D6"+S+k+")"," \uff1e "+a+"("+f+")"+S),n=c(n," \uff1e "+l+k),s(V(u,0))&&(n=s(C(l,u))?c(n," \uff1e \u3010\u6210\u529f\u3011"):c(n," \uff1e \u3010\u5931\u6557\u3011")),c(n,g.$to_s())}),D(i,"$getValue",function(r){try{var $;return z("eval_return"),r=s($=r)?$:"",Q("ArithmeticEvaluator").$eval(r)}catch(u){if(u===t.t_eval_return)return u.$v;throw u}}),D(i,"$getValueText",function(r){return w(r,0)?"":s(B(r,0))?r.$to_s():"+"+r})})}}]);