(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[2006],{3983:(se,le,U)=>{U(9993),Opal.queue(function($){var X,ee,ie,c,h,k,g,ne,x,R=$.module,H=$.klass,S=$.const_set,K=$.send2,N=$.find_super,d=$.def,I=$.eqeqeq,l=$.truthy,C=$.eqeq,T=$.to_ary,v=$.rb_plus,Y=$.rb_le,m=$.rb_ge,z=$.not,J=$.rb_lt,Q=$.rb_gt,E=[],e=$.nil,V=$.$$$;return X=E,ee=x=[R(E[0],"BCDice")].concat(X),g=[R(x[0],"GameSystem")].concat(ee),ne=$.$r(g),ie=g,h=[c=H(g[0],ne("Base"),"GoblinSlayer")].concat(ie),k=$.$r(h),c.$$prototype.randomizer=e,S(h[0],"ID","GoblinSlayer"),S(h[0],"NAME","\u30b4\u30d6\u30ea\u30f3\u30b9\u30ec\u30a4\u30e4\u30fcTRPG"),S(h[0],"SORT_KEY","\u3053\u3075\u308a\u3093\u3059\u308c\u3044\u3084\u3042TRPG"),S(h[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u3000GS(x)@c#f>=y\n\u30002d6\u306e\u5224\u5b9a\u3092\u884c\u3044\u3001\u9054\u6210\u5024\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\u3000x\u306f\u57fa\u6e96\u5024\u3001y\u306f\u76ee\u6a19\u5024\u3001c\u306f\u5927\u6210\u529f\u306e\u4e0b\u9650\u3001f\u306f\u5927\u5931\u6557\u306e\u4e0a\u9650\u3067\u3059\u3002\u3044\u305a\u308c\u3082\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002\n\u3000c\u304c\u672a\u6307\u5b9a\u306e\u5834\u5408\u306b\u306f c=12 \u3001f\u304c\u672a\u6307\u5b9a\u306e\u5834\u5408\u306b\u306f f=2 \u3068\u306a\u308a\u307e\u3059\u3002\n\u3000y\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u5927\u6210\u529f/\u6210\u529f/\u5931\u6557/\u5927\u5931\u6557\u3092\u81ea\u52d5\u5224\u5b9a\u3057\u307e\u3059\u3002\n\u3000\u4f8b\uff09GS>=12\u3000GS>10\u3000GS(10)>14\u3000GS+10>=15\u3000GS10>=15\u3000GS(10)\u3000GS+10\u3000GS10\u3000GS\n\u3000\u3000\u3000GS@10\u3000GS@10#3\u3000GS#3@10\n\n\u30fb\u7948\u5ff5\u3000MCPI(n)$m\n\u3000\u7948\u5ff5\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000n\u306f\u3010\u5e78\u904b\u3011\u306a\u3069\u306b\u3088\u308b\u30dc\u30fc\u30ca\u30b9\u3067\u3059\u3002\u3053\u306e\u5024\u306f\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002\n\u3000m\u306f\u56e0\u679c\u70b9\u306e\u73fe\u5728\u5024\u3067\u3059\u3002\n\u3000\u56e0\u679c\u70b9\u306e\u73fe\u5728\u5024\u3092\u4f7f\u7528\u3057\u3066\u7948\u5ff5\u3092\u884c\u3044\u3001\u6210\u529f/\u5931\u6557\u3092\u81ea\u52d5\u5224\u5b9a\u3057\u307e\u3059\u3002\n\u3000\u4f8b\uff09MCPI$3\u3000MCPI(1)$4\u3000MCPI+2$5\u3000MCPI2$6\n\n\u30fb\u547d\u4e2d\u5224\u5b9a\u306e\u52b9\u529b\u5024\u306b\u3088\u308b\u30dc\u30fc\u30ca\u30b9\u3000DB(n)\n\u3000\u30c0\u30e1\u30fc\u30b8\u52b9\u529b\u8868\u306b\u3088\u308b\u5a01\u529b\u3078\u306e\u30dc\u30fc\u30ca\u30b9\u3092\u81ea\u52d5\u3067\u6c42\u3081\u307e\u3059\u3002\n\u3000n\u306f\u547d\u4e2d\u5224\u5b9a\u306e\u52b9\u529b\u5024\u3067\u3059\u3002\n\u3000\u4f8b\uff09DB(15)\u3000DB12\n\n\u203b\u4e0a\u8a18\u30b3\u30de\u30f3\u30c9\u306e\u8a08\u7b97\u5185\u3067\u5272\u308a\u7b97\u3092\u884c\u3063\u305f\u5834\u5408\u3001\u5c0f\u6570\u70b9\u4ee5\u4e0b\u306f\u5207\u308a\u4e0a\u3052\u3055\u308c\u307e\u3059\u3002\n\u3000\u305f\u3060\u3057\u30c0\u30a4\u30b9\u51fa\u76ee\u3092\u5272\u308a\u7b97\u3057\u305f\u5834\u5408\u3001\u5c0f\u6570\u70b9\u4ee5\u4e0b\u306f\u5207\u308a\u6368\u3066\u3055\u308c\u307e\u3059\u3002\n\u3000\u4f8b\uff09\u5165\u529b\uff1aGS(8+3/2)\u3000\u5b9f\u884c\u7d50\u679c\uff1a(GS10) \uff1e 10 + 3[1,2] \uff1e 13\n\u3000\u3000\u3000\u5165\u529b\uff1a2d6/2    \u3000\u5b9f\u884c\u7d50\u679c\uff1a(2D6/2) \uff1e 3[1,2]/2 \uff1e 1\n\n\u203bMCPI\u3067\u306f\u3001\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30c0\u30a4\u30b9\u3092\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002\n"),c.$register_prefix("GS","^MCPI.*$","DB"),d(c,"$initialize",function f(s){var n=this;return f.$$p=null,K(n,N(n,"initialize",f,!1,!0),"initialize",[s],null),n.round_type=V(k("RoundType"),"CEIL")}),d(c,"$eval_game_system_specific_command",function(s){var n,t=this;return I(/^GS/i,n=s)?t.$getCheckResult(s):I(/^MCPI/i,n)?t.$murmurChantPrayInvoke(s):I(/^DB/i,n)?t.$damageBonus(s):e}),d(c,"$getCheckResult",function(s){var t,n,i=this,r=e,u=e,a=e,_=e,o=e,b=e,G=e,P=e,L=e,w=e,A=e,B=e,y=e,j=e,M=e,q=e,p=e,D=e;return r=/^GS([-+]?\d+)?(?:(?:([@#])([-+]?\d+))(?:([@#])([-+]?\d+))?)?(?:(>=?)(\d+))?$/i.$match(s),!l(r)||(u=r["$[]"](1).$to_i(),a=r["$[]"](7).$to_i(),o=(_=r["$[]"](6))["$nil?"](),b=r["$[]"](2),G=r["$[]"](3),P=r["$[]"](4),L=r["$[]"](5),l(b)&&C(b,P))?e:(n=i.$calc_threshold(b,G,P,L),w=null==(t=T(n))[0]?e:t[0],A=null==t[1]?e:t[1],y=(B=i.randomizer.$roll_barabara(2,6)).$sum(),j=B.$join(","),M=v(u,y),q=Y(y,A),p=m(y,w),D=" \uff1e "+i.$resultStr(M,a,_,q,p),l(o)&&z(q)&&z(p)&&(D=""),"("+s+") \uff1e "+(C(u,0)?"":u+" + ")+y+"["+j+"] \uff1e "+M+D)}),S(h[0],"CRITICAL",12),S(h[0],"FUMBLE",2),d(c,"$calc_threshold",function(s,t,n,i){var r,u,_,o=e;return u=C(s,"@")?[t,i]:[i,t],_=null==(r=T(u))[1]?e:r[1],[l((r=null==r[0]?e:r[0],o=r===e||null==r?e:r.$to_i()))?o:k("CRITICAL"),l((u=_,o=u===e||null==u?e:u.$to_i()))?o:k("FUMBLE")]}),d(c,"$murmurChantPrayInvoke",function(s){var n=e,i=e,r=e,u=e,a=e,_=e,o=e,b=e,G=e;return n=/^MCPI(\+?\d+)?\$(\d+)$/i.$match(s),l(n)?(i=n["$[]"](1).$to_i(),r=n["$[]"](2).$to_i(),l(m(r,12))?"\u56e0\u679c\u70b9\u304c12\u70b9\u4ee5\u4e0a\u306e\u5834\u5408\u3001\u56e0\u679c\u70b9\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002":(a=(u=this.randomizer.$roll_barabara(2,6)).$sum(),_=u.$join(","),o=v(a,i),b=" \uff1e "+this.$resultStr(o,r,">=",!1,!1),"\u7948\u5ff5(2d6"+(G=C(i,0)?"":"+"+i)+") \uff1e "+a+"["+_+"]"+G+" \uff1e "+o+b+", \u56e0\u679c\u70b9\uff1a"+r+"\u70b9 \u2192 "+v(r,1)+"\u70b9")):e}),d(c,"$damageBonus",function(s){var n=e,i=e,r=e,u=e,a=e,_=e,o=e;return n=/^DB(\d+)$/i.$match(s),l(n)?(i=n["$[]"](1).$to_i(),r="\u547d\u4e2d\u5224\u5b9a\u306e\u52b9\u529b\u5024\u306b\u3088\u308b\u30dc\u30fc\u30ca\u30b9 \uff1e ",l(J(i,15))?v(r,"\u306a\u3057"):(u=l(m(i,40))?5:l(m(i,30))?4:l(m(i,25))?3:l(m(i,20))?2:1,_=(a=this.randomizer.$roll_barabara(u,6)).$sum(),o=a.$join(","),v(r,_+"["+o+"] \uff1e "+_))):e}),d(c,"$resultStr",function(s,t,n,i,r){return l(i)?"\u5927\u5931\u6557":l(r)?"\u5927\u6210\u529f":C(n,">=")?l(m(s,t))?"\u6210\u529f":"\u5931\u6557":l(Q(s,t))?"\u6210\u529f":"\u5931\u6557"})})}}]);