(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[7036],{3734:(P,R,L)=>{L(9993),Opal.modules["bcdice/game_system/Fiasco"]=function(t){var A,D,I,n,i,l,b,H,d,m,z,v=t.module,S=t.klass,_=t.const_set,f=t.truthy,c=t.def,B=t.send,E=t.rb_plus,w=t.hash2,q=t.eqeqeq,k=t.eqeq,p=t.rb_gt,y=t.rb_minus,W=[],r=t.nil;return A=W,D=z=[v(W[0],"BCDice")].concat(A),d=[v(z[0],"GameSystem")].concat(D),m=t.$r(d),I=d,b=[l=S(d[0],m("Base"),"Fiasco")].concat(I),H=t.$r(b),l.$$prototype.randomizer=r,_(b[0],"ID","Fiasco"),_(b[0],"NAME","\u30d5\u30a3\u30a2\u30b9\u30b3"),_(b[0],"SORT_KEY","\u3075\u3044\u3042\u3059\u3053"),_(b[0],"HELP_MESSAGE","  \u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(FSx, WxBx)\n    \u76f8\u95a2\u56f3\u30fb\u8ee2\u843d\u8981\u7d20\u7528(FSx)\uff1a\u76f8\u95a2\u56f3\u3084\u8ee2\u843d\u8981\u7d20\u306e\u305f\u3081\u306bx\u500b\u30c0\u30a4\u30b9\u3092\u632f\u308a\u3001\u51fa\u76ee\u3054\u3068\u306b\u5206\u985e\u3059\u308b\n    \u9ed2\u767d\u5dee\u5206\u5224\u5b9a\u7528(WxBx)  \uff1a\u8ee2\u843d\u3001\u6b8b\u97ff\u306e\u305f\u3081\u306b\u767d\u30c0\u30a4\u30b9(W\u6307\u5b9a)\u3068\u9ed2\u30c0\u30a4\u30b9(B\u6307\u5b9a)\u3067\u5dee\u5206\u3092\u6c42\u3081\u308b\n      \u203b W\u3068B\u306f\u7247\u65b9\u6307\u5b9a(Bx, Wx)\u3001\u5165\u66ff\u6307\u5b9a(WxBx,BxWx)\u53ef\u80fd\n"),l.$register_prefix("FS","W","B"),c(l,"$eval_game_system_specific_command",function(o){var i,s,n=this;return f(i=f(s=n.$roll_fs(o))?s:n.$roll_white_black(o))?i:n.$roll_white_black_single(o)}),l.$private(),c(l,"$roll_fs",function(o){var i=r,s=r,$=r,e=r;return i=/^FS(\d+)$/.$match(o),f(i)?(s=i["$[]"](1).$to_i(),$=this.randomizer.$roll_barabara(s,6),e=[r,0,0,0,0,0,0],B($,"each",[],function(a){var h;return null==a&&(a=r),h=[a,E(e["$[]"](a),1)],B(e,"[]=",h),h[h.length-1]}),B(e,"map!",[],function u(a){return null==a&&(a=r),(null==u.$$s?this:u.$$s).$translate("Fiasco.fs.count",w(["count"],{count:a}))},{$$s:this}),"1 => "+e["$[]"](1)+", 2 => "+e["$[]"](2)+", 3 => "+e["$[]"](3)+", 4 => "+e["$[]"](4)+", 5 => "+e["$[]"](5)+", 6 => "+e["$[]"](6)):r}),c(l,"$roll_white_black_single",function(o){var i=r,s=r;return i=/^([WB])(\d+)$/.$match(o),f(i)?(s=H("Side").$new(this.$color(i["$[]"](1)),i["$[]"](2).$to_i())).$roll(this.randomizer)+" \uff1e "+s.$color()+s.$total():r}),c(l,"$roll_white_black",function(o){var n=this,i=r,s=r,$=r,u=r;return i=/^([WB])(\d+)([WB])(\d+)$/.$match(o),f(i)?q(/^W\d+W\d+$/,s=o)?o+"\uff1a"+n.$translate("Fiasco.wb.duplicate_error.white"):q(/^B\d+B\d+$/,s)?o+"\uff1a"+n.$translate("Fiasco.wb.duplicate_error.black"):($=H("Side").$new(n.$color(i["$[]"](1)),i["$[]"](2).$to_i())).$roll(n.randomizer)+" "+(u=H("Side").$new(n.$color(i["$[]"](3)),i["$[]"](4).$to_i())).$roll(n.randomizer)+" \uff1e "+$.$diff(u):r}),c(l,"$color",function(o){return k(o,"W")?this.$translate("Fiasco.white"):this.$translate("Fiasco.black")}),(i=(n=S(b[0],null,"Side")).$$prototype).count=i.dice_list=i.color=i.total=r,c(n,"$initialize",function($,e){return this.color=$,this.count=e}),c(n,"$roll",function($){var e=this;return e.dice_list=k(e.count,0)?[0]:$.$roll_barabara(e.count,6),e.total=e.dice_list.$sum(),""+e.color+e.total+"["+e.dice_list.$join(",")+"]"}),c(n,"$diff",function($){var e=this;return k(e.total,$.$total())?"0":f(p(e.total,$.$total()))?""+e.color+y(e.total,$.$total()):""+$.$color()+y($.$total(),e.total)}),n.$attr_reader("color","total")},Opal.queue(function(t){var p,K,G,d,m,g,z,W,v=t.module,S=t.klass,_=t.const_set,f=t.send2,c=t.find_super,B=t.def,w=[];return t.top.$require("bcdice/game_system/Fiasco"),p=w,K=W=[v(w[0],"BCDice")].concat(p),g=[v(W[0],"GameSystem")].concat(K),z=t.$r(g),G=g,_((m=[d=S(g[0],z("Fiasco"),"Fiasco_Korean")].concat(G))[0],"ID","Fiasco:Korean"),_(m[0],"NAME","\ud53c\uc544\uc2a4\ucf54"),_(m[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ud53c\uc544\uc2a4\ucf54"),_(m[0],"HELP_MESSAGE","  \u30fb\ud310\uc815 \ucee4\ub9e8\ub4dc(FSx, WxBx)\n    \uad00\uacc4, \ube44\ud2c0\uae30 \uc694\uc18c\uc6a9(FSx)\uff1a\uad00\uacc4\ub098 \ube44\ud2c0\uae30 \uc694\uc18c\ub97c \uc704\ud574 x\uac1c\uc758 \ub2e4\uc774\uc2a4\ub97c \uad74\ub824 \ub098\uc628 \uac12\ubcc4\ub85c \ubd84\ub958\ud55c\ub2e4.\n    \ud751\ubc31\ucc28\uc774\ud310\uc815\uc6a9(WxBx)    \uff1a\ube44\ud2c0\uae30, \ud6c4\uae30\ub97c \uc704\ud574 \ud770 \ub2e4\uc774\uc2a4(W\uc9c0\uc815)\uacfc \uac80\uc740 \ub2e4\uc774\uc2a4(B\uc9c0\uc815)\uc73c\ub85c \ucc28\uc774\ub97c \uad6c\ud55c\ub2e4.\n      \u203b W\uc640B\ub294 \ud55c \ucabd\ub9cc \uc9c0\uc815(Bx, Wx), \uc55e\ub4a4 \ubc14\uafd4 \uc9c0\uc815(WxBx,BxWx)\ub3c4 \uac00\ub2a5\n"),d.$register_prefix_from_super_class(),B(d,"$initialize",function F(M){var l=this;return F.$$p=null,f(l,c(l,"initialize",F,!1,!0),"initialize",[M],null),l.locale="ko_kr"})})}}]);