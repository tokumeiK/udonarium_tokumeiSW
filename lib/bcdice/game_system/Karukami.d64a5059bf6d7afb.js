(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[1616],{2838:(V,W,S)=>{S(9993),Opal.queue(function(e){var M,I,F,s,i,c,U,d,N,x,y=e.module,K=e.klass,l=e.const_set,g=e.def,j=e.hash2,t=e.truthy,q=e.rb_le,k=e.rb_gt,v=e.send,z=e.rb_ge,B=e.rb_plus,A=e.to_a,w=[],r=e.nil,D=e.$$$;return M=w,I=x=[y(w[0],"BCDice")].concat(M),d=[y(x[0],"GameSystem")].concat(I),N=e.$r(d),F=d,i=[s=K(d[0],N("Base"),"Karukami")].concat(F),c=e.$r(i),(U=s.$$prototype).round_type=U.randomizer=r,l(i[0],"ID","Karukami"),l(i[0],"NAME","\u30ab\u30eb\u30ab\u30df"),l(i[0],"SORT_KEY","\u304b\u308b\u304b\u307f"),l(i[0],"HELP_MESSAGE","\u25a0 \u884c\u70ba\u5224\u5b9a\u3001\u30c0\u30e1\u30fc\u30b8\u7b97\u51fa (xUB+y@c>=t)\n  6\u9762\u30c0\u30a4\u30b9\u3092x\u500b\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u4ee5\u4e0a\u306e\u51fa\u76ee\u304c\u51fa\u305f\u3089\u632f\u308a\u8db3\u3057\u3066\u5408\u8a08\u5024\u3092\u7b97\u51fa\u3057\u307e\u3059\u3002\n  x: \u30c0\u30a4\u30b9\u6570\n  y: \u4fee\u6b63\u5024\uff08\u7701\u7565\u53ef\uff09\n  c: \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\uff08\u7701\u7565\u53ef\uff09\n  t: \u76ee\u6a19\u5024\u5024\uff08\u7701\u7565\u53ef\uff09\n  \u4f8b\uff092UB, 2UB>=7, 3UB+1@5, 3UB+1@5<10\n"),s.$register_prefix("\\d+UB"),g(s,"$eval_game_system_specific_command",function(b){return this.$roll_ub(b)}),g(s,"$roll_ub",function(b){var p,R,n=r,a=r,_=r,o=r,h=r,f=r,u=r,C=r;if(n=D(c("Command"),"Parser").$new("UB",j(["round_type"],{round_type:this.round_type})).$has_prefix_number().$enable_critical().$parse(b),!t(n))return r;if(p=t(R=n.$critical())?R:6,t(q(p,1)))return"("+n+") \uff1e \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u306f2\u4ee5\u4e0a\u3068\u3057\u3066\u304f\u3060\u3055\u3044";for(a=[],_=0,o=n.$prefix_number();t(k(o,0));)h=this.randomizer.$roll_barabara(o,6),a.$push(h),o=v(h,"count",[],function($){return null==$&&($=r),z($,p)}),_=B(_,o);return f=B(a.$flatten().$sum(),n.$modify_number()),(u=t(a.$first()["$all?"](1))?(f=0,c("Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb")):t(n.$cmp_op()["$nil?"]())?c("Result").$new():t(f.$send(n.$cmp_op(),n.$target_number()))?c("Result").$success("\u6210\u529f"):c("Result").$failure("\u5931\u6557"))["$critical="](k(_,0)),C=["("+n+")"].concat(A(v(a,"map",[],function($){return null==$&&($=r),"["+$.$join(",")+"]"}))).concat([f,t(u["$critical?"]())?_+"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb":r,u.$text()]).$compact(),u["$text="](C.$join(" \uff1e ")),u})})}}]);