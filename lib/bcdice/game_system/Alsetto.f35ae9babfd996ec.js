(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[2948],{905:(Z,O,S)=>{S(9993),Opal.queue(function(n){var K,F,W,o,f,d,k,Q,D,y=n.module,B=n.klass,b=n.const_set,H=n.send2,M=n.find_super,x=n.def,t=n.truthy,R=n.eqeq,N=n.rb_gt,T=n.send,G=n.rb_le,$=n.rb_plus,j=n.rb_times,z=[],e=n.nil;return K=z,F=D=[y(z[0],"BCDice")].concat(K),k=[y(D[0],"GameSystem")].concat(F),Q=n.$r(k),W=k,f=[o=B(k[0],Q("Base"),"Alsetto")].concat(W),d=n.$r(f),o.$$prototype.randomizer=e,b(f[0],"ID","Alsetto"),b(f[0],"NAME","\u8a69\u7247\u306e\u30a2\u30eb\u30bb\u30c3\u30c8"),b(f[0],"SORT_KEY","\u3046\u305f\u304b\u305f\u306e\u3042\u308b\u305b\u3064\u3068"),b(f[0],"HELP_MESSAGE","\u30fb\u6210\u529f\u5224\u5b9a\uff1anAL[m]\u3000\u3000\u3000\u3000\u30fb\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u7121\u3057\uff1anALC[m]\n\u30fb\u547d\u4e2d\u5224\u5b9a\uff1anAL[m]*p\u3000\u3000\u3000\u30fb\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u7121\u3057\uff1anALC[m]*p\n\u30fb\u547d\u4e2d\u5224\u5b9a\uff08\u30ac\u30f3\u30b9\u30ea\u30f3\u30ac\u30fc\u306e\u6839\u6e90\u8a69\uff09\uff1anALG[m]*p\n[]\u5185\u306f\u7701\u7565\u53ef\u80fd\u3002\n\nAL\u30b3\u30de\u30f3\u30c9\u306f\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u306e\u5206\u3060\u3051\u3001\u81ea\u52d5\u3067\u632f\u308a\u8db3\u3057\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\n\u300cn\u300d\u3067\u30c0\u30a4\u30b9\u6570\u3092\u6307\u5b9a\u3002\n\u300cm\u300d\u3067\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u300c3\u300d\u304c\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\n\u300cp\u300d\u3067\u653b\u6483\u529b\u3092\u6307\u5b9a\u3002\u300c*\u300d\u306f\u300cx\u300d\u3067\u3082\u53ef\u3002\n\u653b\u6483\u529b\u6307\u5b9a\u3067\u547d\u4e2d\u5224\u5b9a\u3068\u306a\u308a\u3001\u6210\u529f\u6570\u3067\u306f\u306a\u304f\u3001\u30c0\u30e1\u30fc\u30b8\u3092\u7d50\u679c\u8868\u793a\u3057\u307e\u3059\u3002\n\nALC\u30b3\u30de\u30f3\u30c9\u306f\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u7121\u3057\u3067\u3001\u6210\u529f\u6570\u3001\u30c0\u30e1\u30fc\u30b8\u3092\u7d50\u679c\u8868\u793a\u3057\u307e\u3059\u3002\nALG\u30b3\u30de\u30f3\u30c9\u306f\u300c2\u4ee5\u4e0b\u300d\u3067\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n\u30fb5AL \u2192 5d6\u3067\u76ee\u6a19\u50243\u3002\n\u30fb5ALC \u2192 5d6\u3067\u76ee\u6a19\u50243\u3002\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u7121\u3057\u3002\n\u30fb6AL2 \u2192 6d6\u3067\u76ee\u6a19\u50242\u3002\n\u30fb4AL*5 \u2192 4d6\u3067\u76ee\u6a19\u50243\u3001\u653b\u6483\u529b5\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\u30fb7AL2x10 \u2192 7d6\u3067\u76ee\u6a19\u50242\u3001\u653b\u6483\u529b10\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\u30fb8ALC4x5 \u2192 8d6\u3067\u76ee\u6a19\u50244\u3001\u653b\u6483\u529b5\u3001\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u7121\u3057\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n"),o.$register_prefix("\\d+AL[CG]?"),x(o,"$initialize",function m(u){var r=this;return m.$$p=null,H(r,M(r,"initialize",m,!1,!0),"initialize",[u],null),r.sort_add_dice=!0}),x(o,"$eval_game_system_specific_command",function(u){var r=e,c=e,_=e,C=e,i=e,l=e;return t(u["$=~"](/(\d+)AL(C|G)?(\d+)?((x|\*)(\d+))?$/i))?(r=d("Regexp").$last_match(1).$to_i(),c=d("Regexp").$last_match(2)["$nil?"](),t(c)?_=1:R(d("Regexp").$last_match(2),"G")?(c=!0,_=2):_=0,C=(t(i=d("Regexp").$last_match(3))?i:3).$to_i(),l=(t(i=d("Regexp").$last_match(6))?i:0).$to_i(),this.$checkRoll(r,C,l,c,_)):e}),x(o,"$checkRoll",function(u,a,r,c,_){var w,i=e,l=e,s=e,g=e,v=e,q=e,A=e,h=e,E=e,L=e;for(i=0,l=0,s="",g=u;t(N(g,0))&&(q=(v=this.randomizer.$roll_barabara(g,6).$sort()).$join(","),A=0,h=0,T(v,"each",[],function(p){return null==p&&(p=e),t(G(p,a))&&(A=$(A,1)),t(G(p,_))?h=$(h,1):e}),i=$(i,A),R(h,0)||(l=$(l,1)),t(s["$empty?"]())||(s=$(s,"+")),s=$(s,A+"["+q+"]"),t(c));)g=h;return w=r["$!="](0),t(w)?(E=j(i,r),L="("+u+"D6<="+a+") \uff1e "+s+" \uff1e Hits\uff1a"+i+"*"+r+" \uff1e "+E+"\u30c0\u30e1\u30fc\u30b8"):L="("+u+"D6<="+a+") \uff1e "+s+" \uff1e \u6210\u529f\u6570\uff1a"+i,t(c)&&(L=$(L," / "+l+"\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5")),L})})}}]);