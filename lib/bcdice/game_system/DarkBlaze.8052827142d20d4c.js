(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[3005],{7810:(ee,re,L)=>{L(9993),Opal.modules["bcdice/normalize"]=function(r){var I,h,w,x=r.module,l=r.eqeqeq,q=r.def,t=r.eqeq,d=[],g=r.nil;return I=d,w=[x(d[0],"BCDice")].concat(I),(h=x(w[0],"Normalize")).$module_function(),q(h,"$comparison_operator",function(b){var f;return l(/<=|=</,f=b)?"<=":l(/>=|=>/,f)?">=":l(/<>|!=|=!/,f)?"!=":l(/</,f)?"<":l(/>/,f)?">":l(/=/,f)?"==":g}),q(h,"$target_number",function(b){return t(b,"?")?b:b.$to_i()})},Opal.modules["bcdice/format"]=function(r){var w,b,f,G,N,h,x=r.module,l=r.eqeqeq,q=r.def,t=r.truthy,d=r.eqeq,g=r.rb_gt,T=[],I=r.nil;return w=T,b=h=[x(T[0],"BCDice")].concat(w),G=[f=x(h[0],"Format")].concat(b),N=r.$r(G),f.$module_function(),q(f,"$comparison_operator",function(e){var S;return l("==",S=e)?"=":l("!=",S)?"<>":l(N("Symbol"),S)?e.$to_s():I}),q(f,"$modifier",function(e){return t(e["$nil?"]())?I:d(e,0)?"":t(g(e,0))?"+"+e:e.$to_s()})},Opal.queue(function(r){var P,Q,Z,R,C,a,M,V,K,x=r.module,l=r.klass,q=r.const_set,t=r.truthy,d=r.send,g=r.def,T=r.to_ary,I=r.neqeq,m=r.rb_plus,w=r.thrower,E=r.rb_lt,h=r.rb_minus,s=r.rb_le,b=r.rb_ge,f=r.rb_divide,G=r.eqeq,N=r.top,A=[],e=r.nil;return N.$require("bcdice/normalize"),N.$require("bcdice/format"),P=A,Q=K=[x(A[0],"BCDice")].concat(P),M=[x(K[0],"GameSystem")].concat(Q),V=r.$r(M),Z=M,C=[R=l(M[0],V("Base"),"DarkBlaze")].concat(Z),a=r.$r(C),R.$$prototype.randomizer=e,q(C[0],"ID","DarkBlaze"),q(C[0],"NAME","\u30c0\u30fc\u30af\u30d6\u30ec\u30a4\u30ba"),q(C[0],"SORT_KEY","\u305f\u3042\u304f\u3075\u308c\u3044\u3059"),q(C[0],"HELP_MESSAGE",'\u30fb\u884c\u70ba\u5224\u5b9a\u3000(DBxy#n)\n\u3000\u884c\u70ba\u5224\u5b9a\u5c02\u7528\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\n\u3000"DB(\u80fd\u529b)(\u6280\u80fd)#(\u4fee\u6b63)"\u3067\u30ed\u30fc\u30eb\u3057\u307e\u3059\u3002R\u30b3\u30de\u30f3\u30c9(3R6+n[x,y]>=m m\u306f\u96e3\u6613\u5ea6)\u306b\u8aad\u66ff\u3092\u3057\u307e\u3059\u3002\n\u3000\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3068\u30d5\u30a1\u30f3\u30d6\u30eb\u3082\u81ea\u52d5\u3067\u51e6\u7406\u3055\u308c\u307e\u3059\u3002\n\u3000DB@x@y#m \u3068 DBx,y#m \u306b\u3082\u5bfe\u5fdc\u3057\u307e\u3057\u305f\u3002\n\u3000\u4f8b\uff09DB33\u3000\u3000\u3000DB32#-1\u3000\u3000\u3000DB@3@1#1\u3000\u3000\u3000DB3,2\u3000\u3000\u3000DB23#1>=4\u3000\u3000\u30003R6+1[3,3]>=4\n\n\u30fb\u6398\u308a\u51fa\u3057\u888b\u8868\u3000(BTx)\n\u3000"BT(\u30c0\u30a4\u30b9\u6570)"\u3067\u6398\u308a\u51fa\u3057\u888b\u8868\u3092\u81ea\u52d5\u3067\u632f\u308a\u3001\u7d50\u679c\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\u3000\u4f8b\uff09BT1\u3000\u3000\u3000BT2\u3000\u3000\u3000BT[1...3]\n'),R.$register_prefix("DB","BT","3R6"),g(R,"$replace_text",function(n){return t(n["$=~"](/DB/i))&&(n=d(n,"gsub",[/DB(\d),(\d)/],function(){return"DB"+a("Regexp").$last_match(1)+a("Regexp").$last_match(2)}),n=d(n,"gsub",[/DB@(\d)@(\d)/],function(){return"DB"+a("Regexp").$last_match(1)+a("Regexp").$last_match(2)}),n=d(n,"gsub",[/DB(\d)(\d)(#(\d[+\-\d]*))/],function(){return"3R6+"+a("Regexp").$last_match(4)+"["+a("Regexp").$last_match(1)+","+a("Regexp").$last_match(2)+"]"}),n=d(n,"gsub",[/DB(\d)(\d)(#([+\-\d]*))/],function(){return"3R6"+a("Regexp").$last_match(4)+"["+a("Regexp").$last_match(1)+","+a("Regexp").$last_match(2)+"]"}),n=d(n,"gsub",[/DB(\d)(\d)/],function(){return"3R6["+a("Regexp").$last_match(1)+","+a("Regexp").$last_match(2)+"]"})),n}),g(R,"$check_roll",function(n){try{w("eval_return");var $,v,i=e,u=e,D=e,o=e,y=e,k=e,z=e,j=e,B=e;return n=this.$replace_text(n),t(i=/(^|\s)S?(3[rR]6([+\-\d]+)?(\[(\d+),(\d+)\])(([>=]+)(\d+))?)(\s|$)/i.$match(n))?(n=i["$[]"](2),u=0,D=1,o=1,y="",k=0,t(i["$[]"](3))&&(u=a("ArithmeticEvaluator").$eval(i["$[]"](3))),t(i["$[]"](4))&&(D=i["$[]"](5).$to_i(),o=i["$[]"](6).$to_i()),t(i["$[]"](7))&&(z=a("Normalize").$comparison_operator(i["$[]"](8)),y=a("Format").$comparison_operator(z),k=i["$[]"](9).$to_i()),v=this.$get_dice(u,D,o),j=null==($=T(v))[0]?e:$[0],B="("+n+") \uff1e "+(null==$[1]?e:$[1]),I(y,"")&&(z=a("Normalize").$comparison_operator(y),B=m(B,t(j.$send(z,k))?" \uff1e \u6210\u529f":" \uff1e \u5931\u6557")),B):e}catch(H){if(H===r.t_eval_return)return H.$v;throw H}}),g(R,"$get_dice",function(n,c,$){var D,y,_=e,i=e,u=e,o=e,k=e;return _=0,i=0,u=0,D=m(3,n.$abs()),y=(o=this.randomizer.$roll_barabara(D,6).$sort()).$join(","),d(3,"times",[],function(p){var B=e;return null==p&&(p=e),B=o["$[]"](p),t(E(n,0))&&(B=o["$[]"](h(h(D,p),1))),t(s(B,c))&&(_=m(_,1)),t(s(B,$))&&(_=m(_,1)),t(s(B,2))&&(i=m(i,1)),t(b(B,5))?u=m(u,1):e}),k="",t(b(i,3))&&(k=" \uff1e \u30af\u30ea\u30c6\u30a3\u30ab\u30eb",_=m(6,$)),t(b(u,3))&&(k=" \uff1e \u30d5\u30a1\u30f3\u30d6\u30eb",_=0),[_,_+"["+y+"]"+k]}),g(R,"$eval_game_system_specific_command",function(n){var c,v=e,_=e,i=e;return t(v=/^BT(\d)?$/i.$match(n))?(_=t(i=(c=v["$[]"](1))===e||null==c?e:c.$to_i())?i:1,this.$get_horidasibukuro_table(_)):this.$check_roll(n)}),g(R,"$get_horidasibukuro_table",function(n){var i,c=this,$=e,v=e,_=e,u=e,o=e;return $="1",v=["\u87f2\u7532","\u91d1\u5c5e","\u91d1\u8ca8","\u690d\u7269","\u7363\u76ae","\u7adc\u9c57","\u30ec\u30a2\u30e2\u30ce","\u30ec\u30a2\u30e2\u30ce"],_=["\u706b\u708e\u77f3","\u96f7\u6483\u77f3","\u6c37\u7d50\u77f3"],i=c.randomizer.$roll_sum(2,6),u=c.randomizer.$roll_sum(n,6),c.$debug("dice",n),c.$debug("num1",i),c.$debug("num2",u),t(s(i,4))?(u=c.randomizer.$roll_once(6),$="\u300a"+_["$[]"](h(f(u,2).$to_i(),1))+"\u300b\u3092"+n+"\u500b\u7372\u5f97"):G(i,7)?$="\u300a\u91d1\u8ca8\u300b\u3092"+u+"\u679a\u7372\u5f97":(o=v["$[]"](h(i,5)),$=t(s(u,3))?"\u300a"+o+" I\u300b\u30921\u500b\u7372\u5f97":t(s(u,5))?"\u300a"+o+" I\u300b\u30922\u500b\u7372\u5f97":t(s(u,7))?"\u300a"+o+" I\u300b\u30923\u500b\u7372\u5f97":t(s(u,9))?"\u300a"+o+" II\u300b\u30921\u500b\u7372\u5f97":t(s(u,11))?"\u300a"+o+" I\u300b\u30922\u500b\u300a"+o+" II\u300b\u30921\u500b\u7372\u5f97":t(s(u,13))?"\u300a"+o+" I\u300b\u30922\u500b\u300a"+o+" II\u300b\u30922\u500b\u7372\u5f97":t(s(u,15))?"\u300a"+o+" III\u300b\u30921\u500b\u7372\u5f97":t(s(u,17))?"\u300a"+o+" II\u300b\u30922\u500b\u300a"+o+" III\u300b\u30921\u500b\u7372\u5f97":"\u300a"+o+" II\u300b\u30922\u500b\u300a"+o+" III\u300b\u30922\u500b\u7372\u5f97"),I($,"1")&&($="\u6398\u308a\u51fa\u3057\u888b\u8868["+i+","+u+"] \uff1e "+$),$})})}}]);